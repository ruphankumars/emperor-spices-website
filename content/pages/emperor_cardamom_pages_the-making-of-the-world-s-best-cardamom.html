<!doctype html>
<html class="no-js" lang="en">
<head>
  
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WW8X6G4');</script>
<!-- End Google Tag Manager -->

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-NS39W3KVRX"></script>
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  
  gtag('config', 'G-NS39W3KVRX');
  </script>

  <!-- Alchemy 3.1.13 -->
  
  <meta name="google-site-verification" content="su2QN-W1G0G1HEue1_S6bXxwCxQTYLq9Zbk9AIEPEC0" />
  
  <meta name="facebook-domain-verification" content="sqb3ag093drbpe53guctmr0ej9zfdh" />
  <!-- Facebook Pixel Code -->
  <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '960097991265838');
    fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=960097991265838&ev=PageView&noscript=1"
  /></noscript>
  <!-- End Facebook Pixel Code -->

  <!-- Global site tag (gtag.js) - Google Ads: 10994035301 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-10994035301"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'AW-10994035301');
  </script>



  <link rel="preload" href="//www.emperorspices.com/cdn/shop/t/2/assets/styles.css?v=22033546572626643371764582396" as="style">
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<link rel="preconnect" href="https://cdn.shopify.com" crossorigin>
<link rel="preconnect" href="https://fonts.shopify.com" crossorigin>
<link rel="preconnect" href="https://monorail-edge.shopifysvc.com"><link rel="preload" as="font" href="//www.emperorspices.com/cdn/fonts/montserrat/montserrat_n5.07ef3781d9c78c8b93c98419da7ad4fbeebb6635.woff2" type="font/woff2" crossorigin>
<link rel="preload" as="font" href="//www.emperorspices.com/cdn/fonts/montserrat/montserrat_n5.07ef3781d9c78c8b93c98419da7ad4fbeebb6635.woff2" type="font/woff2" crossorigin>
<link rel="preload" as="font" href="//www.emperorspices.com/cdn/fonts/montserrat/montserrat_n4.81949fa0ac9fd2021e16436151e8eaa539321637.woff2" type="font/woff2" crossorigin>
<link rel="preload" as="font" href="//www.emperorspices.com/cdn/fonts/montserrat/montserrat_n4.81949fa0ac9fd2021e16436151e8eaa539321637.woff2" type="font/woff2" crossorigin><link rel="preload" as="font" href="//www.emperorspices.com/cdn/fonts/montserrat/montserrat_n7.3c434e22befd5c18a6b4afadb1e3d77c128c7939.woff2" type="font/woff2" crossorigin><link rel="preload" as="font" href="//www.emperorspices.com/cdn/fonts/montserrat/montserrat_i5.d3a783eb0cc26f2fda1e99d1dfec3ebaea1dc164.woff2" type="font/woff2" crossorigin><link rel="preload" as="font" href="//www.emperorspices.com/cdn/fonts/montserrat/montserrat_i7.a0d4a463df4f146567d871890ffb3c80408e7732.woff2" type="font/woff2" crossorigin><link rel="preload" href="//www.emperorspices.com/cdn/shop/t/2/assets/vendor.js?v=10864675333366863941625480286" as="script">
<link rel="preload" href="//www.emperorspices.com/cdn/shop/t/2/assets/theme.js?v=82712249073743220121625480285" as="script"><link rel="canonical" href="https://www.emperorspices.com/pages/the-making-of-the-world-s-best-cardamom" /><link rel="shortcut icon" href="//www.emperorspices.com/cdn/shop/files/ESP_Website_MISC-18.png?v=1628095206" type="image/png" /><meta name="description" content="There is a lot that goes into making the world’s best cardamom. It all begins with where it is grown. Kerala received the GI tag of Alleppey Green Cardamom. A geographical indication (GI) is a name or sign used on certain products which corresponds to a specific geographical location or origin (e.g., a town, country)">

  <meta name="theme-color" content="#6a7a44">

  <title>
    The Making of the Worlds Best Cardamom &ndash; Emperor Spices Cardamom
  </title>

  <meta property="og:site_name" content="Emperor Spices Cardamom">
<meta property="og:url" content="https://www.emperorspices.com/pages/the-making-of-the-world-s-best-cardamom">
<meta property="og:title" content="The Making of the Worlds Best Cardamom">
<meta property="og:type" content="website">
<meta property="og:description" content="There is a lot that goes into making the world’s best cardamom. It all begins with where it is grown. Kerala received the GI tag of Alleppey Green Cardamom. A geographical indication (GI) is a name or sign used on certain products which corresponds to a specific geographical location or origin (e.g., a town, country)"><meta property="og:image" content="http://www.emperorspices.com/cdn/shop/files/shutterstock_1823890088_3eead5d9-0e05-4d65-b4e6-a29a193c356a_1200x1200.jpg?v=1628769541">
  <meta property="og:image:secure_url" content="https://www.emperorspices.com/cdn/shop/files/shutterstock_1823890088_3eead5d9-0e05-4d65-b4e6-a29a193c356a_1200x1200.jpg?v=1628769541">
  <meta property="og:image:width" content="1000">
  <meta property="og:image:height" content="667"><meta name="twitter:site" content="@allepeycardamom"><meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="The Making of the Worlds Best Cardamom">
<meta name="twitter:description" content="There is a lot that goes into making the world’s best cardamom. It all begins with where it is grown. Kerala received the GI tag of Alleppey Green Cardamom. A geographical indication (GI) is a name or sign used on certain products which corresponds to a specific geographical location or origin (e.g., a town, country)">


  <link href="//www.emperorspices.com/cdn/shop/t/2/assets/styles.css?v=22033546572626643371764582396" rel="stylesheet" type="text/css" media="all" />

  <script>window.performance && window.performance.mark && window.performance.mark('shopify.content_for_header.start');</script><meta name="google-site-verification" content="v-tMHn5BAwl7vpssTaaorQzrNHkM9CKWfgFQ5aGYfzc">
<meta id="shopify-digital-wallet" name="shopify-digital-wallet" content="/58159268038/digital_wallets/dialog">
<meta id="in-context-paypal-metadata" data-shop-id="58159268038" data-venmo-supported="false" data-environment="production" data-locale="en_US" data-paypal-v4="true" data-currency="INR">
<script async="async" src="/checkouts/internal/preloads.js?locale=en-IN"></script>
<script id="shopify-features" type="application/json">{"accessToken":"234eac96f4aafe32297d527b0b359edf","betas":["rich-media-storefront-analytics"],"domain":"www.emperorspices.com","predictiveSearch":true,"shopId":58159268038,"locale":"en"}</script>
<script>var Shopify = Shopify || {};
Shopify.shop = "emperorspices-cardamom.myshopify.com";
Shopify.locale = "en";
Shopify.currency = {"active":"INR","rate":"1.0"};
Shopify.country = "IN";
Shopify.theme = {"name":"Alchemy","id":124430713030,"schema_name":"Alchemy","schema_version":"3.1.13","theme_store_id":657,"role":"main"};
Shopify.theme.handle = "null";
Shopify.theme.style = {"id":null,"handle":null};
Shopify.cdnHost = "www.emperorspices.com/cdn";
Shopify.routes = Shopify.routes || {};
Shopify.routes.root = "/";</script>
<script type="module">!function(o){(o.Shopify=o.Shopify||{}).modules=!0}(window);</script>
<script>!function(o){function n(){var o=[];function n(){o.push(Array.prototype.slice.apply(arguments))}return n.q=o,n}var t=o.Shopify=o.Shopify||{};t.loadFeatures=n(),t.autoloadFeatures=n()}(window);</script>
<script id="shop-js-analytics" type="application/json">{"pageType":"page"}</script>
<script defer="defer" async type="module" src="//www.emperorspices.com/cdn/shopifycloud/shop-js/modules/v2/client.init-shop-cart-sync_BT-GjEfc.en.esm.js"></script>
<script defer="defer" async type="module" src="//www.emperorspices.com/cdn/shopifycloud/shop-js/modules/v2/chunk.common_D58fp_Oc.esm.js"></script>
<script defer="defer" async type="module" src="//www.emperorspices.com/cdn/shopifycloud/shop-js/modules/v2/chunk.modal_xMitdFEc.esm.js"></script>
<script type="module">
  await import("//www.emperorspices.com/cdn/shopifycloud/shop-js/modules/v2/client.init-shop-cart-sync_BT-GjEfc.en.esm.js");
await import("//www.emperorspices.com/cdn/shopifycloud/shop-js/modules/v2/chunk.common_D58fp_Oc.esm.js");
await import("//www.emperorspices.com/cdn/shopifycloud/shop-js/modules/v2/chunk.modal_xMitdFEc.esm.js");

  window.Shopify.SignInWithShop?.initShopCartSync?.({"fedCMEnabled":true,"windoidEnabled":true});

</script>
<script>(function() {
  var isLoaded = false;
  function asyncLoad() {
    if (isLoaded) return;
    isLoaded = true;
    var urls = ["https:\/\/gtranslate.io\/shopify\/gtranslate.js?shop=emperorspices-cardamom.myshopify.com","\/\/shopify.privy.com\/widget.js?shop=emperorspices-cardamom.myshopify.com","https:\/\/cdn.shopify.com\/s\/files\/1\/0683\/1371\/0892\/files\/splmn-shopify-prod-August-31.min.js?v=1693985059\u0026shop=emperorspices-cardamom.myshopify.com","https:\/\/emperorspices-cardamom.myshopify.com\/apps\/buckscc\/sdk.min.js?shop=emperorspices-cardamom.myshopify.com","\/\/social-login.oxiapps.com\/api\/init?vt=928350\u0026shop=emperorspices-cardamom.myshopify.com","https:\/\/emperorspices-cardamom.myshopify.com\/apps\/delivery\/delivery_coder.js?t=1711784772.4917\u0026n=306201207\u0026shop=emperorspices-cardamom.myshopify.com","https:\/\/sr-promise-prod.s3.ap-south-1.amazonaws.com\/sr-promise\/static\/shopify-app.js?preview=0\u0026uuid=aead5e16-e789-4510-be74-cf0e2ea0eb85\u0026shop=emperorspices-cardamom.myshopify.com","\/\/cdn.shopify.com\/proxy\/8372566f53df01dddc332b7903b48fda7748f457aeabdf684510009f1fa61f81\/cod-king-6a9766d9c49f.herokuapp.com\/script.js?shop=emperorspices-cardamom.myshopify.com\u0026sp-cache-control=cHVibGljLCBtYXgtYWdlPTkwMA"];
    for (var i = 0; i < urls.length; i++) {
      var s = document.createElement('script');
      s.type = 'text/javascript';
      s.async = true;
      s.src = urls[i];
      var x = document.getElementsByTagName('script')[0];
      x.parentNode.insertBefore(s, x);
    }
  };
  if(window.attachEvent) {
    window.attachEvent('onload', asyncLoad);
  } else {
    window.addEventListener('load', asyncLoad, false);
  }
})();</script>
<script id="__st">var __st={"a":58159268038,"offset":19800,"reqid":"6a9c945a-8f36-4463-b97e-7a49badc7355-1769236211","pageurl":"www.emperorspices.com\/pages\/the-making-of-the-world-s-best-cardamom","s":"pages-85401796806","u":"447413714589","p":"page","rtyp":"page","rid":85401796806};</script>
<script>window.ShopifyPaypalV4VisibilityTracking = true;</script>
<script id="captcha-bootstrap">!function(){'use strict';const t='contact',e='account',n='new_comment',o=[[t,t],['blogs',n],['comments',n],[t,'customer']],c=[[e,'customer_login'],[e,'guest_login'],[e,'recover_customer_password'],[e,'create_customer']],r=t=>t.map((([t,e])=>`form[action*='/${t}']:not([data-nocaptcha='true']) input[name='form_type'][value='${e}']`)).join(','),a=t=>()=>t?[...document.querySelectorAll(t)].map((t=>t.form)):[];function s(){const t=[...o],e=r(t);return a(e)}const i='password',u='form_key',d=['recaptcha-v3-token','g-recaptcha-response','h-captcha-response',i],f=()=>{try{return window.sessionStorage}catch{return}},m='__shopify_v',_=t=>t.elements[u];function p(t,e,n=!1){try{const o=window.sessionStorage,c=JSON.parse(o.getItem(e)),{data:r}=function(t){const{data:e,action:n}=t;return t[m]||n?{data:e,action:n}:{data:t,action:n}}(c);for(const[e,n]of Object.entries(r))t.elements[e]&&(t.elements[e].value=n);n&&o.removeItem(e)}catch(o){console.error('form repopulation failed',{error:o})}}const l='form_type',E='cptcha';function T(t){t.dataset[E]=!0}const w=window,h=w.document,L='Shopify',v='ce_forms',y='captcha';let A=!1;((t,e)=>{const n=(g='f06e6c50-85a8-45c8-87d0-21a2b65856fe',I='https://cdn.shopify.com/shopifycloud/storefront-forms-hcaptcha/ce_storefront_forms_captcha_hcaptcha.v1.5.2.iife.js',D={infoText:'Protected by hCaptcha',privacyText:'Privacy',termsText:'Terms'},(t,e,n)=>{const o=w[L][v],c=o.bindForm;if(c)return c(t,g,e,D).then(n);var r;o.q.push([[t,g,e,D],n]),r=I,A||(h.body.append(Object.assign(h.createElement('script'),{id:'captcha-provider',async:!0,src:r})),A=!0)});var g,I,D;w[L]=w[L]||{},w[L][v]=w[L][v]||{},w[L][v].q=[],w[L][y]=w[L][y]||{},w[L][y].protect=function(t,e){n(t,void 0,e),T(t)},Object.freeze(w[L][y]),function(t,e,n,w,h,L){const[v,y,A,g]=function(t,e,n){const i=e?o:[],u=t?c:[],d=[...i,...u],f=r(d),m=r(i),_=r(d.filter((([t,e])=>n.includes(e))));return[a(f),a(m),a(_),s()]}(w,h,L),I=t=>{const e=t.target;return e instanceof HTMLFormElement?e:e&&e.form},D=t=>v().includes(t);t.addEventListener('submit',(t=>{const e=I(t);if(!e)return;const n=D(e)&&!e.dataset.hcaptchaBound&&!e.dataset.recaptchaBound,o=_(e),c=g().includes(e)&&(!o||!o.value);(n||c)&&t.preventDefault(),c&&!n&&(function(t){try{if(!f())return;!function(t){const e=f();if(!e)return;const n=_(t);if(!n)return;const o=n.value;o&&e.removeItem(o)}(t);const e=Array.from(Array(32),(()=>Math.random().toString(36)[2])).join('');!function(t,e){_(t)||t.append(Object.assign(document.createElement('input'),{type:'hidden',name:u})),t.elements[u].value=e}(t,e),function(t,e){const n=f();if(!n)return;const o=[...t.querySelectorAll(`input[type='${i}']`)].map((({name:t})=>t)),c=[...d,...o],r={};for(const[a,s]of new FormData(t).entries())c.includes(a)||(r[a]=s);n.setItem(e,JSON.stringify({[m]:1,action:t.action,data:r}))}(t,e)}catch(e){console.error('failed to persist form',e)}}(e),e.submit())}));const S=(t,e)=>{t&&!t.dataset[E]&&(n(t,e.some((e=>e===t))),T(t))};for(const o of['focusin','change'])t.addEventListener(o,(t=>{const e=I(t);D(e)&&S(e,y())}));const B=e.get('form_key'),M=e.get(l),P=B&&M;t.addEventListener('DOMContentLoaded',(()=>{const t=y();if(P)for(const e of t)e.elements[l].value===M&&p(e,B);[...new Set([...A(),...v().filter((t=>'true'===t.dataset.shopifyCaptcha))])].forEach((e=>S(e,t)))}))}(h,new URLSearchParams(w.location.search),n,t,e,['guest_login'])})(!0,!0)}();</script>
<script integrity="sha256-4kQ18oKyAcykRKYeNunJcIwy7WH5gtpwJnB7kiuLZ1E=" data-source-attribution="shopify.loadfeatures" defer="defer" src="//www.emperorspices.com/cdn/shopifycloud/storefront/assets/storefront/load_feature-a0a9edcb.js" crossorigin="anonymous"></script>
<script data-source-attribution="shopify.dynamic_checkout.dynamic.init">var Shopify=Shopify||{};Shopify.PaymentButton=Shopify.PaymentButton||{isStorefrontPortableWallets:!0,init:function(){window.Shopify.PaymentButton.init=function(){};var t=document.createElement("script");t.src="https://www.emperorspices.com/cdn/shopifycloud/portable-wallets/latest/portable-wallets.en.js",t.type="module",document.head.appendChild(t)}};
</script>
<script data-source-attribution="shopify.dynamic_checkout.buyer_consent">
  function portableWalletsHideBuyerConsent(e){var t=document.getElementById("shopify-buyer-consent"),n=document.getElementById("shopify-subscription-policy-button");t&&n&&(t.classList.add("hidden"),t.setAttribute("aria-hidden","true"),n.removeEventListener("click",e))}function portableWalletsShowBuyerConsent(e){var t=document.getElementById("shopify-buyer-consent"),n=document.getElementById("shopify-subscription-policy-button");t&&n&&(t.classList.remove("hidden"),t.removeAttribute("aria-hidden"),n.addEventListener("click",e))}window.Shopify?.PaymentButton&&(window.Shopify.PaymentButton.hideBuyerConsent=portableWalletsHideBuyerConsent,window.Shopify.PaymentButton.showBuyerConsent=portableWalletsShowBuyerConsent);
</script>
<script data-source-attribution="shopify.dynamic_checkout.cart.bootstrap">document.addEventListener("DOMContentLoaded",(function(){function t(){return document.querySelector("shopify-accelerated-checkout-cart, shopify-accelerated-checkout")}if(t())Shopify.PaymentButton.init();else{new MutationObserver((function(e,n){t()&&(Shopify.PaymentButton.init(),n.disconnect())})).observe(document.body,{childList:!0,subtree:!0})}}));
</script>

<script>window.performance && window.performance.mark && window.performance.mark('shopify.content_for_header.end');</script>

  <script>
    document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
    window.theme = window.theme || {};
    theme.money_format = "\u003cspan class=money\u003eRs. {{amount}}\u003c\/span\u003e";
    theme.money_container = '.theme-money';
    window.lazySizesConfig = window.lazySizesConfig || {
      expFactor: 2.0
    };
    theme.strings = {
      previous: "Previous",
      next: "Next",
      close: "Close",
      imageSlider: "Image slider",
      addressError: "Error looking up that address",
      addressNoResults: "No results for that address",
      addressQueryLimit: "You have exceeded the Google API usage limit. Consider upgrading to a \u003ca href=\"https:\/\/developers.google.com\/maps\/premium\/usage-limits\"\u003ePremium Plan\u003c\/a\u003e.",
      authError: "There was a problem authenticating your Google Maps API Key.",
      priceNonExistent: "Unavailable",
      buttonDefault: "Add to Cart",
      buttonNoStock: "Out of stock",
      buttonNoVariant: "Unavailable",
      products_product_unit_price_separator: " \/ ",
      productsListingFrom: "From",
      searchResultsPages: "Pages",
      searchSeeAll: "See all results",
      cartTermsConfirmation: "You must agree to the terms and conditions before continuing.",
      addingToCart: "Adding",
      addedToCart: "Added to cart"
    };
    theme.routes = {
      search_url: '/search',
      cart_url: '/cart',
      cart_add_url: '/cart/add'
    };
    theme.enableOverlapTransition = true;
    theme.productImageAlign = true;

    theme.checkForBannerBehindHeader = function() {
      var bodyClasses = document.body.classList;
      var elBanner = document.querySelector('.banner-under-header');

      if (elBanner) {
        bodyClasses.add('has-banner');
        bodyClasses.remove('has-text-banner', 'show-contrast-logo', 'no-banner');

        if (document.querySelector('.pageheader__contents--overlap')) {
          bodyClasses.add('header-overlapping');
        }
      } else {
        var elTextBanner = document.querySelector('.feature-page-title');
        
        bodyClasses.remove('has-banner');
        
        if (elTextBanner) {
          

          bodyClasses.add('has-text-banner');
        } else {
          bodyClasses.add('no-banner');
        }
      }
    }
  </script>

<script>
window.mlvedaShopCurrency = "INR";
window.shopCurrency = "INR";
window.supported_currencies = "INR";
</script>
  
  <link href="//www.emperorspices.com/cdn/shop/t/2/assets/my-style.scss.css?v=56781401034784831111767617769" rel="stylesheet" type="text/css" media="all" />
  <link href="//www.emperorspices.com/cdn/shop/t/2/assets/my-responsive.scss.css?v=139833463159813323211711087466" rel="stylesheet" type="text/css" media="all" />  
  
  
        <script>
        window.bucksCC = window.bucksCC || {};
        window.bucksCC.config = {}; window.bucksCC.reConvert = function () {};
        "function"!=typeof Object.assign&&(Object.assign=function(n){if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(n),t=1;t<arguments.length;t++){var e=arguments[t];if(null!=e)for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o])}return r});
        Object.assign(window.bucksCC.config, {"id":null,"active":true,"userCurrency":"","selectedCurrencies":"[{\"USD\":\"US Dollar (USD)\"},{\"INR\":\"Indian Rupee (INR)\"}]","autoSwitchCurrencyLocationBased":true,"moneyWithCurrencyFormat":false,"autoSwitchOnlyToPreferredCurrency":true,"showCurrencyCodesOnly":false,"displayPositionType":"floating","displayPosition":"bottom_left","customPosition":"","positionPlacement":"after","mobileDisplayPositionType":"floating","mobileDisplayPosition":"bottom_left","mobileCustomPosition":"","mobilePositionPlacement":"after","showInDesktop":true,"showInMobileDevice":true,"showOriginalPriceOnMouseHover":false,"customOptionsPlacement":false,"optionsPlacementType":"left_upwards","customOptionsPlacementMobile":false,"optionsPlacementTypeMobile":"left_upwards","cartNotificationStatus":false,"cartNotificationMessage":"We process all orders in {STORE_CURRENCY} and you will be checkout using the most current exchange rates.","cartNotificationBackgroundColor":"rgba(251,245,245,1)","cartNotificationTextColor":"rgba(30,30,30,1)","roundingDecimal":0.99,"priceRoundingType":"none","defaultCurrencyRounding":false,"integrateWithOtherApps":true,"themeType":"default","backgroundColor":"rgba(255,255,255,1)","textColor":"rgba(30,30,30,1)","hoverColor":"rgba(255,255,255,1)","borderStyle":"boxShadow","instantLoader":false,"darkMode":false,"flagStyle":"modern","flagTheme":"rounded","flagDisplayOption":"showCurrencyOnly","trigger":"","expertSettings":"{\"css\":\"\"}","adminSettings":true}, { money_format: "\u003cspan class=money\u003eRs. {{amount}}\u003c\/span\u003e", money_with_currency_format: "\u003cspan class=money\u003eRs. {{amount}}\u003c\/span\u003e", userCurrency: "INR" }); window.bucksCC.config.multiCurrencies = [];  window.bucksCC.config.multiCurrencies = "INR".split(',') || ''; window.bucksCC.config.cartCurrency = "INR" || '';  
        </script>
            <style type='text/css'>
    :root {--delivery-country-image-url:url("https://dc.codericp.com/delivery/code_f.png");}
    .icon-ad_f{background-image:var(--delivery-country-image-url);background-position:0 0;width:20px;height:12px}.icon-ae_f{background-image:var(--delivery-country-image-url);background-position:-21px 0;width:20px;height:12px}.icon-af_f{background-image:var(--delivery-country-image-url);background-position:0 -13px;width:20px;height:12px}.icon-ag_f{background-image:var(--delivery-country-image-url);background-position:-21px -13px;width:20px;height:12px}.icon-ai_f{background-image:var(--delivery-country-image-url);background-position:0 -26px;width:20px;height:12px}.icon-al_f{background-image:var(--delivery-country-image-url);background-position:-21px -26px;width:20px;height:12px}.icon-am_f{background-image:var(--delivery-country-image-url);background-position:-42px 0;width:20px;height:12px}.icon-ao_f{background-image:var(--delivery-country-image-url);background-position:-42px -13px;width:20px;height:12px}.icon-aq_f{background-image:var(--delivery-country-image-url);background-position:-42px -26px;width:20px;height:12px}.icon-ar_f{background-image:var(--delivery-country-image-url);background-position:0 -39px;width:20px;height:12px}.icon-as_f{background-image:var(--delivery-country-image-url);background-position:-21px -39px;width:20px;height:12px}.icon-at_f{background-image:var(--delivery-country-image-url);background-position:-42px -39px;width:20px;height:12px}.icon-au_f{background-image:var(--delivery-country-image-url);background-position:-63px 0;width:20px;height:12px}.icon-aw_f{background-image:var(--delivery-country-image-url);background-position:-63px -13px;width:20px;height:12px}.icon-ax_f{background-image:var(--delivery-country-image-url);background-position:-63px -26px;width:20px;height:12px}.icon-az_f{background-image:var(--delivery-country-image-url);background-position:-63px -39px;width:20px;height:12px}.icon-ba_f{background-image:var(--delivery-country-image-url);background-position:0 -52px;width:20px;height:12px}.icon-bb_f{background-image:var(--delivery-country-image-url);background-position:-21px -52px;width:20px;height:12px}.icon-bd_f{background-image:var(--delivery-country-image-url);background-position:-42px -52px;width:20px;height:12px}.icon-be_f{background-image:var(--delivery-country-image-url);background-position:-63px -52px;width:20px;height:12px}.icon-bf_f{background-image:var(--delivery-country-image-url);background-position:0 -65px;width:20px;height:12px}.icon-bg_f{background-image:var(--delivery-country-image-url);background-position:-21px -65px;width:20px;height:12px}.icon-bh_f{background-image:var(--delivery-country-image-url);background-position:-42px -65px;width:20px;height:12px}.icon-bi_f{background-image:var(--delivery-country-image-url);background-position:-63px -65px;width:20px;height:12px}.icon-bj_f{background-image:var(--delivery-country-image-url);background-position:-84px 0;width:20px;height:12px}.icon-bl_f{background-image:var(--delivery-country-image-url);background-position:-84px -13px;width:20px;height:12px}.icon-bm_f{background-image:var(--delivery-country-image-url);background-position:-84px -26px;width:20px;height:12px}.icon-bn_f{background-image:var(--delivery-country-image-url);background-position:-84px -39px;width:20px;height:12px}.icon-bo_f{background-image:var(--delivery-country-image-url);background-position:-84px -52px;width:20px;height:12px}.icon-bq_f{background-image:var(--delivery-country-image-url);background-position:-84px -65px;width:20px;height:12px}.icon-br_f{background-image:var(--delivery-country-image-url);background-position:0 -78px;width:20px;height:12px}.icon-bs_f{background-image:var(--delivery-country-image-url);background-position:-21px -78px;width:20px;height:12px}.icon-bt_f{background-image:var(--delivery-country-image-url);background-position:-42px -78px;width:20px;height:12px}.icon-bv_f{background-image:var(--delivery-country-image-url);background-position:-63px -78px;width:20px;height:12px}.icon-bw_f{background-image:var(--delivery-country-image-url);background-position:-84px -78px;width:20px;height:12px}.icon-by_f{background-image:var(--delivery-country-image-url);background-position:0 -91px;width:20px;height:12px}.icon-bz_f{background-image:var(--delivery-country-image-url);background-position:-21px -91px;width:20px;height:12px}.icon-ca_f{background-image:var(--delivery-country-image-url);background-position:-42px -91px;width:20px;height:12px}.icon-cc_f{background-image:var(--delivery-country-image-url);background-position:-63px -91px;width:20px;height:12px}.icon-cd_f{background-image:var(--delivery-country-image-url);background-position:-84px -91px;width:20px;height:12px}.icon-cf_f{background-image:var(--delivery-country-image-url);background-position:-105px 0;width:20px;height:12px}.icon-cg_f{background-image:var(--delivery-country-image-url);background-position:-105px -13px;width:20px;height:12px}.icon-ch_f{background-image:var(--delivery-country-image-url);background-position:-105px -26px;width:20px;height:12px}.icon-ci_f{background-image:var(--delivery-country-image-url);background-position:-105px -39px;width:20px;height:12px}.icon-ck_f{background-image:var(--delivery-country-image-url);background-position:-105px -52px;width:20px;height:12px}.icon-cl_f{background-image:var(--delivery-country-image-url);background-position:-105px -65px;width:20px;height:12px}.icon-cm_f{background-image:var(--delivery-country-image-url);background-position:-105px -78px;width:20px;height:12px}.icon-cn_f{background-image:var(--delivery-country-image-url);background-position:-105px -91px;width:20px;height:12px}.icon-co_f{background-image:var(--delivery-country-image-url);background-position:0 -104px;width:20px;height:12px}.icon-cr_f{background-image:var(--delivery-country-image-url);background-position:-21px -104px;width:20px;height:12px}.icon-cu_f{background-image:var(--delivery-country-image-url);background-position:-42px -104px;width:20px;height:12px}.icon-cv_f{background-image:var(--delivery-country-image-url);background-position:-63px -104px;width:20px;height:12px}.icon-cw_f{background-image:var(--delivery-country-image-url);background-position:-84px -104px;width:20px;height:12px}.icon-cx_f{background-image:var(--delivery-country-image-url);background-position:-105px -104px;width:20px;height:12px}.icon-cy_f{background-image:var(--delivery-country-image-url);background-position:-126px 0;width:20px;height:12px}.icon-cz_f{background-image:var(--delivery-country-image-url);background-position:-126px -13px;width:20px;height:12px}.icon-de_f{background-image:var(--delivery-country-image-url);background-position:-126px -26px;width:20px;height:12px}.icon-dj_f{background-image:var(--delivery-country-image-url);background-position:-126px -39px;width:20px;height:12px}.icon-dk_f{background-image:var(--delivery-country-image-url);background-position:-126px -52px;width:20px;height:12px}.icon-dm_f{background-image:var(--delivery-country-image-url);background-position:-126px -65px;width:20px;height:12px}.icon-do_f{background-image:var(--delivery-country-image-url);background-position:-126px -78px;width:20px;height:12px}.icon-dz_f{background-image:var(--delivery-country-image-url);background-position:-126px -91px;width:20px;height:12px}.icon-ec_f{background-image:var(--delivery-country-image-url);background-position:-126px -104px;width:20px;height:12px}.icon-ee_f{background-image:var(--delivery-country-image-url);background-position:0 -117px;width:20px;height:12px}.icon-eg_f{background-image:var(--delivery-country-image-url);background-position:-21px -117px;width:20px;height:12px}.icon-eh_f{background-image:var(--delivery-country-image-url);background-position:-42px -117px;width:20px;height:12px}.icon-er_f{background-image:var(--delivery-country-image-url);background-position:-63px -117px;width:20px;height:12px}.icon-es_f{background-image:var(--delivery-country-image-url);background-position:-84px -117px;width:20px;height:12px}.icon-et_f{background-image:var(--delivery-country-image-url);background-position:-105px -117px;width:20px;height:12px}.icon-fi_f{background-image:var(--delivery-country-image-url);background-position:-126px -117px;width:20px;height:12px}.icon-fj_f{background-image:var(--delivery-country-image-url);background-position:0 -130px;width:20px;height:12px}.icon-fk_f{background-image:var(--delivery-country-image-url);background-position:-21px -130px;width:20px;height:12px}.icon-fm_f{background-image:var(--delivery-country-image-url);background-position:-42px -130px;width:20px;height:12px}.icon-fo_f{background-image:var(--delivery-country-image-url);background-position:-63px -130px;width:20px;height:12px}.icon-fr_f{background-image:var(--delivery-country-image-url);background-position:-84px -130px;width:20px;height:12px}.icon-ga_f{background-image:var(--delivery-country-image-url);background-position:-105px -130px;width:20px;height:12px}.icon-gb_f{background-image:var(--delivery-country-image-url);background-position:-126px -130px;width:20px;height:12px}.icon-gd_f{background-image:var(--delivery-country-image-url);background-position:-147px 0;width:20px;height:12px}.icon-ge_f{background-image:var(--delivery-country-image-url);background-position:-147px -13px;width:20px;height:12px}.icon-gf_f{background-image:var(--delivery-country-image-url);background-position:-147px -26px;width:20px;height:12px}.icon-gg_f{background-image:var(--delivery-country-image-url);background-position:-147px -39px;width:20px;height:12px}.icon-gh_f{background-image:var(--delivery-country-image-url);background-position:-147px -52px;width:20px;height:12px}.icon-gi_f{background-image:var(--delivery-country-image-url);background-position:-147px -65px;width:20px;height:12px}.icon-gl_f{background-image:var(--delivery-country-image-url);background-position:-147px -78px;width:20px;height:12px}.icon-gm_f{background-image:var(--delivery-country-image-url);background-position:-147px -91px;width:20px;height:12px}.icon-gn_f{background-image:var(--delivery-country-image-url);background-position:-147px -104px;width:20px;height:12px}.icon-gp_f{background-image:var(--delivery-country-image-url);background-position:-147px -117px;width:20px;height:12px}.icon-gq_f{background-image:var(--delivery-country-image-url);background-position:-147px -130px;width:20px;height:12px}.icon-gr_f{background-image:var(--delivery-country-image-url);background-position:0 -143px;width:20px;height:12px}.icon-gs_f{background-image:var(--delivery-country-image-url);background-position:-21px -143px;width:20px;height:12px}.icon-gt_f{background-image:var(--delivery-country-image-url);background-position:-42px -143px;width:20px;height:12px}.icon-gu_f{background-image:var(--delivery-country-image-url);background-position:-63px -143px;width:20px;height:12px}.icon-gw_f{background-image:var(--delivery-country-image-url);background-position:-84px -143px;width:20px;height:12px}.icon-gy_f{background-image:var(--delivery-country-image-url);background-position:-105px -143px;width:20px;height:12px}.icon-hk_f{background-image:var(--delivery-country-image-url);background-position:-126px -143px;width:20px;height:12px}.icon-hm_f{background-image:var(--delivery-country-image-url);background-position:-147px -143px;width:20px;height:12px}.icon-hn_f{background-image:var(--delivery-country-image-url);background-position:-168px 0;width:20px;height:12px}.icon-hr_f{background-image:var(--delivery-country-image-url);background-position:-168px -13px;width:20px;height:12px}.icon-ht_f{background-image:var(--delivery-country-image-url);background-position:-168px -26px;width:20px;height:12px}.icon-hu_f{background-image:var(--delivery-country-image-url);background-position:-168px -39px;width:20px;height:12px}.icon-id_f{background-image:var(--delivery-country-image-url);background-position:-168px -52px;width:20px;height:12px}.icon-ie_f{background-image:var(--delivery-country-image-url);background-position:-168px -65px;width:20px;height:12px}.icon-il_f{background-image:var(--delivery-country-image-url);background-position:-168px -78px;width:20px;height:12px}.icon-im_f{background-image:var(--delivery-country-image-url);background-position:-168px -91px;width:20px;height:12px}.icon-in_f{background-image:var(--delivery-country-image-url);background-position:-168px -104px;width:20px;height:12px}.icon-io_f{background-image:var(--delivery-country-image-url);background-position:-168px -117px;width:20px;height:12px}.icon-iq_f{background-image:var(--delivery-country-image-url);background-position:-168px -130px;width:20px;height:12px}.icon-ir_f{background-image:var(--delivery-country-image-url);background-position:-168px -143px;width:20px;height:12px}.icon-is_f{background-image:var(--delivery-country-image-url);background-position:0 -156px;width:20px;height:12px}.icon-it_f{background-image:var(--delivery-country-image-url);background-position:-21px -156px;width:20px;height:12px}.icon-je_f{background-image:var(--delivery-country-image-url);background-position:-42px -156px;width:20px;height:12px}.icon-jm_f{background-image:var(--delivery-country-image-url);background-position:-63px -156px;width:20px;height:12px}.icon-jo_f{background-image:var(--delivery-country-image-url);background-position:-84px -156px;width:20px;height:12px}.icon-jp_f{background-image:var(--delivery-country-image-url);background-position:-105px -156px;width:20px;height:12px}.icon-ke_f{background-image:var(--delivery-country-image-url);background-position:-126px -156px;width:20px;height:12px}.icon-kg_f{background-image:var(--delivery-country-image-url);background-position:-147px -156px;width:20px;height:12px}.icon-kh_f{background-image:var(--delivery-country-image-url);background-position:-168px -156px;width:20px;height:12px}.icon-ki_f{background-image:var(--delivery-country-image-url);background-position:0 -169px;width:20px;height:12px}.icon-km_f{background-image:var(--delivery-country-image-url);background-position:-21px -169px;width:20px;height:12px}.icon-kn_f{background-image:var(--delivery-country-image-url);background-position:-42px -169px;width:20px;height:12px}.icon-kp_f{background-image:var(--delivery-country-image-url);background-position:-63px -169px;width:20px;height:12px}.icon-kr_f{background-image:var(--delivery-country-image-url);background-position:-84px -169px;width:20px;height:12px}.icon-kw_f{background-image:var(--delivery-country-image-url);background-position:-105px -169px;width:20px;height:12px}.icon-ky_f{background-image:var(--delivery-country-image-url);background-position:-126px -169px;width:20px;height:12px}.icon-kz_f{background-image:var(--delivery-country-image-url);background-position:-147px -169px;width:20px;height:12px}.icon-la_f{background-image:var(--delivery-country-image-url);background-position:-168px -169px;width:20px;height:12px}.icon-lb_f{background-image:var(--delivery-country-image-url);background-position:-189px 0;width:20px;height:12px}.icon-lc_f{background-image:var(--delivery-country-image-url);background-position:-189px -13px;width:20px;height:12px}.icon-li_f{background-image:var(--delivery-country-image-url);background-position:-189px -26px;width:20px;height:12px}.icon-lk_f{background-image:var(--delivery-country-image-url);background-position:-189px -39px;width:20px;height:12px}.icon-lr_f{background-image:var(--delivery-country-image-url);background-position:-189px -52px;width:20px;height:12px}.icon-ls_f{background-image:var(--delivery-country-image-url);background-position:-189px -65px;width:20px;height:12px}.icon-lt_f{background-image:var(--delivery-country-image-url);background-position:-189px -78px;width:20px;height:12px}.icon-lu_f{background-image:var(--delivery-country-image-url);background-position:-189px -91px;width:20px;height:12px}.icon-lv_f{background-image:var(--delivery-country-image-url);background-position:-189px -104px;width:20px;height:12px}.icon-ly_f{background-image:var(--delivery-country-image-url);background-position:-189px -117px;width:20px;height:12px}.icon-ma_f{background-image:var(--delivery-country-image-url);background-position:-189px -130px;width:20px;height:12px}.icon-mc_f{background-image:var(--delivery-country-image-url);background-position:-189px -143px;width:20px;height:12px}.icon-md_f{background-image:var(--delivery-country-image-url);background-position:-189px -156px;width:20px;height:12px}.icon-me_f{background-image:var(--delivery-country-image-url);background-position:-189px -169px;width:20px;height:12px}.icon-mf_f{background-image:var(--delivery-country-image-url);background-position:0 -182px;width:20px;height:12px}.icon-mg_f{background-image:var(--delivery-country-image-url);background-position:-21px -182px;width:20px;height:12px}.icon-mh_f{background-image:var(--delivery-country-image-url);background-position:-42px -182px;width:20px;height:12px}.icon-mk_f{background-image:var(--delivery-country-image-url);background-position:-63px -182px;width:20px;height:12px}.icon-ml_f{background-image:var(--delivery-country-image-url);background-position:-84px -182px;width:20px;height:12px}.icon-mm_f{background-image:var(--delivery-country-image-url);background-position:-105px -182px;width:20px;height:12px}.icon-mn_f{background-image:var(--delivery-country-image-url);background-position:-126px -182px;width:20px;height:12px}.icon-mo_f{background-image:var(--delivery-country-image-url);background-position:-147px -182px;width:20px;height:12px}.icon-mp_f{background-image:var(--delivery-country-image-url);background-position:-168px -182px;width:20px;height:12px}.icon-mq_f{background-image:var(--delivery-country-image-url);background-position:-189px -182px;width:20px;height:12px}.icon-mr_f{background-image:var(--delivery-country-image-url);background-position:0 -195px;width:20px;height:12px}.icon-ms_f{background-image:var(--delivery-country-image-url);background-position:-21px -195px;width:20px;height:12px}.icon-mt_f{background-image:var(--delivery-country-image-url);background-position:-42px -195px;width:20px;height:12px}.icon-mu_f{background-image:var(--delivery-country-image-url);background-position:-63px -195px;width:20px;height:12px}.icon-mv_f{background-image:var(--delivery-country-image-url);background-position:-84px -195px;width:20px;height:12px}.icon-mw_f{background-image:var(--delivery-country-image-url);background-position:-105px -195px;width:20px;height:12px}.icon-mx_f{background-image:var(--delivery-country-image-url);background-position:-126px -195px;width:20px;height:12px}.icon-my_f{background-image:var(--delivery-country-image-url);background-position:-147px -195px;width:20px;height:12px}.icon-mz_f{background-image:var(--delivery-country-image-url);background-position:-168px -195px;width:20px;height:12px}.icon-na_f{background-image:var(--delivery-country-image-url);background-position:-189px -195px;width:20px;height:12px}.icon-nc_f{background-image:var(--delivery-country-image-url);background-position:-210px 0;width:20px;height:12px}.icon-ne_f{background-image:var(--delivery-country-image-url);background-position:-210px -13px;width:20px;height:12px}.icon-nf_f{background-image:var(--delivery-country-image-url);background-position:-210px -26px;width:20px;height:12px}.icon-ng_f{background-image:var(--delivery-country-image-url);background-position:-210px -39px;width:20px;height:12px}.icon-ni_f{background-image:var(--delivery-country-image-url);background-position:-210px -52px;width:20px;height:12px}.icon-nl_f{background-image:var(--delivery-country-image-url);background-position:-210px -65px;width:20px;height:12px}.icon-no_f{background-image:var(--delivery-country-image-url);background-position:-210px -78px;width:20px;height:12px}.icon-np_f{background-image:var(--delivery-country-image-url);background-position:-210px -91px;width:20px;height:12px}.icon-nr_f{background-image:var(--delivery-country-image-url);background-position:-210px -104px;width:20px;height:12px}.icon-nu_f{background-image:var(--delivery-country-image-url);background-position:-210px -117px;width:20px;height:12px}.icon-nz_f{background-image:var(--delivery-country-image-url);background-position:-210px -130px;width:20px;height:12px}.icon-om_f{background-image:var(--delivery-country-image-url);background-position:-210px -143px;width:20px;height:12px}.icon-pa_f{background-image:var(--delivery-country-image-url);background-position:-210px -156px;width:20px;height:12px}.icon-pe_f{background-image:var(--delivery-country-image-url);background-position:-210px -169px;width:20px;height:12px}.icon-pf_f{background-image:var(--delivery-country-image-url);background-position:-210px -182px;width:20px;height:12px}.icon-pg_f{background-image:var(--delivery-country-image-url);background-position:-210px -195px;width:20px;height:12px}.icon-ph_f{background-image:var(--delivery-country-image-url);background-position:0 -208px;width:20px;height:12px}.icon-pk_f{background-image:var(--delivery-country-image-url);background-position:-21px -208px;width:20px;height:12px}.icon-pl_f{background-image:var(--delivery-country-image-url);background-position:-42px -208px;width:20px;height:12px}.icon-pm_f{background-image:var(--delivery-country-image-url);background-position:-63px -208px;width:20px;height:12px}.icon-pn_f{background-image:var(--delivery-country-image-url);background-position:-84px -208px;width:20px;height:12px}.icon-pr_f{background-image:var(--delivery-country-image-url);background-position:-105px -208px;width:20px;height:12px}.icon-ps_f{background-image:var(--delivery-country-image-url);background-position:-126px -208px;width:20px;height:12px}.icon-pt_f{background-image:var(--delivery-country-image-url);background-position:-147px -208px;width:20px;height:12px}.icon-pw_f{background-image:var(--delivery-country-image-url);background-position:-168px -208px;width:20px;height:12px}.icon-py_f{background-image:var(--delivery-country-image-url);background-position:-189px -208px;width:20px;height:12px}.icon-qa_f{background-image:var(--delivery-country-image-url);background-position:-210px -208px;width:20px;height:12px}.icon-re_f{background-image:var(--delivery-country-image-url);background-position:-231px 0;width:20px;height:12px}.icon-ro_f{background-image:var(--delivery-country-image-url);background-position:-231px -13px;width:20px;height:12px}.icon-rs_f{background-image:var(--delivery-country-image-url);background-position:-231px -26px;width:20px;height:12px}.icon-ru_f{background-image:var(--delivery-country-image-url);background-position:-231px -39px;width:20px;height:12px}.icon-rw_f{background-image:var(--delivery-country-image-url);background-position:-231px -52px;width:20px;height:12px}.icon-sa_f{background-image:var(--delivery-country-image-url);background-position:-231px -65px;width:20px;height:12px}.icon-sb_f{background-image:var(--delivery-country-image-url);background-position:-231px -78px;width:20px;height:12px}.icon-sc_f{background-image:var(--delivery-country-image-url);background-position:-231px -91px;width:20px;height:12px}.icon-sd_f{background-image:var(--delivery-country-image-url);background-position:-231px -104px;width:20px;height:12px}.icon-se_f{background-image:var(--delivery-country-image-url);background-position:-231px -117px;width:20px;height:12px}.icon-sg_f{background-image:var(--delivery-country-image-url);background-position:-231px -130px;width:20px;height:12px}.icon-sh_f{background-image:var(--delivery-country-image-url);background-position:-231px -143px;width:20px;height:12px}.icon-si_f{background-image:var(--delivery-country-image-url);background-position:-231px -156px;width:20px;height:12px}.icon-sj_f{background-image:var(--delivery-country-image-url);background-position:-231px -169px;width:20px;height:12px}.icon-sk_f{background-image:var(--delivery-country-image-url);background-position:-231px -182px;width:20px;height:12px}.icon-sl_f{background-image:var(--delivery-country-image-url);background-position:-231px -195px;width:20px;height:12px}.icon-sm_f{background-image:var(--delivery-country-image-url);background-position:-231px -208px;width:20px;height:12px}.icon-sn_f{background-image:var(--delivery-country-image-url);background-position:0 -221px;width:20px;height:12px}.icon-so_f{background-image:var(--delivery-country-image-url);background-position:-21px -221px;width:20px;height:12px}.icon-sr_f{background-image:var(--delivery-country-image-url);background-position:-42px -221px;width:20px;height:12px}.icon-ss_f{background-image:var(--delivery-country-image-url);background-position:-63px -221px;width:20px;height:12px}.icon-st_f{background-image:var(--delivery-country-image-url);background-position:-84px -221px;width:20px;height:12px}.icon-sv_f{background-image:var(--delivery-country-image-url);background-position:-105px -221px;width:20px;height:12px}.icon-sx_f{background-image:var(--delivery-country-image-url);background-position:-126px -221px;width:20px;height:12px}.icon-sy_f{background-image:var(--delivery-country-image-url);background-position:-147px -221px;width:20px;height:12px}.icon-sz_f{background-image:var(--delivery-country-image-url);background-position:-168px -221px;width:20px;height:12px}.icon-tc_f{background-image:var(--delivery-country-image-url);background-position:-189px -221px;width:20px;height:12px}.icon-td_f{background-image:var(--delivery-country-image-url);background-position:-210px -221px;width:20px;height:12px}.icon-tf_f{background-image:var(--delivery-country-image-url);background-position:-231px -221px;width:20px;height:12px}.icon-tg_f{background-image:var(--delivery-country-image-url);background-position:0 -234px;width:20px;height:12px}.icon-th_f{background-image:var(--delivery-country-image-url);background-position:-21px -234px;width:20px;height:12px}.icon-tj_f{background-image:var(--delivery-country-image-url);background-position:-42px -234px;width:20px;height:12px}.icon-tk_f{background-image:var(--delivery-country-image-url);background-position:-63px -234px;width:20px;height:12px}.icon-tl_f{background-image:var(--delivery-country-image-url);background-position:-84px -234px;width:20px;height:12px}.icon-tm_f{background-image:var(--delivery-country-image-url);background-position:-105px -234px;width:20px;height:12px}.icon-tn_f{background-image:var(--delivery-country-image-url);background-position:-126px -234px;width:20px;height:12px}.icon-to_f{background-image:var(--delivery-country-image-url);background-position:-147px -234px;width:20px;height:12px}.icon-tr_f{background-image:var(--delivery-country-image-url);background-position:-168px -234px;width:20px;height:12px}.icon-tt_f{background-image:var(--delivery-country-image-url);background-position:-189px -234px;width:20px;height:12px}.icon-tv_f{background-image:var(--delivery-country-image-url);background-position:-210px -234px;width:20px;height:12px}.icon-tw_f{background-image:var(--delivery-country-image-url);background-position:-231px -234px;width:20px;height:12px}.icon-tz_f{background-image:var(--delivery-country-image-url);background-position:-252px 0;width:20px;height:12px}.icon-ua_f{background-image:var(--delivery-country-image-url);background-position:-252px -13px;width:20px;height:12px}.icon-ug_f{background-image:var(--delivery-country-image-url);background-position:-252px -26px;width:20px;height:12px}.icon-um_f{background-image:var(--delivery-country-image-url);background-position:-252px -39px;width:20px;height:12px}.icon-us_f{background-image:var(--delivery-country-image-url);background-position:-252px -52px;width:20px;height:12px}.icon-uy_f{background-image:var(--delivery-country-image-url);background-position:-252px -65px;width:20px;height:12px}.icon-uz_f{background-image:var(--delivery-country-image-url);background-position:-252px -78px;width:20px;height:12px}.icon-va_f{background-image:var(--delivery-country-image-url);background-position:-252px -91px;width:20px;height:12px}.icon-vc_f{background-image:var(--delivery-country-image-url);background-position:-252px -104px;width:20px;height:12px}.icon-ve_f{background-image:var(--delivery-country-image-url);background-position:-252px -117px;width:20px;height:12px}.icon-vg_f{background-image:var(--delivery-country-image-url);background-position:-252px -130px;width:20px;height:12px}.icon-vi_f{background-image:var(--delivery-country-image-url);background-position:-252px -143px;width:20px;height:12px}.icon-vn_f{background-image:var(--delivery-country-image-url);background-position:-252px -156px;width:20px;height:12px}.icon-vu_f{background-image:var(--delivery-country-image-url);background-position:-252px -169px;width:20px;height:12px}.icon-wf_f{background-image:var(--delivery-country-image-url);background-position:-252px -182px;width:20px;height:12px}.icon-ws_f{background-image:var(--delivery-country-image-url);background-position:-252px -195px;width:20px;height:12px}.icon-xk_f{background-image:var(--delivery-country-image-url);background-position:-252px -208px;width:20px;height:12px}.icon-ye_f{background-image:var(--delivery-country-image-url);background-position:-252px -221px;width:20px;height:12px}.icon-yt_f{background-image:var(--delivery-country-image-url);background-position:-252px -234px;width:20px;height:12px}.icon-za_f{background-image:var(--delivery-country-image-url);background-position:0 -247px;width:20px;height:12px}.icon-zm_f{background-image:var(--delivery-country-image-url);background-position:-21px -247px;width:20px;height:12px}.icon-zw_f{background-image:var(--delivery-country-image-url);background-position:-42px -247px;width:20px;height:12px}
</style>
<script>
    window.deliveryCommon = window.deliveryCommon || {};
    window.deliveryCommon.setting = {};
    Object.assign(window.deliveryCommon.setting, {
        "shop_currency_code__ed": 'INR' || 'USD',
        "shop_locale_code__ed": 'en' || 'en',
        "shop_domain__ed":  'emperorspices-cardamom.myshopify.com',
        "product_available__ed": '',
        "product_id__ed": ''
    });
    window.deliveryED = window.deliveryED || {};
    window.deliveryED.setting = {};
    Object.assign(window.deliveryED.setting, {
        "delivery__app_setting": {"main_delivery_setting":{"is_active":1,"order_delivery_info":"\u003cp\u003e\u003cbr\/\u003e\u003c\/p\u003e","is_ignore_out_of_stock":0,"out_of_stock_mode":0,"out_of_stock_info":"\u003cp\u003e\u003c\/p\u003e","order_progress_bar_mode":0,"order_progress_setting":{"ordered":{"svg_number":0,"title":"Ordered","tips_description":"After you place the order, we will need 1-3 days to prepare the shipment"},"order_ready":{"svg_number":4,"is_active":1,"title":"Order Ready","date_title":"{order_ready_minimum_date} - {order_ready_maximum_date}","tips_description":"Orders will start to be shipped"},"order_delivered":{"svg_number":10,"title":"Delivered","date_title":"{order_delivered_minimum_date} - {order_delivered_maximum_date}","tips_description":"Estimated arrival date range：{order_delivered_minimum_date} - {order_delivered_maximum_date}"}},"order_delivery_work_week":[0,1,1,1,1,1,1],"order_delivery_day_range":[1,5],"order_delivery_calc_method":0,"order_ready_work_week":[0,1,1,1,1,1,1],"order_ready_day_range":[1,2],"order_ready_calc_method":1,"holiday":[],"order_delivery_date_format":0,"delivery_date_custom_format":"{month_local} {day}","delivery_date_format_zero":0,"delivery_date_format_month_translate":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"delivery_date_format_week_translate":["Sun","Mon","Tues","Wed","Thur","Fri","Sat"],"order_delivery_countdown_format":0,"delivery_countdown_custom_format":"{hours} {hours_local} {minutes} {minutes_local} {seconds} {seconds_local}","countdown_format_translate":["Hours","Minutes","Seconds"],"delivery_countdown_format_zero":0,"countdown_cutoff_hour":0,"countdown_cutoff_minute":0,"countdown_cutoff_advanced_enable":0,"countdown_cutoff_advanced":[[23,59],[23,59],[23,59],[23,59],[23,59],[23,59],[23,59]],"countdown_mode":0,"after_deadline_hide_widget":0,"timezone_mode":0,"timezone":5.5,"todayandtomorrow":[{"lan_code":"en","lan_name":"English","left":"today","right":"tomorrow"}],"translate_country_name":[],"widget_layout_mode":3,"widget_placement_method":2,"widget_placement_position":0,"widget_placement_page":1,"widget_margin":[12,0,0,0],"message_text_widget_appearance_setting":{"border":{"border_width":1,"border_radius":4,"border_line":2},"color":{"text_color":"#000000","background_color":"#FFFFFF","border_color":"#E2E2E2"},"other":{"margin":[0,0,0,0],"padding":[10,10,10,10]}},"progress_bar_widget_appearance_setting":{"color":{"basic":{"icon_color":"#6a7a44","icon_background_color":"#FFFFFF","order_status_title_color":"#000000","date_title_color":"#000000"},"advanced":{"order_status_title_color":"#000000","progress_line_color":"#000000","date_title_color":"#000000","description_tips_background_color":"#000000","icon_background_color":"#000000","icon_color":"#FFFFFF","description_tips_color":"#FFFFFF"}},"font":{"icon_font":17,"order_status_title_font":12,"date_title_font":12,"description_tips_font":14},"other":{"margin":[8,0,0,0]}},"show_country_mode":0,"arrow_down_position":0,"country_modal_background_rgba":[0,0,0,0.5],"country_modal_appearance_setting":{"color":{"text_color":"#000000","background_color":"#FFFFFF","icon_color":"#999999","selected_color":"#f2f2f2"},"border":{"border_radius":7},"font":{"text_font":16,"icon_font":16},"other":{"width":56}},"cart_form_mode":0,"cart_form_position":0,"product_form_position":0,"out_of_stock_product_form_position":0,"cart_checkout_status":1,"cart_checkout_title":"Estimated between","cart_checkout_description":"{order_delivered_minimum_date} and {order_delivered_maximum_date}","widget_custom_css":"","replace_jq":0,"jquery_version":"1.12.0","is_ignore_cookie_cache":0,"is_show_all":0,"p_mapping":11,"product_ids":["6770278367430","6770283872454","6770290327750","6770290917574","6770293309638","8298545250502","8300050186438","8565845229766","8670658625734"]}},
        "delivery__pro_setting": null,
        "delivery__cate_setting": null
    });
</script> <!-- BEGIN app block: shopify://apps/c-edd-estimated-delivery-date/blocks/app_setting/4a0685bc-c234-45b2-8382-5ad6a8e3e3fd --><script>
    window.deliveryCommon = window.deliveryCommon || {};
    window.deliveryCommon.setting = {};
    Object.assign(window.deliveryCommon.setting, {
        "shop_currency_code__ed": 'INR' || 'USD',
        "shop_locale_code__ed": 'en' || 'en',
        "shop_domain__ed":  'emperorspices-cardamom.myshopify.com',
        "product_available__ed": '',
        "product_id__ed": ''
    });
    window.deliveryED = window.deliveryED || {};
    window.deliveryED.setting = {};
    Object.assign(window.deliveryED.setting, {
        "delivery__app_setting": {"main_delivery_setting":{"is_active":1,"order_delivery_info":"\u003cp\u003e\u003cbr\/\u003e\u003c\/p\u003e","is_ignore_out_of_stock":0,"out_of_stock_mode":0,"out_of_stock_info":"\u003cp\u003e\u003c\/p\u003e","order_progress_bar_mode":0,"order_progress_setting":{"ordered":{"svg_number":0,"title":"Ordered","tips_description":"After you place the order, we will need 1-3 days to prepare the shipment"},"order_ready":{"svg_number":4,"is_active":1,"title":"Order Ready","date_title":"{order_ready_minimum_date} - {order_ready_maximum_date}","tips_description":"Orders will start to be shipped"},"order_delivered":{"svg_number":10,"title":"Delivered","date_title":"{order_delivered_minimum_date} - {order_delivered_maximum_date}","tips_description":"Estimated arrival date range：{order_delivered_minimum_date} - {order_delivered_maximum_date}"}},"order_delivery_work_week":[0,1,1,1,1,1,1],"order_delivery_day_range":[1,5],"order_delivery_calc_method":0,"order_ready_work_week":[0,1,1,1,1,1,1],"order_ready_day_range":[1,2],"order_ready_calc_method":1,"holiday":[],"order_delivery_date_format":0,"delivery_date_custom_format":"{month_local} {day}","delivery_date_format_zero":0,"delivery_date_format_month_translate":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"delivery_date_format_week_translate":["Sun","Mon","Tues","Wed","Thur","Fri","Sat"],"order_delivery_countdown_format":0,"delivery_countdown_custom_format":"{hours} {hours_local} {minutes} {minutes_local} {seconds} {seconds_local}","countdown_format_translate":["Hours","Minutes","Seconds"],"delivery_countdown_format_zero":0,"countdown_cutoff_hour":0,"countdown_cutoff_minute":0,"countdown_cutoff_advanced_enable":0,"countdown_cutoff_advanced":[[23,59],[23,59],[23,59],[23,59],[23,59],[23,59],[23,59]],"countdown_mode":0,"after_deadline_hide_widget":0,"timezone_mode":0,"timezone":5.5,"todayandtomorrow":[{"lan_code":"en","lan_name":"English","left":"today","right":"tomorrow"}],"translate_country_name":[],"widget_layout_mode":3,"widget_placement_method":2,"widget_placement_position":0,"widget_placement_page":1,"widget_margin":[12,0,0,0],"message_text_widget_appearance_setting":{"border":{"border_width":1,"border_radius":4,"border_line":2},"color":{"text_color":"#000000","background_color":"#FFFFFF","border_color":"#E2E2E2"},"other":{"margin":[0,0,0,0],"padding":[10,10,10,10]}},"progress_bar_widget_appearance_setting":{"color":{"basic":{"icon_color":"#6a7a44","icon_background_color":"#FFFFFF","order_status_title_color":"#000000","date_title_color":"#000000"},"advanced":{"order_status_title_color":"#000000","progress_line_color":"#000000","date_title_color":"#000000","description_tips_background_color":"#000000","icon_background_color":"#000000","icon_color":"#FFFFFF","description_tips_color":"#FFFFFF"}},"font":{"icon_font":17,"order_status_title_font":12,"date_title_font":12,"description_tips_font":14},"other":{"margin":[8,0,0,0]}},"show_country_mode":0,"arrow_down_position":0,"country_modal_background_rgba":[0,0,0,0.5],"country_modal_appearance_setting":{"color":{"text_color":"#000000","background_color":"#FFFFFF","icon_color":"#999999","selected_color":"#f2f2f2"},"border":{"border_radius":7},"font":{"text_font":16,"icon_font":16},"other":{"width":56}},"cart_form_mode":0,"cart_form_position":0,"product_form_position":0,"out_of_stock_product_form_position":0,"cart_checkout_status":1,"cart_checkout_title":"Estimated between","cart_checkout_description":"{order_delivered_minimum_date} and {order_delivered_maximum_date}","widget_custom_css":"","replace_jq":0,"jquery_version":"1.12.0","is_ignore_cookie_cache":0,"is_show_all":0,"p_mapping":11,"product_ids":["6770278367430","6770283872454","6770290327750","6770290917574","6770293309638","8298545250502","8300050186438","8565845229766","8670658625734"]}},
        "delivery__pro_setting": null,
        "delivery__cate_setting": null
    });
</script>

<script src="https://cdn.shopify.com/s/files/1/0654/5637/3996/files/delivery_coder_cc698f59-3829-49b3-8fa2-f9ef0ba024af.js?v=1767391130&t=1088" defer></script>

<!-- END app block --><!-- BEGIN app block: shopify://apps/bitespeed-whatsapp-marketing/blocks/app-embed/9efdb9ca-2d01-4a12-b1ac-02679fe0f6fc --><script defer src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.3.2/uuid.min.js"></script>




<!-- BEGIN app snippet: optin-triggers-middleware --><script
  type="text/javascript"
  name="BSPD-SHOPIFY-VARS"
>
  var BspdCurrentCart = {"note":null,"attributes":{},"original_total_price":0,"total_price":0,"total_discount":0,"total_weight":0.0,"item_count":0,"items":[],"requires_shipping":false,"currency":"INR","items_subtotal_price":0,"cart_level_discount_applications":[],"checkout_charge_amount":0};
  var BspdCurrentProduct = null;
  var BspdCurrentCollection = null;

  var BSPD_CART_DATA_LOCAL_KEY = 'bspdCartData';
  var BSPD_LAST_VISIT_COUNT_LOCAL_KEY = 'bspdLastUserVisitCount';
  var BSPD_LAST_VISITED_PRODUCT = 'bspdLastVisitedProduct';
  var BSPD_LAST_VISITED_COLLECTION = 'bspdLastVisitedCollection';
  var BspdLastVisitedProduct = null,
    BspdLastVisitedCollection = null;

  var Asdf =
    "Nq7zP4LmbU9vYt3oKd1XjS8eWrQAhRfiZpGVwHkJTxOaFyClM0gEn5Bs2cDLuNbRq6VXYp3jW8ZtP9oHh1kGmU7fTqJdC4xAyeKvrFz0SlOLaNBiwD2u5MQscXpRhEnyGTZ3bFo1UvCkVjP8Wl4a9Hqg5dMR0YxJfz2S6oBthKNLmJ7eXiUpDAcGsVQnZrwTy38vFbPC2OaX9J4dR5mUqHnL1Yp0xkzETSWv6jGbCsoMgK3fD8wZ7uFiQyNPrVHXJltB2cAh5dWLj0RmS1zOxKUgYq9pFeTvnVb4CkGa7w2XMNJry6iDZ8hsP3LxBo5UQf1Tn";

  function bspdGetBarCookie(name) {
    const value = "; " + document.cookie;
    const parts = value.split("; " + name + "=");
    if (parts.length === 2) {
      return parts.pop().split(";").shift();
    }
    return null;
  }
  function bspdSetBarCookie(name, value, days) {
    const expires = new Date();

    expires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);
    document.cookie = name + "=" + value + ";expires=" + expires.toUTCString() + ";path=/";
  }

  function trackLastVisitedProductAndCollection() {
    if (BspdCurrentProduct) {
      // check cookies for last visited product details (product id)
      const lastVisitedProduct = bspdGetBarCookie(BSPD_LAST_VISITED_PRODUCT);
      if (lastVisitedProduct) {
        BspdLastVisitedProduct = lastVisitedProduct;

        if (BspdCurrentProduct?.id !== BspdLastVisitedProduct) {
          // set the cookie again
          bspdSetBarCookie(BSPD_LAST_VISITED_PRODUCT, BspdCurrentProduct?.id, 300);
        }
      } else if (BspdCurrentProduct && BspdCurrentProduct?.id) {
        // set the cookie
        bspdSetBarCookie(BSPD_LAST_VISITED_PRODUCT, BspdCurrentProduct?.id, 300);
      }
    }

    if (BspdCurrentCollection) {
      // check cookies for last visited collection details (collection id)
      const lastVisitedCollection = bspdGetBarCookie(BSPD_LAST_VISITED_COLLECTION);
      if (lastVisitedCollection) {
        BspdLastVisitedCollection = lastVisitedCollection;

        if (BspdCurrentCollection?.id !== BspdLastVisitedCollection) {
          // set the cookie again
          bspdSetBarCookie(BSPD_LAST_VISITED_COLLECTION, BspdCurrentCollection?.id, 300);
        }
      } else if (BspdCurrentCollection && BspdCurrentCollection?.id) {
        // set the cookie
        bspdSetBarCookie(BSPD_LAST_VISITED_COLLECTION, BspdCurrentCollection?.id, 300);
      }
    }
  }

  /**
   * method that stores a entry whenever the user visits any of the page
   * and increments the count by 1
   * the data schema looks like
   * {
   *    [DATE]: {
   *      date: string
   *      route: {
   *       [ROUTE]: number
   *      }
   *      count: number
   *    }
   * }
   *
   * this will be a json object whose key will be the date and value will be the object
   * and will be stored in local-storage
   */
  function trackLastVisitedCount() {
    const date = new Date();
    const dateString = date.toISOString().split("T")[0];

    let lastVisitedCount = JSON.parse(localStorage.getItem(BSPD_LAST_VISIT_COUNT_LOCAL_KEY)) || {};

    if (lastVisitedCount[dateString]) {
      lastVisitedCount[dateString].count += 1;

      // also update route
      const route = window.location.pathname;

      if (lastVisitedCount[dateString].route[route]) {
        lastVisitedCount[dateString].route[route] += 1;
      } else {
        lastVisitedCount[dateString].route[route] = 1;
      }
    } else {
      const route = window.location.pathname;

      lastVisitedCount[dateString] = {
        date: dateString,
        route: {
          [route]: 1,
        },
        count: 1,
      };
    }

    localStorage.setItem(BSPD_LAST_VISIT_COUNT_LOCAL_KEY, JSON.stringify(lastVisitedCount));
  }

  /**
   * this method keeps a track of the current cart activity
   * if there are any changes by the user, this will track those changes
   * and making changes on storing it safely
   */
  const storeCartData = () => {
    function syncCart() {
      const oldCart = JSON.parse(localStorage.getItem(BSPD_CART_DATA_LOCAL_KEY) || "{}");

      if (BspdCurrentCart?.item_count !== oldCart?.item_count) {
        localStorage.setItem(BSPD_CART_DATA_LOCAL_KEY, JSON.stringify(BspdCurrentCart));
      }
    }
    syncCart();

    async function emitCartChanges() {
      try {
        const response = await fetch("/cart.js")
          .then((res) => res.json())
          .then((newCart) => {
            const oldCart = JSON.parse(localStorage.getItem(BSPD_CART_DATA_LOCAL_KEY) || "{}");

            if (newCart?.item_count !== oldCart?.item_count) {
              localStorage.setItem(BSPD_CART_DATA_LOCAL_KEY, JSON.stringify(newCart));
            }
          })
          .catch(() => {});
      } catch (error) {}
    }

    // track changes in cart.js, on change store the cart data
    const cartObserver = new PerformanceObserver((list) => {
      list.getEntries().forEach((entry) => {
        const isValidRequestType = ["xmlhttprequest", "fetch"].includes(entry.initiatorType);
        const isCartChangeRequest = /\/cart\//.test(entry.name);

        if (isValidRequestType && isCartChangeRequest) {
          emitCartChanges();
        }
      });
    });
    cartObserver.observe({ entryTypes: ["resource"] });
  };

  function execute() {
    trackLastVisitedProductAndCollection();
    trackLastVisitedCount();

    storeCartData();
  }
  execute();
</script>
<!-- END app snippet -->




  <script defer src="https://cdn.shopify.com/extensions/019be093-f082-73c5-b02a-c27225fa6615/bitespeed-popups-1045/assets/bitespeed-popups.js" />



  <!-- BEGIN app snippet: bitespeed-analytics --><script name="bitespeed-variable" type="text/javascript">
  const dummyBitespeedVar = 'dummyBitespeedVar';
</script>

<script
  name="bitespeed-analytics"
  type="text/javascript"
>
  const getcookieGlobalAnal = (cookie) => {
    let cookieJson = {};
    document.cookie.split(';').forEach(function (el) {
      let [k, v] = el.split('=');
      cookieJson[k.trim()] = v;
    });
    return cookieJson[cookie];
  };

  const setCookieGlobalAnal = (cookie, value, days, hours) => {
    let expires = '';
    if (days) {
      let date = new Date();
      date.setTime(date.getTime() + days * hours * 60 * 60 * 1000);
      expires = '; expires=' + date.toUTCString();
    }
    document.cookie = cookie + '=' + (value || '') + expires + '; path=/';
  };

  document.addEventListener('DOMContentLoaded', function () {
    const getIsMultichannelAnal = async () => {
      try {
        // TODO_sobhan
        // var indexOfwww = location.hostname.indexOf('www');
        // var shopDomainStripped = indexOfwww === -1 ? '.' + location.hostname : location.hostname.substr(indexOfwww + 3);
        // var globalShopUrl = indexOfwww === -1 ? location.hostname : location.hostname.substr(indexOfwww + 4);
        // let res = await fetch(`https://app.bitespeed.co/database/popups/isMultichannel?shopDomain=${globalShopUrl}`, {
        //   method: 'GET',
        //   headers: {
        //     'Access-Control-Allow-Origin': '*',
        //   },
        // });
        // if (!res.ok) {
        //   throw new Error(`HTTP error! status: ${res.status}`);
        // }
        // let data = await res.json();
        // console.log(data);
        // return data.isMultichannel || true;
        return true;
      } catch (error) {
        console.log(error);
      }
    };

    async function checkMultichannel() {
      console.log('in checkMultichannel');
      const isMultichannel = await getIsMultichannelAnal();
      if (isMultichannel) {
        setCookieGlobalAnal('isMultiChannel', isMultichannel, 1, 1);
      } else {
        setCookieGlobalAnal('isMultiChannel', isMultichannel, 1, 1);
      }
      console.log('Setting is multichannel from anal file to ', isMultichannel);
    }

    (async function () {
      let refb = String(getcookieGlobalAnal('refb'));
      let ssid = String(getcookieGlobalAnal('ssid'));
      if (refb === null || refb === '' || refb === undefined || refb === 'undefined') {
        var refbnew = createRef();
      }
      if (ssid === null || ssid === '' || ssid === undefined || ssid === 'undefined') {
        var ssidnew = await createSsid();
      }
      if (!getcookieGlobalAnal('isMultiChannel')) {
        console.log('isMultichannel not found in local making BE call Anal file');
        await checkMultichannel();
      }
    })();
  });

  const DBURL = 'https://app.bitespeed.co/database';
  var indexOfwww = location.hostname.indexOf('www');
  var shopDomainStripped = indexOfwww === -1 ? '.' + location.hostname : location.hostname.substr(indexOfwww + 3);
  function getCookie(name) {
    var value = '; ' + document.cookie;
    var parts = value.split('; ' + name + '=');
    if (parts.length == 2) return parts.pop().split(';').shift();
  }

  function createRef() {
    let uuid = create_UUID();
    document.cookie =
      'refb=' +
      uuid +
      ';expires=' +
      new Date(new Date().setFullYear(new Date().getFullYear() + 10)) +
      ';domain=' +
      shopDomainStripped +
      '; path=/';
    return uuid;
  }

  async function createSsid() {
    let uuid = create_UUID();
    document.cookie = 'ssid=' + uuid + ';domain=' + shopDomainStripped + '; path=/';
    return uuid;
  }

  function create_UUID() {
    var dt = new Date().getTime();
    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
      var r = (dt + Math.random() * 16) % 16 | 0;
      dt = Math.floor(dt / 16);
      return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);
    });
    return uuid;
  }

  function lookForCart() {
    let contactIdBitespeed = getcookieGlobalAnal('contactIdBitespeed');
    let contactIdRzp = getcookieGlobalAnal('rzp_unified_session_id');

    var myCookie = getcookieGlobalAnal('cart');

    const currentTimestamp = new Date().getTime();
    const recentlyCartCreatedAt = getcookieGlobalAnal('bspd_cart_created_at');

    if (myCookie && !getcookieGlobalAnal(`${myCookie}`) && !recentlyCartCreatedAt) {
      document.cookie = `bspd_cart_created_at=${currentTimestamp}` + ';domain=' + shopDomainStripped + '; path=/';
    } else if (!myCookie && recentlyCartCreatedAt) {
      // reseting the cart created at cookie if it exists
      document.cookie =
        `bspd_last_cart_created_at=${recentlyCartCreatedAt}` + ';domain=' + shopDomainStripped + '; path=/';
      document.cookie = `bspd_cart_created_at=;domain=${shopDomainStripped}; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT`;
    }

    if (
      (contactIdBitespeed === null ||
        contactIdBitespeed === '' ||
        contactIdBitespeed === undefined ||
        contactIdBitespeed === 'undefined') &&
      (contactIdRzp === null || contactIdRzp === '' || contactIdRzp === undefined || contactIdRzp === 'undefined')
    )
      return;

    let lastTrackedCart = getcookieGlobalAnal('last_tracked_cart_event');
    let lastTrackedCartLineItemsCnt = getcookieGlobalAnal('last_tracked_cart_line_items_cnt');

    if (myCookie && shopDomainStripped.includes('.neonattack.com')) {
      clearInterval(intervalId);

      if (!recentlyCartCreatedAt) {
        document.cookie = `bspd_cart_created_at=${currentTimestamp}` + ';domain=' + shopDomainStripped + '; path=/';
      }

      const cartData = cart; // a global variable, as of now only on neonattack.com (hardikecommerce.myshopify.com)

      if (myCookie !== lastTrackedCart || Number(lastTrackedCartLineItemsCnt) !== cartData.item_count) {
        document.cookie = `${myCookie}=true` + ';domain=' + shopDomainStripped + '; path=/';

        document.cookie = `last_tracked_cart_event=${myCookie}` + ';domain=' + shopDomainStripped + '; path=/';
        document.cookie =
          `last_tracked_cart_line_items_cnt=${cartData.item_count}` + ';domain=' + shopDomainStripped + '; path=/';

        sendToWebhook(myCookie, cartData);
      }
    } else if (myCookie) {
      clearInterval(intervalId);

      if (!getcookieGlobalAnal(`${myCookie}`)) {
        document.cookie = `${myCookie}=true` + ';domain=' + shopDomainStripped + '; path=/';

        sendToWebhook(myCookie);
      }
    }
  }

  function sendToWebhook(cartToken, cartData = {}) {
    let axiosConfig = {
      headers: {
        'Access-Control-Allow-Origin': '*',
        'Access-Control-Allow-Headers': '*',
        'Content-Type': 'application/json',
      },
    };

    let refb = getcookieGlobalAnal('refb');

    if (refb === null || refb === '' || refb === undefined || refb === 'undefined') {
    } else {
      const userAgent = navigator.userAgent;

      let lineItems = [];

      if (shopDomainStripped.includes('.neonattack.com') && cartData && cartData?.items) {
        lineItems = cartData.items?.map((item) => {
          return {
            product_id: item.product_id,
            variant_id: item.id,
            price: item.price,
            quantity: item.quantity,
            sku: item.sku,
            title: item.title,
            vendor: item.vendor,
          };
        });
      }

      var postData = {
        at: new Date(),
        type: 'cartCreated',
        event: {
          cartToken: cartToken,
        },
        page_url: window.location.href,
        id: String(refb),
        shopifyShopDomain: 'emperorspices-cardamom.myshopify.com',
        lineItems,
        ref: refb,
        ssid: getcookieGlobalAnal('ssid'),
        contactId: Number.parseInt(getcookieGlobalAnal('contactIdBitespeed')),
        rzp_unified_session_id: getcookieGlobalAnal('rzp_unified_session_id'),
        platformMobile: /iPad|iPhone|iPod/.test(userAgent) ? 'ios' : /Android/.test(userAgent) ? 'android' : '',
        platformDesktop: /Mac/.test(userAgent) ? 'mac' : /Windows/.test(userAgent) ? 'windows' : '',
        rzp_unified_session_id: getcookieGlobalAnal('rzp_unified_session_id') || undefined,
      };

      let isMultiChannel = true;
      // TODO
      // if (getcookieGlobalAnal('isMultiChannel') == 'false' || getcookieGlobalAnal('isMultiChannel') == false) {
      //   console.log('isMultichannel found and is false');
      //   isMultiChannel = false;
      // } else if (getcookieGlobalAnal('isMultiChannel') == 'true' || getcookieGlobalAnal('isMultiChannel') == true) {
      //   isMultiChannel = true;
      // }
      // console.log('sendToWebhook', isMultiChannel);
      // console.log('sendToWebhook-ignore', localStorage.getItem('isMultiChannel'));

      let url = `${DBURL}/api/shopifyCustomer/create`;
      if (isMultiChannel) {
        url = `https://shopifywebhooks.bitespeed.co/webhook/browserSession`;
      }

      fetch(url, {
        method: 'POST',
        headers: axiosConfig.headers,
        body: JSON.stringify(postData),
      }).catch((err) => {
        console.log('AXIOS ERROR: ', err);
      });
    }
  }

  let intervalId = setInterval(() => {
    lookForCart();
  }, 1000);
</script>

<script
  name="bitespeed-tracking-tag"
>
    let axiosConfig = {
      headers: {
	      "Access-Control-Allow-Origin": "*",
        'Content-Type': 'application/json',
      }
    };

    function analyticsPost(postData) {
      // TODO_sobhan
      let isMultiChannel = true;
      // if (getcookieGlobalAnal("isMultiChannel") == "false" || getcookieGlobalAnal("isMultiChannel") == false) {
      //     console.log("isMultichannel found and is false");
      //     isMultiChannel = false;
      // } else if (getcookieGlobalAnal("isMultiChannel") == "true" || getcookieGlobalAnal("isMultiChannel") == true) {
      //     isMultiChannel = true;
      // }

      // if (!isMultiChannel) return; // disable browser sessions in legacy

      let analyticsUrl = isMultiChannel
          ? "https://shopifywebhooks.bitespeed.co/webhook/browserSession"
          : `https://app.bitespeed.co/database/webhook/browserSession`;
      console.log("analyticsUrl", analyticsUrl);
      postData.shopifyShopDomain = "emperorspices-cardamom.myshopify.com";
      postData.ref = getcookieGlobalAnal("refb");
      postData.ssid = getcookieGlobalAnal("ssid");
      postData.contactId = Number.parseInt(getcookieGlobalAnal("contactIdBitespeed"));
      postData.rzp_unified_session_id = getcookieGlobalAnal("rzp_unified_session_id") || undefined;

      const userAgent = navigator.userAgent;
      postData.platformMobile = /iPad|iPhone|iPod/.test(userAgent) ? "ios" : /Android/.test(userAgent) ? "android" : "";
      postData.platformDesktop = /Mac/.test(userAgent) ? "mac" : /Windows/.test(userAgent) ? "windows" : "";

      // don't send browser events on multichannel if contactId is not present
      if (isMultiChannel && !postData.contactId && !postData.rzp_unified_session_id) {
          console.log("No contactId found for multichannel analytics file. Returning");
          return;
      }

      fetch(analyticsUrl, {
          method: "POST",
          headers: axiosConfig.headers,
          body: JSON.stringify(postData),
      }).catch((err) => {
          console.log("AXIOS ERROR: ", err);
      });
    }
(function() {
    var bitespeedLayer = {
        cartPollInterval: 2000
    }
    var config = {
        linker: {
            domains: ['shopify.com', 'rechargeapps.com', 'recurringcheckout.com', 'carthook.com', 'checkout.com']
        },
        anonymize_ip: true,
        allow_ad_personalization_signals: true,
        page_title: removePii(document.title),
        page_location: removePii(document.location.href)
    }
    var pageView = function() {
            
    };

    // delay page firing until the page is visible
    if (document.hidden === true) {
        var triggeredPageView = false;
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden && !triggeredPageView) {
                pageView();
                triggeredPageView = true;
            }
        });
    } else {
        pageView()
    }

    var triggerPageViewEvent = function() {
      var postData = {
        "at" : new Date(),
        "type": "pageViewed",
        "event": {
          url: window.location.href,
        },
        "contactId": Number.parseInt(getcookieGlobalAnal("contactIdBitespeed")),
        "source": 'shopify'
      }
      
      analyticsPost(postData);
    }

    document.addEventListener('DOMContentLoaded', function() {
      triggerPageViewEvent()
    });

    var hasLocalStorage = (function() {
        try {
            localStorage.setItem('bitespeed_test_storage', 'test');
            localStorage.removeItem('bitespeed_test_storage');
            return true;
        } catch (ex) {
            return false;
        }
    })();
    bitespeedLayer.ecommerce = {
        'currencyCode' : 'INR',
        'impressions' : []
    };
    
    

    
    bitespeedLayer.ecommerce.impressions = getUniqueProducts(bitespeedLayer.ecommerce.impressions);
    function getUniqueProducts(array){
        var u = {}, a = [];
        for(var i = 0, l = array.length; i < l; ++i){
            if(u.hasOwnProperty(array[i].id)) {
                continue;
            }
            a.push(array[i]);
            u[array[i].id] = 1;
        }
        return a;
    };
    var loadScript = function(url, callback){
        var script = document.createElement("script")
        script.type = "text/javascript";
        if (script.readyState){  /* IE */
            script.onreadystatechange = function(){
                if (script.readyState == "loaded" ||
                        script.readyState == "complete"){
                    script.onreadystatechange = null;
                    callback();
                }
            };
        } else {  /* Others */
            script.onload = function(){
                callback();
            };
        }
        script.src = url;
        document.getElementsByTagName("head")[0].appendChild(script);
    }
    var ldTracker = function(jQuery){
    jQuery(document).ready(function(){
        if(bitespeedLayer && bitespeedLayer.ecommerce){
            /* run list, product, and clientID scripts everywhere */
            listViewScript();
            productPageScript();
        }
    })
    var ldTracker = function(){
      document.addEventListener('DOMContentLoaded', function() {
          if (typeof bitespeedLayer !== 'undefined' && bitespeedLayer.ecommerce) {
              // run list, product, and clientID scripts everywhere
              listViewScript();
              productPageScript();
          }
      });
    }
    function listViewScript(){
        if (!bitespeedLayer.ecommerce.impressions || !bitespeedLayer.ecommerce.impressions.length) return;
        window.setTimeout(function(){
            var postData = {
            "at" : new Date(),
            "type" : "productListViewed",
            "page_url": window.location.href,
              "event" : {
                    list_id: bitespeedLayer.ecommerce.impressions[0].list,
                    collection_id: bitespeedLayer.ecommerce.impressions[0].collection_id,
                    products: bitespeedLayer.ecommerce.impressions
              }
                };
                analyticsPost(postData);
        },500) /* wait for pageview to fire first */
        /* product list clicks */
    }
    async function productPageScript(){
        var product = bitespeedLayer.ecommerce.detail
            && bitespeedLayer.ecommerce.detail.products
            && bitespeedLayer.ecommerce.detail.products[0]
        if (product) {
            if(hasLocalStorage) product.list_name = localStorage.list
                if(hasLocalStorage) product.list_id = localStorage.list
          var postData = {
            "at" : new Date(),
            "type" : "productViewed",
            "page_url": window.location.href,
            "event" : product
          }
          analyticsPost(postData);
        }
    }
}
if(typeof jQuery === 'undefined'){
       loadScript('https://code.jquery.com/jquery-3.7.1.min.js', function(){
        jQuery191 = jQuery.noConflict(true);
        ldTracker(jQuery191);
        });
} else {
        ldTracker(jQuery);
}
        // ldTracker();
        function removePii(string) {
        var piiRegex = {
            "email": /[s&amp;/,=]([a-zA-Z0-9_.+-]+(@|%40)[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+)($|[s&amp;/,])/,
            "postcode": /[s&amp;/,=]([A-Z]{1,2}[0-9][0-9A-Z]?(s|%20)[0-9][A-Z]{2})($|[s&amp;/,])/,
        };
        var dlRemoved = string;
        for (key in piiRegex) {
            dlRemoved = dlRemoved.replace(piiRegex[key], 'REMOVED');
        }
        return dlRemoved;
    }
})()
</script>

<script
  type="text/javascript"
  name="NAMESPACED-NOTIFY_ME"
>
  var popup_id = "";
  var product = null || {};
  var product_id = null || "";
  var current_variant = null || "";
  var is_current_variant_available = true;
  var buyNowElement = null;
  var mainNewButton = null;
  var notify_me_text = "Notify Me";
  var shop_domain = "";
  var dont_show_notify_me_strict = false;

  var variants = product.variants

  // variables to build custom logic for different brands
  var globalFormEle = null;
  var globalPrimaryBtn = null;

  var getParameterByNameTemp = (str, url = window.location.href) => {
    str = str.replace(/[\[\]]/g, "\\$&");
    let regex = new RegExp("[?&]" + str + "(=([^&#]*)|&|#|$)").exec(url);
    return regex ? (regex[2] ? decodeURIComponent(regex[2].replace(/\+/g, " ")) : "") : null;
  }

  var variantParam = getParameterByNameTemp("variant");
  if (variantParam && !isNaN(variantParam)) {
    // getting variant param from the url and if it is a proper number set the current_variant as that
    current_variant = Number(variantParam);
  } else if (!current_variant && Array.isArray(variants) && variants.length > 0) {
    // else set the first variant as the current variant
    current_variant = variants[0].id;
  }

  // console.log(product, product_id, current_variant, variants, "DATA IS HEREEE");

  // var popup_id = "";
  // var product = {};
  // var product_id = "";
  // var current_variant = "";
  // var is_current_variant_available = false;
  // var buyNowElement = null;
  // var mainNewButton = null;

  // const variants = [];

  var CREATED_NOTIFY_ME_BUTTON_CLASS = "bitespeed-notify-me-button";
  var CREATED_NOTIFY_ME_BUTTON_CLASS_SELECTOR = `.${CREATED_NOTIFY_ME_BUTTON_CLASS}`;
  var CREATED_NOTIFY_ME_BUTTON_PARENT_CLASS = "bitespeed-notify-me-button-parent";
  var CREATED_NOTIFY_ME_BUTTON_PARENT_CLASS_SELECTOR = `.${CREATED_NOTIFY_ME_BUTTON_PARENT_CLASS}`;

  var notifyMeTexts = ["notify me", "notify"];
  var soldOutTexts = ["sold out", "out of stock"];

  var wordsToRemove = ["sold out", "out of stock"].concat(notifyMeTexts);
  var buyButtonTexts = ["buy now", "buy it", "buy it now", "sold out"];
</script>
<!-- END app snippet -->


<!-- BEGIN app snippet: bitespeed-back-in-stock --><script
  type="text/javascript"
  name="BITESPEED-BIS-NOTIFY_ME"
>
  var entityHandle = "the-making-of-the-world-s-best-cardamom";
  var popup_id = "";
  var product = null;
  var product_id = null;
  var current_variant = null;
  var is_current_variant_available = true;
  var buyNowElement = null;
  var mainNewButton = null;
  var notify_me_text = "Notify Me";
  var shop_domain = "";
  var dont_show_notify_me_strict = false;

  var variants = product?.variants
  var productCollections = product?.collections

  window.product_id = product_id;
  window.current_variant = current_variant;

  // variables to build custom logic for different brands
  var globalFormEle = null;
  var globalPrimaryBtn = null;
  var globalParentElement = null;

  var variantParam = getParameterByName("variant");
  if (variantParam && !isNaN(variantParam)) {
    // getting variant param from the url and if it is a proper number set the current_variant as that
    current_variant = Number(variantParam);
  // } else if (
  //   !current_variant ||
  //   !product.variants ||
  //   (Array.isArray(product.variants) && product.variants.length <= 0) ||
  //   !Array.isArray(product.variants)
  // ) {
  //   const productFetch = await fetch(`/products/${entityHandle}.js`, {
  //     method: "GET",
  //     headers: {
  //       "Content-Type": "application/json",
  //     },
  //   }).then((res) => res.json());

  //   if (productFetch) {
  //     console.log("Product fetched from /products/:handle.js", productFetch);
      
  //     product = productFetch;
  //     variants = productFetch.variants;
  //   }
  } else if (!current_variant && Array.isArray(product?.variants) && product?.variants.length > 0) {
    // change the current_variant to the first variant in the url

    // window.history.replaceState(
    //   {},
    //   document.title,
    //   window.location.pathname + "?variant=" + product.variants[0].id
    // );

    // getting the first variant that is available
    // if no variant is available then set the current_variant to the first variant
    for (let i = 0; i < product.variants.length; i++) {
      if (product.variants[i].available) {
        current_variant = product.variants[i].id;
        break;
      }
    }

    // else set the first variant as the current variant
    if (!current_variant) {
      current_variant = product.variants[0].id;
    }
  }

  // var popup_id = "";
  // var product = {};
  // var product_id = "";
  // var current_variant = "";
  // var is_current_variant_available = false;
  // var buyNowElement = null;
  // var mainNewButton = null;

  var CREATED_NOTIFY_ME_BUTTON_CLASS = "bitespeed-notify-me-button";
  var CREATED_NOTIFY_ME_BUTTON_CLASS_SELECTOR = `.${CREATED_NOTIFY_ME_BUTTON_CLASS}`;
  var CREATED_NOTIFY_ME_BUTTON_PARENT_CLASS = "bitespeed-notify-me-button-parent";
  var CREATED_NOTIFY_ME_BUTTON_PARENT_CLASS_SELECTOR = `.${CREATED_NOTIFY_ME_BUTTON_PARENT_CLASS}`;

  var notifyMeTexts = ["notify me", "notify"];
  var soldOutTexts = ["sold out", "out of stock"];

  var wordsToRemove = ["sold out", "out of stock"].concat(notifyMeTexts);
  var buyButtonTexts = ["buy now", "buy it", "buy it now", "sold out"];

  var default_formSelector = [
    "form.product_form",
    "form.productForm",
    ".product-form",
    ".product_form",
    ".ProductForm",
    ".shopify-product-form",
    ".product-single__form",
    "form[action='/cart/add']",
    "form[action='/cart/add.js']",
  ];
  var default_buttonSelector = [
    "button[type='submit']",
    "input[name='add']",
    "button[name='add']",
    "input[type='submit']",
    "input[value='Sold out']",
  ];

  const modifyDefaultSelectorsForBrands = () => {
    const shopUrl = window.Shopify.shop;

    if (shopUrl === "vip-lhb2021.myshopify.com") {
      default_formSelector = [".product__form__wrapper"];
      default_buttonSelector = [".wishlisthero-product-page-button-container"];
      // soldOutTexts = soldOutTexts.concat(["add to wishlist"])
      buyButtonTexts = buyButtonTexts.concat(["add to wishlist"]);
    }
  };
  modifyDefaultSelectorsForBrands();

  // UTILS
  function checkIfStringIncludes(string, words) {
    return words.some((word) => string.toLowerCase().includes(word.toLowerCase()));
  }
  function isDefined(value) {
    return null != value;
  }
  function getParameterByName(str, url = window.location.href) {
    str = str.replace(/[\[\]]/g, "\\$&");
    let regex = new RegExp("[?&]" + str + "(=([^&#]*)|&|#|$)").exec(url);
    return regex ? (regex[2] ? decodeURIComponent(regex[2].replace(/\+/g, " ")) : "") : null;
  }
  function addMargin(button) {
    // button.style.margin = "5px";
    button.style.marginTop = "5px";
    button.style.marginLeft = "5px";
    button.style.marginRight = "5px";
    button.style.marginBottom = "5px";
  }

  function onNotifyButtonClicked() {
    // using global variable - bitespeed_popups
    // const product = null
    // const selected_variant = null

    // exact methods and constants from bitespeed-popup.js file
    // console.log(popup_id, "AAAAA", product_id, "VVVV", current_variant, `${(popup_id + "").trim()}:bitespeed_popup`);
    bitespeed_popups[`${(popup_id + "").trim()}:bitespeed_popup`].show("", true, {
      popupTrigger: "back_in_stock",
      productId: product_id,
      variantId: current_variant,
    });
  }

  function addCustomStylesBasedOnBrand(button, isParent) {
    if(isParent) {
      switch (window.Shopify.shop) {
        case 'belvish.myshopify.com': {
          button.style.marginTop = '10px';
          button.style.width = '100%';
        }
        case 'overlays-clothing.myshopify.com': {
          button.style.marginBottom = '16px';
        }
        default:
          break;
      }
      return 
    }

    switch (window.Shopify.shop) {
      case "headphone-zone.myshopify.com": {
        button.style.width = "100%";
        break;
      }
      case "the-indian-ethnic-company.myshopify.com": {
        button.style.margin = "8px 0px";
        break;
      }
      default:
        break;
    }

    return button;
  }

  /**
   * method to add neccessary properties to the
   * new notify button... handling many edges cases as well...
   */
  function addNeccessaryProperties(button) {
    // adding all the neccessary properties
    button.type = "button";
    button.name = "notify_me";
    button.disabled = false;
    button.ariaDisabled = false; // edge case, few websites are using aria-disabled
    // adding/overriding some styles
    button.style.display = "inline-block";
    button.style.opacity = "1";
    button.style.pointerEvents = "auto";
    button.style.cursor = "pointer";
    button.classList.remove("disabled"); // edge case:
    // removing the click events from
    button.click = () => {};
    button.onclick = () => {};

    // some custom brand specific attributes or properties
    button.removeAttribute("data-notification-popup");
    button.removeAttribute("data-add-to-cart");

    const customButton = addCustomStylesBasedOnBrand(button);

    return customButton;
  }

  function ifPassedNumberCondition(condition, conditionValue, actualValue) {
    if (condition === "greater than") {
      return actualValue > conditionValue;
    } else if (condition === "less than") {
      return actualValue < conditionValue;
    } else if (condition === "equals to") {
      return actualValue === conditionValue;
    } else if (condition === "not equals to") {
      return actualValue !== conditionValue;
    } else if (condition === "greater than or equals to") {
      return actualValue >= conditionValue;
    } else if (condition === "less than or equals to") {
      return actualValue <= conditionValue;
    }
    return false;
  }

  function isVariantAvailableBasedOnPopupTriggers() {
    /**
     * this is a part of popup triggers only
     * but being handled here as there are no option for variant-wise trigger
     */
    if (
      window?.bspdPopupProductMetadata !== undefined &&
      window?.bspdPopupProductMetadata !== null
    ) {
      const {
        popupId,
        value,
        condition,

        ...variants
      } = window.bspdPopupProductMetadata || {};
      console.log(variants, "variants asldfjas");

      if (variants[window.ShopifyAnalytics.meta.selectedVariantId]) {
        const inventoryQuantity =
          variants[window.ShopifyAnalytics.meta.selectedVariantId]
            ?.inventoryQuantity || null;

        if (inventoryQuantity === null) return true;

        return !ifPassedNumberCondition(condition, value, inventoryQuantity);
      }

      return true;
    }

    return true;
  }

  function checkVariantIsAvailable() {
    if (!product.variants || product.variants.length <= 0) {
      is_current_variant_available = true;
      return true;
    }

    for (let i = 0; i < product.variants.length; i++) {
      const variantId = Number(product.variants[i].id);
      const currentVariantId = Number(current_variant);

      if (variantId === currentVariantId) {
        if (product.variants[i].available === null || product.variants[i].available === undefined) dont_show_notify_me_strict = true;

        is_current_variant_available = product.variants[i].available;

        const secondaryPopupTriggerCondition = isVariantAvailableBasedOnPopupTriggers();

        return is_current_variant_available && secondaryPopupTriggerCondition;
      }
    }

    const secondaryPopupTriggerCondition = isVariantAvailableBasedOnPopupTriggers();

    return false && secondaryPopupTriggerCondition;
  }

  function checkOneVariantIsAvailable() {
    let is_variant_available = true,
      is_variant_found = true;

    if (!current_variant) return null;

    if (!product.variants || product.variants.length <= 0) {
      is_vairant_available = true;
      return false;
    }

    for (let i = 0; i < product.variants.length; i++) {
      let variant = product.variants[i];

      // Number(variant.id) === Number(current_variant) && (is_variant_found = variant.available),
      //   (is_variant_available = is_variant_available || variant.available);
      if (Number(variant.id) === Number(current_variant)) {
        is_variant_found = variant.available;
        is_variant_available = is_variant_available || variant.available;
      }
    }

    const secondaryPopupTriggerCondition = isVariantAvailableBasedOnPopupTriggers();

    return (is_variant_available && is_variant_found && product.variants.length >= 1) && secondaryPopupTriggerCondition;
  }

  function refreshBackInStockButton() {
    if (is_current_variant_available) {
      let buttonParent = document.querySelector(CREATED_NOTIFY_ME_BUTTON_PARENT_CLASS_SELECTOR);

      isDefined(buttonParent) && (buttonParent.innerHTML = ""), bspdAddBackInStockButton();
    } else {
      bspdAddBackInStockButton();
    }
  }

  /**
   * This function is used to check if the variant is available and reload the button
   * if it is available.
   */
  function delayedRefreshButton() {
    setTimeout(function () {
      const newVariant = getParameterByName("variant") || window.ShopifyAnalytics.meta.selectedVariantId;
      if (newVariant === null) {
        return;
      }

      let tempVariant = current_variant;
      current_variant = Number(newVariant);

      if (tempVariant !== current_variant) {
        checkVariantIsAvailable();

        refreshBackInStockButton();
      }
    }, 2);
  }

  // custom logic for different brands
  function showNotifyBTNOnCustomBrandLogicPass() {
    /**
     * this variable is a by pass mechanism
     * mostly made when safari is not getting enought variant availability data
     * so we are not showing notify me button
     * in that case...
     */
    if (dont_show_notify_me_strict) return false;

    // dependent on primary button
    if (globalPrimaryBtn) {
      if (shop_domain === "neeshperfumes.com") {
        if (String(globalPrimaryBtn.innerText).toLowerCase() === "validate") return false;
      } else if (shop_domain === "carrypro.in") {
        const getButtonAttributes = globalPrimaryBtn.attributes;
        const disabledAttribute = getButtonAttributes.getNamedItem("disabled");

        return true;
        return disabledAttribute && disabledAttribute.value === "disabled";
        // } else if (shop_domain === 'theindianethnicco.com') {
        //   // custom request of 'theindianethnicco'
        //   // to only show when all the variants are out of stock
        //   return product.variants.every(variant => !variant.available);
      }
    }

    return true;
  }

  /**
   * function to add custom logic for notify me button
   * for few brands the existing button criteria is not enough
   * or maybe the button is not getting rendered properly
   */
  function addCustomLogicForNotifyMeButton() {
    // if(shop_domain === 'capresebags.com') {
    //   const form = document.getElementById('wishlisthero-product-page-button-container');
    //   if(form) {
    //     const button = form.getElementsByClassName('product__form--add-to-cart');
    //     // add the button at the beginning of the form
    //     if(button && button.length > 0) {
    // console.log(111111)
    // createBackInStockButton(button[0], true);
    //     }
    //   }
    // }
  }

  /**
   * this method renders the notify me button taking the reference from the
   * primary original button data
   */
  function createBackInStockButton(buttonReference, dontDisableOgButton = false) {
    let button = document.querySelector(CREATED_NOTIFY_ME_BUTTON_CLASS_SELECTOR);

    if (!isDefined(button)) {
      let newButton = buttonReference.cloneNode(true) || document.createElement("button");
      addNeccessaryProperties(newButton, buttonReference);

      newButton.classList.add(CREATED_NOTIFY_ME_BUTTON_CLASS);
      newButton.innerText = "";
      newButton.onclick = () => {};
      newButton.click = () => {};
      newButton.removeEventListener("click", () => {});

      let textAddedInChild = false;

      for (let child of buttonReference.childNodes) {
        let clonedChild = child.cloneNode(true);
        clonedChild.innerText = "";
        clonedChild.onclick = () => {};
        clonedChild.click = () => {};
        clonedChild.removeEventListener("click", () => {});

        if (child.nodeType === 1) {
          if (checkIfStringIncludes((child.innerText + "").toLowerCase(), wordsToRemove) && !textAddedInChild) {
            textAddedInChild = true;
            clonedChild.innerText = notify_me_text;
          }

          newButton.appendChild(clonedChild);
        }
      }

      if (!textAddedInChild) {
        newButton.innerText = notify_me_text;
      }

      /**
       * removing the disabled class from the button
       */
      if (!dontDisableOgButton)
        if (isDefined(buttonReference)) {
          for (let i = 0; i < newButton.classList.length; i++) {
            if (
              "disabled" === newButton.classList[i] ||
              "pe_none" === newButton.classList[i] ||
              "product__submit__add" === newButton.classList[i] ||
              newButton.classList[i].includes("disabled")
            )
              newButton.classList.remove(newButton.classList[i]);
          }
        }

      newButton.style = "cursor: pointer !important; visibility: visible; " + "; display: block !important;";

      if (window.Shopify.shop === '3b0520-2.myshopify.com') {
        newButton.style = `${newButton.style}; color: #ffffff !important; background-color: #0C1929 !important;`;
      } else if (window.Shopify.shop === 'angel-rocket-india.myshopify.com') {
        newButton.style = `${newButton.style}; color: #FF7E7C !important;`;
      }

      if (!buyNowElement) {
        addMargin(newButton);
        addMargin(buttonReference);
      }

      let buttonParent = document.querySelector(CREATED_NOTIFY_ME_BUTTON_PARENT_CLASS_SELECTOR);
      addCustomStylesBasedOnBrand(buttonParent, true)

      if (showNotifyBTNOnCustomBrandLogicPass()) {
        // isDefined(buttonParent) &&
        buttonParent.appendChild(newButton),
          (newButton.onclick = () => {
            onNotifyButtonClicked();
          }),
          (newButton.ontouchstart = () => {
            onNotifyButtonClicked();
          });

        if (buyNowElement) {
          buyNowElement.style.display = "none";
        }

        buttonParent.style.display = "block";
        globalParentElement.style.display = "block";
      }
    }
  }

  function createBackInStockButtonParent(form, buttonReference) {
    let parent = document.querySelector(CREATED_NOTIFY_ME_BUTTON_PARENT_CLASS_SELECTOR);
    mainNewButton = parent;

    if (!isDefined(parent)) {
      let newParent = document.createElement("div");
      newParent.classList.add(CREATED_NOTIFY_ME_BUTTON_PARENT_CLASS);

      globalParentElement = buttonReference.parentElement;

      if (buttonReference.nextSibling) {
        globalParentElement.style.display = "block";
        globalParentElement.insertBefore(newParent, buttonReference.nextSibling);
      } else {
        globalParentElement.style.display = "block";
        globalParentElement.appendChild(newParent);
      }
      mainNewButton = newParent;
      // form.appendChild(newParent);
    }
    createBackInStockButton(buttonReference);
  }

  function bspdAddBackInStockButton() {
    const is_one_variant_available = checkOneVariantIsAvailable();

    if (is_one_variant_available === null) {
      return;
    }

    if (is_one_variant_available) {
      if (mainNewButton) mainNewButton.style.display = "none";
      if (buyNowElement) {
        buyNowElement.style.display = "block";
      }
      return;
    } else {
      if (buyNowElement) buyNowElement.style.display = "none";
      if (mainNewButton) mainNewButton.style.display = "block";
    }

    let formSelector = default_formSelector.find((e) => document.querySelector(e));
    let formElement = document.querySelector(formSelector);
    globalFormEle = formElement;

    let buttonSelector = default_buttonSelector.find((e) => document.querySelector(formSelector + " " + e));
    let primaryButton = document.querySelector(formSelector + " " + buttonSelector);
    globalPrimaryBtn = primaryButton;

    let siblingElements = Array.from(formElement.querySelectorAll("a, button, input"));

    buyNowElement = siblingElements.find((el) => {
      let innerText = (el.innerText + "").toLowerCase();
      let value = (el.value + "").toLowerCase();

      return checkIfStringIncludes(innerText, buyButtonTexts) || checkIfStringIncludes(value, buyButtonTexts);
    });

    const backInStockButtonParent = document.querySelector(CREATED_NOTIFY_ME_BUTTON_PARENT_CLASS_SELECTOR);
    const isPrimaryButtonOutOfStock = checkIfStringIncludes((primaryButton.innerText + "").toLowerCase(), soldOutTexts);

    return primaryButton &&
      (primaryButton.disabled || primaryButton.hidden || primaryButton.classList.contains("disabled"))
      ? createBackInStockButtonParent(formElement, buyNowElement || primaryButton)
      : !primaryButton && backInStockButtonParent
      ? createBackInStockButton(primaryButton)
      : !isPrimaryButtonOutOfStock || primaryButton || backInStockButtonParent
      ? createBackInStockButtonParent(formElement, buyNowElement || primaryButton)
      : false;
  }

  const storeHaventSetupVariantChange = ['stylobug.myshopify.com'].includes(window.Shopify.shop)

  function addPageChangeListenerEvents() {
    let timer = null;

    document.addEventListener("popstate", (e) => {
      delayedRefreshButton();

      if (storeHaventSetupVariantChange) {
        if (timer) clearTimeout(timer);
        timer = setTimeout(() => {
          // doing this will take sometime, and check for manual variant change event/variable
          delayedRefreshButton();
        }, 200);
      }
    }),
      document.addEventListener("change", (e) => {
        delayedRefreshButton();

        if (storeHaventSetupVariantChange) {
        if (timer) clearTimeout(timer);
        timer = setTimeout(() => {
          // doing this will take sometime, and check for manual variant change event/variable
          delayedRefreshButton();
        }, 200);
      }
      }),
      (function () {
        let e = location.href;
        new MutationObserver(() => {
          const url = location.href;
          if (url !== e) {
            e = url;
            delayedRefreshButton();

            if (storeHaventSetupVariantChange) {
              if (timer) clearTimeout(timer);
              timer = setTimeout(() => {
                // doing this will take sometime, and check for manual variant change event/variable
                delayedRefreshButton();
              }, 200);
            }
          }
        }).observe(document.body, {
          subtree: !0,
          childList: !0,
        });

        // new MutationObserver(() => {
        //   delayedRefreshButton();
        // }).observe(document.body, {
        //   childList: true,
        //   subtree: true,
        //   // attributes: true,
        //   // characterData: true
        // });
      })();
  }

  function passedBrandInitLogic() {
    const shopUrl = window.Shopify.shop;

    switch (shopUrl) {
      case "headphone-zone.myshopify.com":
        if ((BspdCurrentProduct?.tags || []).some(tag => tag.toLowerCase() === "hidenotify"))
          return false;
        break;
      default:
        return true;
        break;
    }

    return true;
  }

  function initNotifyFrontendService(popupid, notifyMeText, shopDomain = "") {
    if (!passedBrandInitLogic()) {
      console.log("Notify Me Service is not initialized due to brand specific logic.");
      return;
    }

    setTimeout(() => {
      popup_id = popupid;
      notify_me_text = notifyMeText || "Notify Me";
      shop_domain = shopDomain || "";

      if (!window.location.pathname.startsWith("/products") && !window.location.pathname.startsWith("/collections")) {
        console.log("Notify Me Service is not available on this page");
        return;
      }

      const renderedNotifyMeButton = bspdAddBackInStockButton();

      console.log("Notify Me Service Initialized");

      if (renderedNotifyMeButton === false) {
        console.log('Cannot render "Notify Me" button due to CSS policies. Please contact support for assistance.');
        addCustomLogicForNotifyMeButton();
      }

      addPageChangeListenerEvents();
    }, 1);
  }
</script>
<!-- END app snippet -->


<!-- END app block --><!-- BEGIN app block: shopify://apps/bucks/blocks/app-embed/4f0a9b06-9da4-4a49-b378-2de9d23a3af3 -->
<script>
  window.bucksCC = window.bucksCC || {};
  window.bucksCC.metaConfig = {};
  window.bucksCC.reConvert = function() {};
  "function" != typeof Object.assign && (Object.assign = function(n) {
    if (null == n) 
      throw new TypeError("Cannot convert undefined or null to object");
    



    for (var r = Object(n), t = 1; t < arguments.length; t++) {
      var e = arguments[t];
      if (null != e) 
        for (var o in e) 
          e.hasOwnProperty(o) && (r[o] = e[o])
    }
    return r
  });

const bucks_validateJson = json => {
    let checkedJson;
    try {
        checkedJson = JSON.parse(json);
    } catch (error) { }
    return checkedJson;
};

  const bucks_encodedData = "";

  const bucks_myshopifyDomain = "www.emperorspices.com";

  const decodedURI = atob(bucks_encodedData);
  const bucks_decodedString = decodeURIComponent(decodedURI);


  const bucks_parsedData = bucks_validateJson(bucks_decodedString) || {};
  Object.assign(window.bucksCC.metaConfig, {

    ... bucks_parsedData,
    money_format: "\u003cspan class=money\u003eRs. {{amount}}\u003c\/span\u003e",
    money_with_currency_format: "\u003cspan class=money\u003eRs. {{amount}}\u003c\/span\u003e",
    userCurrency: "INR"

  });
  window.bucksCC.reConvert = function() {};
  window.bucksCC.themeAppExtension = true;
  window.bucksCC.metaConfig.multiCurrencies = [];
  window.bucksCC.localization = {};
  
  

  window.bucksCC.localization.availableCountries = ["AF","AX","AL","DZ","AD","AO","AI","AG","AR","AM","AW","AC","AU","AT","AZ","BS","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BA","BW","BR","IO","VG","BN","BG","BF","BI","KH","CM","CA","CV","BQ","KY","CF","TD","CL","CN","CX","CC","CO","KM","CG","CD","CK","CR","CI","HR","CW","CY","CZ","DK","DJ","DM","DO","EC","EG","SV","GQ","ER","EE","SZ","ET","FK","FO","FJ","FI","FR","GF","PF","TF","GA","GM","GE","DE","GH","GI","GR","GL","GD","GP","GT","GG","GN","GW","GY","HT","HN","HK","HU","IS","IN","ID","IQ","IE","IM","IL","IT","JM","JP","JE","JO","KZ","KE","KI","XK","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MG","MW","MY","MV","ML","MT","MQ","MR","MU","YT","MX","MD","MC","MN","ME","MS","MA","MZ","MM","NA","NR","NP","NL","NC","NZ","NI","NE","NG","NU","NF","MK","NO","OM","PK","PS","PA","PG","PY","PE","PH","PN","PL","PT","QA","RE","RO","RU","RW","WS","SM","ST","SA","SN","RS","SC","SL","SG","SX","SK","SI","SB","SO","ZA","GS","KR","SS","ES","LK","BL","SH","KN","LC","MF","PM","VC","SD","SR","SJ","SE","CH","TW","TJ","TZ","TH","TL","TG","TK","TO","TT","TA","TN","TR","TM","TC","TV","UM","UG","UA","AE","GB","US","UY","UZ","VU","VA","VE","VN","WF","EH","YE","ZM","ZW"];
  window.bucksCC.localization.availableLanguages = ["en"];

  
  window.bucksCC.metaConfig.multiCurrencies = "INR".split(',') || '';
  window.bucksCC.metaConfig.cartCurrency = "INR" || '';

  if ((((window || {}).bucksCC || {}).metaConfig || {}).instantLoader) {
    self.fetch || (self.fetch = function(e, n) {
      return n = n || {},
      new Promise(function(t, s) {
        var r = new XMLHttpRequest,
          o = [],
          u = [],
          i = {},
          a = function() {
            return {
              ok: 2 == (r.status / 100 | 0),
              statusText: r.statusText,
              status: r.status,
              url: r.responseURL,
              text: function() {
                return Promise.resolve(r.responseText)
              },
              json: function() {
                return Promise.resolve(JSON.parse(r.responseText))
              },
              blob: function() {
                return Promise.resolve(new Blob([r.response]))
              },
              clone: a,
              headers: {
                keys: function() {
                  return o
                },
                entries: function() {
                  return u
                },
                get: function(e) {
                  return i[e.toLowerCase()]
                },
                has: function(e) {
                  return e.toLowerCase() in i
                }
              }
            }
          };
        for (var c in r.open(n.method || "get", e, !0), r.onload = function() {
          r.getAllResponseHeaders().replace(/^(.*?):[^S\n]*([sS]*?)$/gm, function(e, n, t) {
            o.push(n = n.toLowerCase()),
            u.push([n, t]),
            i[n] = i[n]
              ? i[n] + "," + t
              : t
          }),
          t(a())
        },
        r.onerror = s,
        r.withCredentials = "include" == n.credentials,
        n.headers) 
          r.setRequestHeader(c, n.headers[c]);
        r.send(n.body || null)
      })
    });
    !function() {
      function t(t) {
        const e = document.createElement("style");
        e.innerText = t,
        document.head.appendChild(e)
      }
      function e(t) {
        const e = document.createElement("script");
        e.type = "text/javascript",
        e.text = t,
        document.head.appendChild(e),
        console.log("%cBUCKSCC: Instant Loader Activated ⚡️", "background: #1c64f6; color: #fff; font-size: 12px; font-weight:bold; padding: 5px 10px; border-radius: 3px")
      }
      let n = sessionStorage.getItem("bucksccHash");
      (
        n = n
          ? JSON.parse(n)
          : null
      )
        ? e(n)
        : fetch(`https://${bucks_myshopifyDomain}/apps/buckscc/sdk.min.js`, {mode: "no-cors"}).then(function(t) {
          return t.text()
        }).then(function(t) {
          if ((t || "").length > 100) {
            const o = JSON.stringify(t);
            sessionStorage.setItem("bucksccHash", o),
            n = t,
            e(t)
          }
        })
    }();
  }

  const themeAppExLoadEvent = new Event("BUCKSCC_THEME-APP-EXTENSION_LOADED", { bubbles: true, cancelable: false });

  // Dispatch the custom event on the window
  window.dispatchEvent(themeAppExLoadEvent);

</script><!-- END app block --><!-- BEGIN app block: shopify://apps/coupon-x-discount-code-pop-up/blocks/coupon-x/49ebf3b1-06cb-46be-8af6-a07932a42780 -->
<!-- END app block --><script src="https://cdn.shopify.com/extensions/019beb53-316d-7b88-acd6-89ba3042f6f9/cod-king-payment-js-306/assets/script.js" type="text/javascript" defer="defer"></script>
<link href="https://cdn.shopify.com/extensions/019beb53-316d-7b88-acd6-89ba3042f6f9/cod-king-payment-js-306/assets/style.css" rel="stylesheet" type="text/css" media="all">
<link href="https://cdn.shopify.com/extensions/019b80c0-5ba7-77ab-a728-75e1a0ebedc6/c-edd-estimated-delivery-date-27/assets/delivery_coder.css" rel="stylesheet" type="text/css" media="all">
<script src="https://cdn.shopify.com/extensions/019ba2d3-5579-7382-9582-e9b49f858129/bucks-23/assets/widgetLoader.js" type="text/javascript" defer="defer"></script>
<script src="https://cdn.shopify.com/extensions/019a5d80-8710-77bf-8b23-2c737ee4b3e2/coupon-x-live-15/assets/shopify-cx-fronted.js" type="text/javascript" defer="defer"></script>
<link href="https://monorail-edge.shopifysvc.com" rel="dns-prefetch">
<script>(function(){if ("sendBeacon" in navigator && "performance" in window) {try {var session_token_from_headers = performance.getEntriesByType('navigation')[0].serverTiming.find(x => x.name == '_s').description;} catch {var session_token_from_headers = undefined;}var session_cookie_matches = document.cookie.match(/_shopify_s=([^;]*)/);var session_token_from_cookie = session_cookie_matches && session_cookie_matches.length === 2 ? session_cookie_matches[1] : "";var session_token = session_token_from_headers || session_token_from_cookie || "";function handle_abandonment_event(e) {var entries = performance.getEntries().filter(function(entry) {return /monorail-edge.shopifysvc.com/.test(entry.name);});if (!window.abandonment_tracked && entries.length === 0) {window.abandonment_tracked = true;var currentMs = Date.now();var navigation_start = performance.timing.navigationStart;var payload = {shop_id: 58159268038,url: window.location.href,navigation_start,duration: currentMs - navigation_start,session_token,page_type: "page"};window.navigator.sendBeacon("https://monorail-edge.shopifysvc.com/v1/produce", JSON.stringify({schema_id: "online_store_buyer_site_abandonment/1.1",payload: payload,metadata: {event_created_at_ms: currentMs,event_sent_at_ms: currentMs}}));}}window.addEventListener('pagehide', handle_abandonment_event);}}());</script>
<script id="web-pixels-manager-setup">(function e(e,d,r,n,o){if(void 0===o&&(o={}),!Boolean(null===(a=null===(i=window.Shopify)||void 0===i?void 0:i.analytics)||void 0===a?void 0:a.replayQueue)){var i,a;window.Shopify=window.Shopify||{};var t=window.Shopify;t.analytics=t.analytics||{};var s=t.analytics;s.replayQueue=[],s.publish=function(e,d,r){return s.replayQueue.push([e,d,r]),!0};try{self.performance.mark("wpm:start")}catch(e){}var l=function(){var e={modern:/Edge?\/(1{2}[4-9]|1[2-9]\d|[2-9]\d{2}|\d{4,})\.\d+(\.\d+|)|Firefox\/(1{2}[4-9]|1[2-9]\d|[2-9]\d{2}|\d{4,})\.\d+(\.\d+|)|Chrom(ium|e)\/(9{2}|\d{3,})\.\d+(\.\d+|)|(Maci|X1{2}).+ Version\/(15\.\d+|(1[6-9]|[2-9]\d|\d{3,})\.\d+)([,.]\d+|)( \(\w+\)|)( Mobile\/\w+|) Safari\/|Chrome.+OPR\/(9{2}|\d{3,})\.\d+\.\d+|(CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS|CPU iPad OS)[ +]+(15[._]\d+|(1[6-9]|[2-9]\d|\d{3,})[._]\d+)([._]\d+|)|Android:?[ /-](13[3-9]|1[4-9]\d|[2-9]\d{2}|\d{4,})(\.\d+|)(\.\d+|)|Android.+Firefox\/(13[5-9]|1[4-9]\d|[2-9]\d{2}|\d{4,})\.\d+(\.\d+|)|Android.+Chrom(ium|e)\/(13[3-9]|1[4-9]\d|[2-9]\d{2}|\d{4,})\.\d+(\.\d+|)|SamsungBrowser\/([2-9]\d|\d{3,})\.\d+/,legacy:/Edge?\/(1[6-9]|[2-9]\d|\d{3,})\.\d+(\.\d+|)|Firefox\/(5[4-9]|[6-9]\d|\d{3,})\.\d+(\.\d+|)|Chrom(ium|e)\/(5[1-9]|[6-9]\d|\d{3,})\.\d+(\.\d+|)([\d.]+$|.*Safari\/(?![\d.]+ Edge\/[\d.]+$))|(Maci|X1{2}).+ Version\/(10\.\d+|(1[1-9]|[2-9]\d|\d{3,})\.\d+)([,.]\d+|)( \(\w+\)|)( Mobile\/\w+|) Safari\/|Chrome.+OPR\/(3[89]|[4-9]\d|\d{3,})\.\d+\.\d+|(CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS|CPU iPad OS)[ +]+(10[._]\d+|(1[1-9]|[2-9]\d|\d{3,})[._]\d+)([._]\d+|)|Android:?[ /-](13[3-9]|1[4-9]\d|[2-9]\d{2}|\d{4,})(\.\d+|)(\.\d+|)|Mobile Safari.+OPR\/([89]\d|\d{3,})\.\d+\.\d+|Android.+Firefox\/(13[5-9]|1[4-9]\d|[2-9]\d{2}|\d{4,})\.\d+(\.\d+|)|Android.+Chrom(ium|e)\/(13[3-9]|1[4-9]\d|[2-9]\d{2}|\d{4,})\.\d+(\.\d+|)|Android.+(UC? ?Browser|UCWEB|U3)[ /]?(15\.([5-9]|\d{2,})|(1[6-9]|[2-9]\d|\d{3,})\.\d+)\.\d+|SamsungBrowser\/(5\.\d+|([6-9]|\d{2,})\.\d+)|Android.+MQ{2}Browser\/(14(\.(9|\d{2,})|)|(1[5-9]|[2-9]\d|\d{3,})(\.\d+|))(\.\d+|)|K[Aa][Ii]OS\/(3\.\d+|([4-9]|\d{2,})\.\d+)(\.\d+|)/},d=e.modern,r=e.legacy,n=navigator.userAgent;return n.match(d)?"modern":n.match(r)?"legacy":"unknown"}(),u="modern"===l?"modern":"legacy",c=(null!=n?n:{modern:"",legacy:""})[u],f=function(e){return[e.baseUrl,"/wpm","/b",e.hashVersion,"modern"===e.buildTarget?"m":"l",".js"].join("")}({baseUrl:d,hashVersion:r,buildTarget:u}),m=function(e){var d=e.version,r=e.bundleTarget,n=e.surface,o=e.pageUrl,i=e.monorailEndpoint;return{emit:function(e){var a=e.status,t=e.errorMsg,s=(new Date).getTime(),l=JSON.stringify({metadata:{event_sent_at_ms:s},events:[{schema_id:"web_pixels_manager_load/3.1",payload:{version:d,bundle_target:r,page_url:o,status:a,surface:n,error_msg:t},metadata:{event_created_at_ms:s}}]});if(!i)return console&&console.warn&&console.warn("[Web Pixels Manager] No Monorail endpoint provided, skipping logging."),!1;try{return self.navigator.sendBeacon.bind(self.navigator)(i,l)}catch(e){}var u=new XMLHttpRequest;try{return u.open("POST",i,!0),u.setRequestHeader("Content-Type","text/plain"),u.send(l),!0}catch(e){return console&&console.warn&&console.warn("[Web Pixels Manager] Got an unhandled error while logging to Monorail."),!1}}}}({version:r,bundleTarget:l,surface:e.surface,pageUrl:self.location.href,monorailEndpoint:e.monorailEndpoint});try{o.browserTarget=l,function(e){var d=e.src,r=e.async,n=void 0===r||r,o=e.onload,i=e.onerror,a=e.sri,t=e.scriptDataAttributes,s=void 0===t?{}:t,l=document.createElement("script"),u=document.querySelector("head"),c=document.querySelector("body");if(l.async=n,l.src=d,a&&(l.integrity=a,l.crossOrigin="anonymous"),s)for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f))try{l.dataset[f]=s[f]}catch(e){}if(o&&l.addEventListener("load",o),i&&l.addEventListener("error",i),u)u.appendChild(l);else{if(!c)throw new Error("Did not find a head or body element to append the script");c.appendChild(l)}}({src:f,async:!0,onload:function(){if(!function(){var e,d;return Boolean(null===(d=null===(e=window.Shopify)||void 0===e?void 0:e.analytics)||void 0===d?void 0:d.initialized)}()){var d=window.webPixelsManager.init(e)||void 0;if(d){var r=window.Shopify.analytics;r.replayQueue.forEach((function(e){var r=e[0],n=e[1],o=e[2];d.publishCustomEvent(r,n,o)})),r.replayQueue=[],r.publish=d.publishCustomEvent,r.visitor=d.visitor,r.initialized=!0}}},onerror:function(){return m.emit({status:"failed",errorMsg:"".concat(f," has failed to load")})},sri:function(e){var d=/^sha384-[A-Za-z0-9+/=]+$/;return"string"==typeof e&&d.test(e)}(c)?c:"",scriptDataAttributes:o}),m.emit({status:"loading"})}catch(e){m.emit({status:"failed",errorMsg:(null==e?void 0:e.message)||"Unknown error"})}}})({shopId: 58159268038,storefrontBaseUrl: "https://www.emperorspices.com",extensionsBaseUrl: "https://extensions.shopifycdn.com/cdn/shopifycloud/web-pixels-manager",monorailEndpoint: "https://monorail-edge.shopifysvc.com/unstable/produce_batch",surface: "storefront-renderer",enabledBetaFlags: ["2dca8a86"],webPixelsConfigList: [{"id":"1037107398","configuration":"{\"accountID\":\"emperorspices-cardamom.myshopify.com\"}","eventPayloadVersion":"v1","runtimeContext":"STRICT","scriptVersion":"38afed2d2efdbd19caf2208d571fc103","type":"APP","apiClientId":3128379,"privacyPurposes":["ANALYTICS","MARKETING","SALE_OF_DATA"],"dataSharingAdjustments":{"protectedCustomerApprovalScopes":["read_customer_address","read_customer_email","read_customer_name","read_customer_personal_data","read_customer_phone"]}},{"id":"474153158","configuration":"{\"config\":\"{\\\"google_tag_ids\\\":[\\\"GT-M63JX29\\\"],\\\"target_country\\\":\\\"IN\\\",\\\"gtag_events\\\":[{\\\"type\\\":\\\"view_item\\\",\\\"action_label\\\":\\\"MC-VK3LXHZJ5L\\\"},{\\\"type\\\":\\\"purchase\\\",\\\"action_label\\\":\\\"MC-VK3LXHZJ5L\\\"},{\\\"type\\\":\\\"page_view\\\",\\\"action_label\\\":\\\"MC-VK3LXHZJ5L\\\"}],\\\"enable_monitoring_mode\\\":false}\"}","eventPayloadVersion":"v1","runtimeContext":"OPEN","scriptVersion":"b2a88bafab3e21179ed38636efcd8a93","type":"APP","apiClientId":1780363,"privacyPurposes":[],"dataSharingAdjustments":{"protectedCustomerApprovalScopes":["read_customer_address","read_customer_email","read_customer_name","read_customer_personal_data","read_customer_phone"]}},{"id":"193659078","configuration":"{\"pixel_id\":\"960097991265838\",\"pixel_type\":\"facebook_pixel\",\"metaapp_system_user_token\":\"-\"}","eventPayloadVersion":"v1","runtimeContext":"OPEN","scriptVersion":"ca16bc87fe92b6042fbaa3acc2fbdaa6","type":"APP","apiClientId":2329312,"privacyPurposes":["ANALYTICS","MARKETING","SALE_OF_DATA"],"dataSharingAdjustments":{"protectedCustomerApprovalScopes":["read_customer_address","read_customer_email","read_customer_name","read_customer_personal_data","read_customer_phone"]}},{"id":"29851846","eventPayloadVersion":"1","runtimeContext":"LAX","scriptVersion":"3","type":"CUSTOM","privacyPurposes":["ANALYTICS","MARKETING","SALE_OF_DATA"],"name":"Customers events- ESP"},{"id":"shopify-app-pixel","configuration":"{}","eventPayloadVersion":"v1","runtimeContext":"STRICT","scriptVersion":"0450","apiClientId":"shopify-pixel","type":"APP","privacyPurposes":["ANALYTICS","MARKETING"]},{"id":"shopify-custom-pixel","eventPayloadVersion":"v1","runtimeContext":"LAX","scriptVersion":"0450","apiClientId":"shopify-pixel","type":"CUSTOM","privacyPurposes":["ANALYTICS","MARKETING"]}],isMerchantRequest: false,initData: {"shop":{"name":"Emperor Spices Cardamom","paymentSettings":{"currencyCode":"INR"},"myshopifyDomain":"emperorspices-cardamom.myshopify.com","countryCode":"IN","storefrontUrl":"https:\/\/www.emperorspices.com"},"customer":null,"cart":null,"checkout":null,"productVariants":[],"purchasingCompany":null},},"https://www.emperorspices.com/cdn","fcfee988w5aeb613cpc8e4bc33m6693e112",{"modern":"","legacy":""},{"shopId":"58159268038","storefrontBaseUrl":"https:\/\/www.emperorspices.com","extensionBaseUrl":"https:\/\/extensions.shopifycdn.com\/cdn\/shopifycloud\/web-pixels-manager","surface":"storefront-renderer","enabledBetaFlags":"[\"2dca8a86\"]","isMerchantRequest":"false","hashVersion":"fcfee988w5aeb613cpc8e4bc33m6693e112","publish":"custom","events":"[[\"page_viewed\",{}]]"});</script><script>
  window.ShopifyAnalytics = window.ShopifyAnalytics || {};
  window.ShopifyAnalytics.meta = window.ShopifyAnalytics.meta || {};
  window.ShopifyAnalytics.meta.currency = 'INR';
  var meta = {"page":{"pageType":"page","resourceType":"page","resourceId":85401796806,"requestId":"6a9c945a-8f36-4463-b97e-7a49badc7355-1769236211"}};
  for (var attr in meta) {
    window.ShopifyAnalytics.meta[attr] = meta[attr];
  }
</script>
<script class="analytics">
  (function () {
    var customDocumentWrite = function(content) {
      var jquery = null;

      if (window.jQuery) {
        jquery = window.jQuery;
      } else if (window.Checkout && window.Checkout.$) {
        jquery = window.Checkout.$;
      }

      if (jquery) {
        jquery('body').append(content);
      }
    };

    var hasLoggedConversion = function(token) {
      if (token) {
        return document.cookie.indexOf('loggedConversion=' + token) !== -1;
      }
      return false;
    }

    var setCookieIfConversion = function(token) {
      if (token) {
        var twoMonthsFromNow = new Date(Date.now());
        twoMonthsFromNow.setMonth(twoMonthsFromNow.getMonth() + 2);

        document.cookie = 'loggedConversion=' + token + '; expires=' + twoMonthsFromNow;
      }
    }

    var trekkie = window.ShopifyAnalytics.lib = window.trekkie = window.trekkie || [];
    if (trekkie.integrations) {
      return;
    }
    trekkie.methods = [
      'identify',
      'page',
      'ready',
      'track',
      'trackForm',
      'trackLink'
    ];
    trekkie.factory = function(method) {
      return function() {
        var args = Array.prototype.slice.call(arguments);
        args.unshift(method);
        trekkie.push(args);
        return trekkie;
      };
    };
    for (var i = 0; i < trekkie.methods.length; i++) {
      var key = trekkie.methods[i];
      trekkie[key] = trekkie.factory(key);
    }
    trekkie.load = function(config) {
      trekkie.config = config || {};
      trekkie.config.initialDocumentCookie = document.cookie;
      var first = document.getElementsByTagName('script')[0];
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.onerror = function(e) {
        var scriptFallback = document.createElement('script');
        scriptFallback.type = 'text/javascript';
        scriptFallback.onerror = function(error) {
                var Monorail = {
      produce: function produce(monorailDomain, schemaId, payload) {
        var currentMs = new Date().getTime();
        var event = {
          schema_id: schemaId,
          payload: payload,
          metadata: {
            event_created_at_ms: currentMs,
            event_sent_at_ms: currentMs
          }
        };
        return Monorail.sendRequest("https://" + monorailDomain + "/v1/produce", JSON.stringify(event));
      },
      sendRequest: function sendRequest(endpointUrl, payload) {
        // Try the sendBeacon API
        if (window && window.navigator && typeof window.navigator.sendBeacon === 'function' && typeof window.Blob === 'function' && !Monorail.isIos12()) {
          var blobData = new window.Blob([payload], {
            type: 'text/plain'
          });

          if (window.navigator.sendBeacon(endpointUrl, blobData)) {
            return true;
          } // sendBeacon was not successful

        } // XHR beacon

        var xhr = new XMLHttpRequest();

        try {
          xhr.open('POST', endpointUrl);
          xhr.setRequestHeader('Content-Type', 'text/plain');
          xhr.send(payload);
        } catch (e) {
          console.log(e);
        }

        return false;
      },
      isIos12: function isIos12() {
        return window.navigator.userAgent.lastIndexOf('iPhone; CPU iPhone OS 12_') !== -1 || window.navigator.userAgent.lastIndexOf('iPad; CPU OS 12_') !== -1;
      }
    };
    Monorail.produce('monorail-edge.shopifysvc.com',
      'trekkie_storefront_load_errors/1.1',
      {shop_id: 58159268038,
      theme_id: 124430713030,
      app_name: "storefront",
      context_url: window.location.href,
      source_url: "//www.emperorspices.com/cdn/s/trekkie.storefront.8d95595f799fbf7e1d32231b9a28fd43b70c67d3.min.js"});

        };
        scriptFallback.async = true;
        scriptFallback.src = '//www.emperorspices.com/cdn/s/trekkie.storefront.8d95595f799fbf7e1d32231b9a28fd43b70c67d3.min.js';
        first.parentNode.insertBefore(scriptFallback, first);
      };
      script.async = true;
      script.src = '//www.emperorspices.com/cdn/s/trekkie.storefront.8d95595f799fbf7e1d32231b9a28fd43b70c67d3.min.js';
      first.parentNode.insertBefore(script, first);
    };
    trekkie.load(
      {"Trekkie":{"appName":"storefront","development":false,"defaultAttributes":{"shopId":58159268038,"isMerchantRequest":null,"themeId":124430713030,"themeCityHash":"15354918876271478794","contentLanguage":"en","currency":"INR","eventMetadataId":"fa51d7a0-d848-4a26-b1cd-c65a09a7ba30"},"isServerSideCookieWritingEnabled":true,"monorailRegion":"shop_domain","enabledBetaFlags":["65f19447"]},"Session Attribution":{},"S2S":{"facebookCapiEnabled":true,"source":"trekkie-storefront-renderer","apiClientId":580111}}
    );

    var loaded = false;
    trekkie.ready(function() {
      if (loaded) return;
      loaded = true;

      window.ShopifyAnalytics.lib = window.trekkie;

      var originalDocumentWrite = document.write;
      document.write = customDocumentWrite;
      try { window.ShopifyAnalytics.merchantGoogleAnalytics.call(this); } catch(error) {};
      document.write = originalDocumentWrite;

      window.ShopifyAnalytics.lib.page(null,{"pageType":"page","resourceType":"page","resourceId":85401796806,"requestId":"6a9c945a-8f36-4463-b97e-7a49badc7355-1769236211","shopifyEmitted":true});

      var match = window.location.pathname.match(/checkouts\/(.+)\/(thank_you|post_purchase)/)
      var token = match? match[1]: undefined;
      if (!hasLoggedConversion(token)) {
        setCookieIfConversion(token);
        
      }
    });


        var eventsListenerScript = document.createElement('script');
        eventsListenerScript.async = true;
        eventsListenerScript.src = "//www.emperorspices.com/cdn/shopifycloud/storefront/assets/shop_events_listener-3da45d37.js";
        document.getElementsByTagName('head')[0].appendChild(eventsListenerScript);

})();</script>
  <script>
  if (!window.ga || (window.ga && typeof window.ga !== 'function')) {
    window.ga = function ga() {
      (window.ga.q = window.ga.q || []).push(arguments);
      if (window.Shopify && window.Shopify.analytics && typeof window.Shopify.analytics.publish === 'function') {
        window.Shopify.analytics.publish("ga_stub_called", {}, {sendTo: "google_osp_migration"});
      }
      console.error("Shopify's Google Analytics stub called with:", Array.from(arguments), "\nSee https://help.shopify.com/manual/promoting-marketing/pixels/pixel-migration#google for more information.");
    };
    if (window.Shopify && window.Shopify.analytics && typeof window.Shopify.analytics.publish === 'function') {
      window.Shopify.analytics.publish("ga_stub_initialized", {}, {sendTo: "google_osp_migration"});
    }
  }
</script>
<script
  defer
  src="https://www.emperorspices.com/cdn/shopifycloud/perf-kit/shopify-perf-kit-3.0.4.min.js"
  data-application="storefront-renderer"
  data-shop-id="58159268038"
  data-render-region="gcp-asia-southeast1"
  data-page-type="page"
  data-theme-instance-id="124430713030"
  data-theme-name="Alchemy"
  data-theme-version="3.1.13"
  data-monorail-region="shop_domain"
  data-resource-timing-sampling-rate="10"
  data-shs="true"
  data-shs-beacon="true"
  data-shs-export-with-fetch="true"
  data-shs-logs-sample-rate="1"
  data-shs-beacon-endpoint="https://www.emperorspices.com/api/collect"
></script>
</head>

<body id="the-making-of-the-worlds-best-cardamom" class="template-page content-overlaps" >

  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WW8X6G4"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
  

  <script>
    document.body.classList.add("cc-animate-enabled");
  </script>


<a class="skip-link visually-hidden" href="#main">Skip to content</a>

  <div id="shopify-section-announcement" class="shopify-section">
</div>

  <div id="shopify-section-header" class="shopify-section shopify-section--header"><style data-shopify>
.pageheader .logo .logo__image { max-width: 130px }
  @media(min-width: 768px) {
    .pageheader .logo .logo__image { max-width: 130px; }
  }
  .pageheader__contents--inline--visible.pageheader__contents--inline--left-logo .header-items,
  .pageheader__contents--inline--visible.pageheader__contents--inline--left-logo .logo {
    flex-basis: 132px !important;
  }
  .pageheader__contents--inline--left-logo:not(.pageheader__contents--inline--visible) .site-control__inline-links .nav-row {
    min-width: calc(100vw - 364px);
  }.scrolled-down .pageheader .logo__image { max-width: 98px }@media (max-width: 767px) {
        .scrolled-down .pageheader .logo__image { max-width: 85px }
      }
  .feature-page-title .breadcrumbs { margin-top: 143px !important }.banner-under-header .banner-image.flexible-height .overlay .innest { padding-top: 118px }
    @media (min-width: 768px) {
      .banner-under-header .banner-image.fixed-height .overlay .innest { padding-top: 118px; margin-bottom: 60px }
    }.shopify-section--header {
    position: -webkit-sticky;
    position: sticky;
  }</style>
<div data-section-type="header">
  <div id="pageheader" class="pageheader" data-cc-animate><header class="pageheader__contents
      pageheader__contents--sticky
      pageheader__contents--overlap
      pageheader__contents--inline
      pageheader__contents--inline--left-logo
      "
      data-nav-inline="true"
      id="pageheader__contents">

      <div class="pageheader__layout">
        <div class="header-left"><div class="site-control__inline-links">
              <div class="nav-row multi-level-nav reveal-on-hover" role="navigation" aria-label="Primary navigation">
                <div class="tier-1">
                  <ul>
                    
<li class="">
                        <a href="/" class=" " >
                          Home
                        </a>

                        
                      </li>
                    
<li class="">
                        <a href="/pages/about" class=" " >
                          About
                        </a>

                        
                      </li>
                    
<li class="">
                        <a href="/collections/cardamom-packs" class=" " >
                          Shop
                        </a>

                        
                      </li>
                    
<li class="">
                        <a href="/blogs/recipes" class=" " >
                          Recipes
                        </a>

                        
                      </li>
                    
<li class="">
                        <a href="/blogs/p" class=" " >
                          Blogs
                        </a>

                        
                      </li>
                    
<li class="">
                        <a href="/pages/csr" class=" " >
                          CSR
                        </a>

                        
                      </li>
                    
<li class="">
                        <a href="/pages/faqs" class=" " >
                          FAQs
                        </a>

                        
                      </li>
                    
                  </ul>

                  

                </div>
              </div>
            </div><a href="#" class="main-menu-toggle" aria-controls="main-menu" aria-label="Menu">
            <div class="icon-burger">
              <span class="line line-1"></span>
              <span class="line line-2"></span>
              <span class="line line-3"></span>
            </div>
            <span class="main-menu-toggle__text main-menu-toggle__text--menu">Menu</span>
            <span class="main-menu-toggle__text main-menu-toggle__text--close">Close</span>
            <span class="main-menu-toggle__text main-menu-toggle__text--back">Back</span>
          </a>

          <div id="main-menu">
            <div class="main-menu-inner">
              <div class="main-menu-panel-wrapper">
                <nav class="main-menu-panel" id="main-menu-panel" aria-label="Primary">

                  <ul class="main-menu-links"><li class="main-menu-list-item">
                        <a class="main-menu-link" href="/" >Home</a>
                      </li><li class="main-menu-list-item">
                        <a class="main-menu-link" href="/pages/about" >About</a>
                      </li><li class="main-menu-list-item">
                        <a class="main-menu-link" href="/collections/cardamom-packs" >Shop</a>
                      </li><li class="main-menu-list-item">
                        <a class="main-menu-link" href="/blogs/recipes" >Recipes</a>
                      </li><li class="main-menu-list-item">
                        <a class="main-menu-link" href="/blogs/p" >Blogs</a>
                      </li><li class="main-menu-list-item">
                        <a class="main-menu-link" href="/pages/csr" >CSR</a>
                      </li><li class="main-menu-list-item">
                        <a class="main-menu-link" href="/pages/faqs" >FAQs</a>
                      </li>
                      
                        <li class="main-menu-account-link main-menu-list-item"><a class="main-menu-link" href="/account/login">Account</a></li>
                      
                    
                  </ul>

                  

                  
                    <div class="main-menu-section store-localization">
                      <form method="post" action="/localization" id="localization_form_menu" accept-charset="UTF-8" class="selectors-form" enctype="multipart/form-data"><input type="hidden" name="form_type" value="localization" /><input type="hidden" name="utf8" value="✓" /><input type="hidden" name="_method" value="put" /><input type="hidden" name="return_to" value="/pages/the-making-of-the-world-s-best-cardamom" /></form>
                    </div>
                  

                  

                  

                  
                    <div class="main-menu-section main-menu-section--socials">
                      

  <div class="social-links ">
    <ul class="social-links__list">
      
        <li><a aria-label="Twitter" class="twitter" target="_blank" rel="noopener" href="https://twitter.com/allepeycardamom"><svg width="48px" height="40px" viewBox="0 0 48 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Twitter</title>
    <defs></defs>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g transform="translate(-240.000000, -299.000000)">
            <path d="M288,303.735283 C286.236309,304.538462 284.337383,305.081618 282.345483,305.324305 C284.379644,304.076201 285.940482,302.097147 286.675823,299.739617 C284.771263,300.895269 282.666667,301.736006 280.418384,302.18671 C278.626519,300.224991 276.065504,299 273.231203,299 C267.796443,299 263.387216,303.521488 263.387216,309.097508 C263.387216,309.88913 263.471738,310.657638 263.640782,311.397255 C255.456242,310.975442 248.201444,306.959552 243.341433,300.843265 C242.493397,302.339834 242.008804,304.076201 242.008804,305.925244 C242.008804,309.426869 243.747139,312.518238 246.389857,314.329722 C244.778306,314.280607 243.256911,313.821235 241.9271,313.070061 L241.9271,313.194294 C241.9271,318.08848 245.322064,322.17082 249.8299,323.095341 C249.004402,323.33225 248.133826,323.450704 247.235077,323.450704 C246.601162,323.450704 245.981335,323.390033 245.381229,323.271578 C246.634971,327.28169 250.269414,330.2026 254.580032,330.280607 C251.210424,332.99061 246.961789,334.605634 242.349709,334.605634 C241.555203,334.605634 240.769149,334.559408 240,334.466956 C244.358514,337.327194 249.53689,339 255.095615,339 C273.211481,339 283.114633,323.615385 283.114633,310.270495 C283.114633,309.831347 283.106181,309.392199 283.089276,308.961719 C285.013559,307.537378 286.684275,305.760563 288,303.735283" fill="currentColor"></path>
        </g>
        <g transform="translate(-1332.000000, -476.000000)"></g>
    </g>
</svg></a></li>
      
      
        <li><a aria-label="Facebook" class="facebook" target="_blank" rel="noopener" href="https://www.facebook.com/emperorspices"><svg width="48px" height="48px" viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Facebook</title>
    <defs></defs>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g transform="translate(-325.000000, -295.000000)">
            <path d="M350.638355,343 L327.649232,343 C326.185673,343 325,341.813592 325,340.350603 L325,297.649211 C325,296.18585 326.185859,295 327.649232,295 L370.350955,295 C371.813955,295 373,296.18585 373,297.649211 L373,340.350603 C373,341.813778 371.813769,343 370.350955,343 L358.119305,343 L358.119305,324.411755 L364.358521,324.411755 L365.292755,317.167586 L358.119305,317.167586 L358.119305,312.542641 C358.119305,310.445287 358.701712,309.01601 361.70929,309.01601 L365.545311,309.014333 L365.545311,302.535091 C364.881886,302.446808 362.604784,302.24957 359.955552,302.24957 C354.424834,302.24957 350.638355,305.625526 350.638355,311.825209 L350.638355,317.167586 L344.383122,317.167586 L344.383122,324.411755 L350.638355,324.411755 L350.638355,343 L350.638355,343 Z" fill="currentColor"></path>
        </g>
        <g transform="translate(-1417.000000, -472.000000)"></g>
    </g>
</svg></a></li>
      
      
        <li><a aria-label="Youtube" class="youtube" target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCZXnhbzDc0ni2_0H8hrnDIA"><svg width="48px" height="34px" viewBox="0 0 48 34" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Youtube</title>
    <defs></defs>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g transform="translate(-567.000000, -302.000000)">
            <path d="M586.044,325.269916 L586.0425,311.687742 L599.0115,318.502244 L586.044,325.269916 Z M614.52,309.334163 C614.52,309.334163 614.0505,306.003199 612.612,304.536366 C610.7865,302.610299 608.7405,302.601235 607.803,302.489448 C601.086,302 591.0105,302 591.0105,302 L590.9895,302 C590.9895,302 580.914,302 574.197,302.489448 C573.258,302.601235 571.2135,302.610299 569.3865,304.536366 C567.948,306.003199 567.48,309.334163 567.48,309.334163 C567.48,309.334163 567,313.246723 567,317.157773 L567,320.82561 C567,324.73817 567.48,328.64922 567.48,328.64922 C567.48,328.64922 567.948,331.980184 569.3865,333.447016 C571.2135,335.373084 573.612,335.312658 574.68,335.513574 C578.52,335.885191 591,336 591,336 C591,336 601.086,335.984894 607.803,335.495446 C608.7405,335.382148 610.7865,335.373084 612.612,333.447016 C614.0505,331.980184 614.52,328.64922 614.52,328.64922 C614.52,328.64922 615,324.73817 615,320.82561 L615,317.157773 C615,313.246723 614.52,309.334163 614.52,309.334163 L614.52,309.334163 Z" fill="currentColor"></path>
        </g>
        <g transform="translate(-1659.000000, -479.000000)"></g>
    </g>
</svg></a></li>
      
      
      
        <li><a aria-label="Instagram" class="instagram" target="_blank" rel="noopener" href="https://www.instagram.com/emperorspices/"><svg width="48px" height="48px" viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Instagram</title>
    <defs></defs>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g transform="translate(-642.000000, -295.000000)">
            <path d="M666.000048,295 C659.481991,295 658.664686,295.027628 656.104831,295.144427 C653.550311,295.260939 651.805665,295.666687 650.279088,296.260017 C648.700876,296.873258 647.362454,297.693897 646.028128,299.028128 C644.693897,300.362454 643.873258,301.700876 643.260017,303.279088 C642.666687,304.805665 642.260939,306.550311 642.144427,309.104831 C642.027628,311.664686 642,312.481991 642,319.000048 C642,325.518009 642.027628,326.335314 642.144427,328.895169 C642.260939,331.449689 642.666687,333.194335 643.260017,334.720912 C643.873258,336.299124 644.693897,337.637546 646.028128,338.971872 C647.362454,340.306103 648.700876,341.126742 650.279088,341.740079 C651.805665,342.333313 653.550311,342.739061 656.104831,342.855573 C658.664686,342.972372 659.481991,343 666.000048,343 C672.518009,343 673.335314,342.972372 675.895169,342.855573 C678.449689,342.739061 680.194335,342.333313 681.720912,341.740079 C683.299124,341.126742 684.637546,340.306103 685.971872,338.971872 C687.306103,337.637546 688.126742,336.299124 688.740079,334.720912 C689.333313,333.194335 689.739061,331.449689 689.855573,328.895169 C689.972372,326.335314 690,325.518009 690,319.000048 C690,312.481991 689.972372,311.664686 689.855573,309.104831 C689.739061,306.550311 689.333313,304.805665 688.740079,303.279088 C688.126742,301.700876 687.306103,300.362454 685.971872,299.028128 C684.637546,297.693897 683.299124,296.873258 681.720912,296.260017 C680.194335,295.666687 678.449689,295.260939 675.895169,295.144427 C673.335314,295.027628 672.518009,295 666.000048,295 Z M666.000048,299.324317 C672.40826,299.324317 673.167356,299.348801 675.69806,299.464266 C678.038036,299.570966 679.308818,299.961946 680.154513,300.290621 C681.274771,300.725997 682.074262,301.246066 682.91405,302.08595 C683.753934,302.925738 684.274003,303.725229 684.709379,304.845487 C685.038054,305.691182 685.429034,306.961964 685.535734,309.30194 C685.651199,311.832644 685.675683,312.59174 685.675683,319.000048 C685.675683,325.40826 685.651199,326.167356 685.535734,328.69806 C685.429034,331.038036 685.038054,332.308818 684.709379,333.154513 C684.274003,334.274771 683.753934,335.074262 682.91405,335.91405 C682.074262,336.753934 681.274771,337.274003 680.154513,337.709379 C679.308818,338.038054 678.038036,338.429034 675.69806,338.535734 C673.167737,338.651199 672.408736,338.675683 666.000048,338.675683 C659.591264,338.675683 658.832358,338.651199 656.30194,338.535734 C653.961964,338.429034 652.691182,338.038054 651.845487,337.709379 C650.725229,337.274003 649.925738,336.753934 649.08595,335.91405 C648.246161,335.074262 647.725997,334.274771 647.290621,333.154513 C646.961946,332.308818 646.570966,331.038036 646.464266,328.69806 C646.348801,326.167356 646.324317,325.40826 646.324317,319.000048 C646.324317,312.59174 646.348801,311.832644 646.464266,309.30194 C646.570966,306.961964 646.961946,305.691182 647.290621,304.845487 C647.725997,303.725229 648.246066,302.925738 649.08595,302.08595 C649.925738,301.246066 650.725229,300.725997 651.845487,300.290621 C652.691182,299.961946 653.961964,299.570966 656.30194,299.464266 C658.832644,299.348801 659.59174,299.324317 666.000048,299.324317 Z M666.000048,306.675683 C659.193424,306.675683 653.675683,312.193424 653.675683,319.000048 C653.675683,325.806576 659.193424,331.324317 666.000048,331.324317 C672.806576,331.324317 678.324317,325.806576 678.324317,319.000048 C678.324317,312.193424 672.806576,306.675683 666.000048,306.675683 Z M666.000048,327 C661.581701,327 658,323.418299 658,319.000048 C658,314.581701 661.581701,311 666.000048,311 C670.418299,311 674,314.581701 674,319.000048 C674,323.418299 670.418299,327 666.000048,327 Z M681.691284,306.188768 C681.691284,307.779365 680.401829,309.068724 678.811232,309.068724 C677.22073,309.068724 675.931276,307.779365 675.931276,306.188768 C675.931276,304.598171 677.22073,303.308716 678.811232,303.308716 C680.401829,303.308716 681.691284,304.598171 681.691284,306.188768 Z" fill="currentColor"></path>
        </g>
        <g transform="translate(-1734.000000, -472.000000)"></g>
    </g>
</svg></a></li>
      
      
      

      
    </ul>
  </div>


                    </div>
                  
                </nav></div>
            </div>
          </div>

          <a href="#" class="focus-tint" aria-hidden="true" aria-label="Close"></a>
        </div>

        <div class="logo logo--image" itemscope itemtype="http://schema.org/Organization">
          <meta itemprop="name" content="Emperor Spices Cardamom"><a href="/" class="logo__image " itemprop="url">
            <img src="//www.emperorspices.com/cdn/shop/files/ESP_260x.png?v=1766236878" width="1088" height="990" alt="" itemprop="logo" /></a><a class="logo__text hidden" href="/" itemprop="url">Emperor Spices Cardamom</a></div>

        <div class="header-items">
          
            
              <div class="header-items__item store-localization hide-until-lg">
                <form method="post" action="/localization" id="localization_form_header" accept-charset="UTF-8" class="selectors-form" enctype="multipart/form-data"><input type="hidden" name="form_type" value="localization" /><input type="hidden" name="utf8" value="✓" /><input type="hidden" name="_method" value="put" /><input type="hidden" name="return_to" value="/pages/the-making-of-the-world-s-best-cardamom" /></form>
              </div>
            
            
              <span class="header-items__item header-items__account-link desktop-only">
                <a href="/account" aria-label="Account">
                  <span class="cart-link--icon cart-link--icon__account"><svg width="24px" height="24px" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24">
  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
  <circle cx="12" cy="7" r="4"/>
</svg>
</span>
                </a>
              </span>
            
          
          <span class="header-items__item header-items__search-link">
            <a href="/search" class="header-search-toggle" aria-label="Search">
              <svg width="24px" height="24px" viewBox="-2 -2 34 34" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <title>Search</title>
  <g stroke="none" fill="currentColor" fill-rule="nonzero">
    <path d="M29.6,27.4 L22.9,20.7 C24.6,18.6 25.6,15.9 25.6,13 C25.6,6.1 20,0.5 13.1,0.5 C6.2,0.5 0.5,6.1 0.5,13 C0.5,19.9 6.1,25.5 13,25.5 C15.9,25.5 18.6,24.5 20.7,22.8 L27.4,29.5 L29.6,27.4 Z M3.5,13 C3.5,7.8 7.8,3.5 13,3.5 C18.2,3.5 22.5,7.8 22.5,13 C22.5,18.2 18.2,22.5 13,22.5 C7.8,22.5 3.5,18.2 3.5,13 Z"></path>
  </g>
</svg>

            </a>
          </span>
          <span class="header-items__item header-items__cart-link">
            <a href="/cart" aria-label="Cart">
              <span class="cart-link--icon">
<svg width="24px" height="24px" viewBox="0 -2 37 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <g transform="translate(0.500000, 0.500000)" stroke="none" fill="currentColor" fill-rule="nonzero">
    <path d="M0.2,11 L9.5,29 L26.4,29 L35.7,11 L0.2,11 Z M24.5,26 L11.5,26 L4.8,14 L31.2,14 L24.5,26 L24.5,26 Z M18.5,3 C22.7,3 25.5,6.3 25.5,8.5 L28.5,8.5 C28.5,4.5 24.2,0 18.5,0 C12.8,0 8.5,4.5 8.5,8.5 L11.5,8.5 C11.5,6.3 14.3,3 18.5,3 Z"></path>
  </g>
</svg>
</span>
              
            </a>
          </span>
        </div>
      </div>
    </header>
  </div>

  <div class="header-search">
    <a href="#" class="header-search-toggle" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><title>Close</title><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></a>

    <div class="header-search__content">
      <h2 class="">Search Store</h2>
      <form method="get" action="/search" autocomplete="off">
        <input type="hidden" name="type" value="product" />
        <input type="hidden" name="options[prefix]" value="last" />
        <div class="input-and-button-row">
          <div class="input-and-button-row__input-wrapper input-with-clear">
            <input class="input-and-button-row__input" type="text" name="q" placeholder="Search..." aria-label="Search..."  autocomplete="off" data-previous-value="">
            <a class="input-with-clear__clear" href="#"><svg fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
  <title>Close</title>
  <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
</svg></a>
          </div>
          <button class="button button--alt input-and-button-row__button" type="submit">Go</button>
        </div>
      </form>
      <div class="header-search__results-wrapper"
           data-live-search-vendor="false"
           data-live-search-meta="true">
        <div class="header-search__placeholder"><div class="search-result search-result--placeholder">
              <div class="search-result__link">
                <div class="search-result__image"></div>
                <div class="search-result__detail"><div class="search-result__title"></div>
                  <div class="search-result__price"></div>
                </div>
              </div>
            </div><div class="search-result search-result--placeholder">
              <div class="search-result__link">
                <div class="search-result__image"></div>
                <div class="search-result__detail"><div class="search-result__title"></div>
                  <div class="search-result__price"></div>
                </div>
              </div>
            </div><div class="search-result search-result--placeholder">
              <div class="search-result__link">
                <div class="search-result__image"></div>
                <div class="search-result__detail"><div class="search-result__title"></div>
                  <div class="search-result__price"></div>
                </div>
              </div>
            </div><div class="search-result search-result--placeholder">
              <div class="search-result__link">
                <div class="search-result__image"></div>
                <div class="search-result__detail"><div class="search-result__title"></div>
                  <div class="search-result__price"></div>
                </div>
              </div>
            </div><div class="search-result search-result--placeholder">
              <div class="search-result__link">
                <div class="search-result__image"></div>
                <div class="search-result__detail"><div class="search-result__title"></div>
                  <div class="search-result__price"></div>
                </div>
              </div>
            </div></div>
        <div class="header-search__results"></div>
      </div>

      
    </div>
  </div>
</div>
<style> #shopify-section-header .pageheader__contents {padding: 0 40px;} </style></div>

  

  
  <div class="container">
    <div id="main" class="content-main" role="main">
      

      
<h1 class="common_page_title">The Making of the World’s Best Cardamom</h1>
<div class="common_page_content">
  <div class="inner_banner" style="text-align: start;"><img src="https://cdn.shopify.com/s/files/1/0581/5926/8038/files/making-of-cardamom.jpg?v=1637574582" alt="The Making of the World’s Best Cardamom" style="float: none;"></div>
<div class="content">
<p> </p>
<p>There’s a lot that goes into making the world’s best cardamom. It all begins with where it is grown.</p>
<p>Spice Board of India received the GI tag of Alleppey Green Cardamom. A geographical indication (GI) is a name or sign used on certain products which corresponds to a specific geographical location or origin (e.g., a town, region, or country). It confirms that “indications which identify a good as originating in the territory of a member, or a region or a locality in that territory, where a given quality, reputation or characteristic of the good is essentially attributable to its geographic origin."</p>
<p>Alleppey Green Cardamom received Geographical Indication (GI) status in 2005. It has a unique quality. It is kiln dried and has superior sensory quality, uniform shade of green and a three-cornered ribbed appearance.</p>
<p>Emperor Spices is the authorized user of the GI tag, Alleppey Green Cardamom. This is an assurance of the quality of the produce that you consume.</p>
<p>At the plantation itself, the cardamom is hand-picked and separated by native experts whose skills have been passed down several generations – thus only the very best, fully-matured pods of a certain size are selected.</p>
<p>The graded pods are immediately packed into patented Aroma-Lock packs to seal in the plantation freshness. This is important because the potency of cardamom depends on its aroma and flavour – both of which are locked into the oil within the seeds. When pods are kept exposed, this oil will gradually evaporate and lose its potency. The Aroma-Lock ensures this does not happen.</p>
<p>Each Aroma-Lock pack is itself packed into special UV-Coated cartons, lined with black paper insulation. This ensures that, even during transit, the contents are constantly shielded from nature’s elements.</p>
<p>The pack of Emperor Spices Cardamom reaches you with as close to plantation freshness, as possible, sealed in. We recommend that you keep the contents in the Aroma-Lock pack itself. As long as you seal the Aroma-Lock mechanism after every use, the aroma and flavour will remain locked in for years to come.</p>
</div>
</div>

      
    </div>
  </div>
  

  <script>
    theme.checkForBannerBehindHeader();
  </script>

  <div id="shopify-section-popup" class="shopify-section section-popup">


</div>
  <div id="shopify-section-footer" class="shopify-section"><footer id="pagefooter" class="pagefooter" data-section-type="footer" data-cc-animate>
  
    <div class="signup-section ">
      <div class="container">
        <form method="post" action="/contact#footer-signup-form" id="footer-signup-form" accept-charset="UTF-8" class="contact-form"><input type="hidden" name="form_type" value="customer" /><input type="hidden" name="utf8" value="✓" />
          <input type="hidden" name="contact[tags]" value="prospect,newsletter"/>

          <div class="signup-icon">
<svg width="41px" height="26px" viewBox="0 0 41 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <title>Email</title>
  <g transform="translate(1.500000, 1.000000)" fill="none" stroke="currentColor" stroke-width="2">
    <polygon points="0 0 0 24 38 24 38 0"></polygon>
    <polyline points="0 3 19 14 38 3"></polyline>
  </g>
</svg></div>

          <h2 class="h3">Subscribe for new offers</h2>

          <div class="input-and-button-row">
            <div class="input-and-button-row__input-wrapper">
              <input class="input-and-button-row__input" type="email" placeholder="Email address" value="" aria-label="Email address" name="contact[email]" required />
            </div>
            <button class="button input-and-button-row__button" type="submit">Subscribe</button>
          </div>

          
        </form>
      </div>
    </div>
  

    <div class="container" data-cc-animate>
      <div class="footer-columns footer-columns--count-3">
        
        <nav class="nav footer-columns__column" role="navigation" aria-label="Secondary navigation"><h3 class="footer-column-heading h6">Contact</h3><ul class="footer-nav-links">
            
            <li class="footer-nav-links__item"><a href="#">Samex India Pvt. Ltd.  <br>201, Sabari Samriddhi, V. N. Purav Marg, Chembur, Mumbai - 400 071. India.</a></li>
            
            <li class="footer-nav-links__item"><a href="tel:+912225211125">Call: +91-22-252 111 25</a></li>
            
            <li class="footer-nav-links__item"><a href="tel:+919699196991">Customer Care: +91 96991 96991</a></li>
            
            <li class="footer-nav-links__item"><a href="mailto:birbal@emperorspices.com">E-mail: birbal@emperorspices.com</a></li>
            
          </ul>
        </nav>
        

        
        <nav class="nav footer-columns__column" role="navigation" aria-label="Secondary navigation"><h3 class="footer-column-heading h6">Quick Links</h3><ul class="footer-nav-links">
            
            <li class="footer-nav-links__item"><a href="/search">Search</a></li>
            
            <li class="footer-nav-links__item"><a href="/collections/all">Shop Now</a></li>
            
            <li class="footer-nav-links__item"><a href="/blogs/recipes">Recipes</a></li>
            
            <li class="footer-nav-links__item"><a href="/pages/faqs">FAQs</a></li>
            
          </ul>
        </nav>
        

        
        <nav class="nav footer-columns__column" role="navigation" aria-label="Secondary navigation"><h3 class="footer-column-heading h6">Policy</h3><ul class="footer-nav-links">
            
            <li class="footer-nav-links__item"><a href="/policies/privacy-policy">Privacy Policy</a></li>
            
            <li class="footer-nav-links__item"><a href="/policies/refund-policy">Refund Policy</a></li>
            
            <li class="footer-nav-links__item"><a href="/policies/terms-of-service">Terms & Conditions</a></li>
            
            <li class="footer-nav-links__item"><a href="/policies/shipping-policy">Shipping Policy</a></li>
            
          </ul>
          <div class="crafted">
              <a href="https://www.waterindia.in/" target="_blank" rel="noopener">Crafted by <img width="32px" height="22px" src="https://cdn.shopify.com/s/files/1/0581/5926/8038/files/water.png?v=1708940610" alt="Water Communications" title="Water Communications">
              </a>
          </div>
        </nav>
        

        
      </div>
    </div>
  

  

  

  
    <div class="lower-footer ">
      <div class="container">
        
        
          <div class="lower-footer__full">
            

  <div class="social-links ">
    <ul class="social-links__list">
      
        <li><a aria-label="Twitter" class="twitter" target="_blank" rel="noopener" href="https://twitter.com/allepeycardamom"><svg width="48px" height="40px" viewBox="0 0 48 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Twitter</title>
    <defs></defs>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g transform="translate(-240.000000, -299.000000)">
            <path d="M288,303.735283 C286.236309,304.538462 284.337383,305.081618 282.345483,305.324305 C284.379644,304.076201 285.940482,302.097147 286.675823,299.739617 C284.771263,300.895269 282.666667,301.736006 280.418384,302.18671 C278.626519,300.224991 276.065504,299 273.231203,299 C267.796443,299 263.387216,303.521488 263.387216,309.097508 C263.387216,309.88913 263.471738,310.657638 263.640782,311.397255 C255.456242,310.975442 248.201444,306.959552 243.341433,300.843265 C242.493397,302.339834 242.008804,304.076201 242.008804,305.925244 C242.008804,309.426869 243.747139,312.518238 246.389857,314.329722 C244.778306,314.280607 243.256911,313.821235 241.9271,313.070061 L241.9271,313.194294 C241.9271,318.08848 245.322064,322.17082 249.8299,323.095341 C249.004402,323.33225 248.133826,323.450704 247.235077,323.450704 C246.601162,323.450704 245.981335,323.390033 245.381229,323.271578 C246.634971,327.28169 250.269414,330.2026 254.580032,330.280607 C251.210424,332.99061 246.961789,334.605634 242.349709,334.605634 C241.555203,334.605634 240.769149,334.559408 240,334.466956 C244.358514,337.327194 249.53689,339 255.095615,339 C273.211481,339 283.114633,323.615385 283.114633,310.270495 C283.114633,309.831347 283.106181,309.392199 283.089276,308.961719 C285.013559,307.537378 286.684275,305.760563 288,303.735283" fill="currentColor"></path>
        </g>
        <g transform="translate(-1332.000000, -476.000000)"></g>
    </g>
</svg></a></li>
      
      
        <li><a aria-label="Facebook" class="facebook" target="_blank" rel="noopener" href="https://www.facebook.com/emperorspices"><svg width="48px" height="48px" viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Facebook</title>
    <defs></defs>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g transform="translate(-325.000000, -295.000000)">
            <path d="M350.638355,343 L327.649232,343 C326.185673,343 325,341.813592 325,340.350603 L325,297.649211 C325,296.18585 326.185859,295 327.649232,295 L370.350955,295 C371.813955,295 373,296.18585 373,297.649211 L373,340.350603 C373,341.813778 371.813769,343 370.350955,343 L358.119305,343 L358.119305,324.411755 L364.358521,324.411755 L365.292755,317.167586 L358.119305,317.167586 L358.119305,312.542641 C358.119305,310.445287 358.701712,309.01601 361.70929,309.01601 L365.545311,309.014333 L365.545311,302.535091 C364.881886,302.446808 362.604784,302.24957 359.955552,302.24957 C354.424834,302.24957 350.638355,305.625526 350.638355,311.825209 L350.638355,317.167586 L344.383122,317.167586 L344.383122,324.411755 L350.638355,324.411755 L350.638355,343 L350.638355,343 Z" fill="currentColor"></path>
        </g>
        <g transform="translate(-1417.000000, -472.000000)"></g>
    </g>
</svg></a></li>
      
      
        <li><a aria-label="Youtube" class="youtube" target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCZXnhbzDc0ni2_0H8hrnDIA"><svg width="48px" height="34px" viewBox="0 0 48 34" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Youtube</title>
    <defs></defs>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g transform="translate(-567.000000, -302.000000)">
            <path d="M586.044,325.269916 L586.0425,311.687742 L599.0115,318.502244 L586.044,325.269916 Z M614.52,309.334163 C614.52,309.334163 614.0505,306.003199 612.612,304.536366 C610.7865,302.610299 608.7405,302.601235 607.803,302.489448 C601.086,302 591.0105,302 591.0105,302 L590.9895,302 C590.9895,302 580.914,302 574.197,302.489448 C573.258,302.601235 571.2135,302.610299 569.3865,304.536366 C567.948,306.003199 567.48,309.334163 567.48,309.334163 C567.48,309.334163 567,313.246723 567,317.157773 L567,320.82561 C567,324.73817 567.48,328.64922 567.48,328.64922 C567.48,328.64922 567.948,331.980184 569.3865,333.447016 C571.2135,335.373084 573.612,335.312658 574.68,335.513574 C578.52,335.885191 591,336 591,336 C591,336 601.086,335.984894 607.803,335.495446 C608.7405,335.382148 610.7865,335.373084 612.612,333.447016 C614.0505,331.980184 614.52,328.64922 614.52,328.64922 C614.52,328.64922 615,324.73817 615,320.82561 L615,317.157773 C615,313.246723 614.52,309.334163 614.52,309.334163 L614.52,309.334163 Z" fill="currentColor"></path>
        </g>
        <g transform="translate(-1659.000000, -479.000000)"></g>
    </g>
</svg></a></li>
      
      
      
        <li><a aria-label="Instagram" class="instagram" target="_blank" rel="noopener" href="https://www.instagram.com/emperorspices/"><svg width="48px" height="48px" viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Instagram</title>
    <defs></defs>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g transform="translate(-642.000000, -295.000000)">
            <path d="M666.000048,295 C659.481991,295 658.664686,295.027628 656.104831,295.144427 C653.550311,295.260939 651.805665,295.666687 650.279088,296.260017 C648.700876,296.873258 647.362454,297.693897 646.028128,299.028128 C644.693897,300.362454 643.873258,301.700876 643.260017,303.279088 C642.666687,304.805665 642.260939,306.550311 642.144427,309.104831 C642.027628,311.664686 642,312.481991 642,319.000048 C642,325.518009 642.027628,326.335314 642.144427,328.895169 C642.260939,331.449689 642.666687,333.194335 643.260017,334.720912 C643.873258,336.299124 644.693897,337.637546 646.028128,338.971872 C647.362454,340.306103 648.700876,341.126742 650.279088,341.740079 C651.805665,342.333313 653.550311,342.739061 656.104831,342.855573 C658.664686,342.972372 659.481991,343 666.000048,343 C672.518009,343 673.335314,342.972372 675.895169,342.855573 C678.449689,342.739061 680.194335,342.333313 681.720912,341.740079 C683.299124,341.126742 684.637546,340.306103 685.971872,338.971872 C687.306103,337.637546 688.126742,336.299124 688.740079,334.720912 C689.333313,333.194335 689.739061,331.449689 689.855573,328.895169 C689.972372,326.335314 690,325.518009 690,319.000048 C690,312.481991 689.972372,311.664686 689.855573,309.104831 C689.739061,306.550311 689.333313,304.805665 688.740079,303.279088 C688.126742,301.700876 687.306103,300.362454 685.971872,299.028128 C684.637546,297.693897 683.299124,296.873258 681.720912,296.260017 C680.194335,295.666687 678.449689,295.260939 675.895169,295.144427 C673.335314,295.027628 672.518009,295 666.000048,295 Z M666.000048,299.324317 C672.40826,299.324317 673.167356,299.348801 675.69806,299.464266 C678.038036,299.570966 679.308818,299.961946 680.154513,300.290621 C681.274771,300.725997 682.074262,301.246066 682.91405,302.08595 C683.753934,302.925738 684.274003,303.725229 684.709379,304.845487 C685.038054,305.691182 685.429034,306.961964 685.535734,309.30194 C685.651199,311.832644 685.675683,312.59174 685.675683,319.000048 C685.675683,325.40826 685.651199,326.167356 685.535734,328.69806 C685.429034,331.038036 685.038054,332.308818 684.709379,333.154513 C684.274003,334.274771 683.753934,335.074262 682.91405,335.91405 C682.074262,336.753934 681.274771,337.274003 680.154513,337.709379 C679.308818,338.038054 678.038036,338.429034 675.69806,338.535734 C673.167737,338.651199 672.408736,338.675683 666.000048,338.675683 C659.591264,338.675683 658.832358,338.651199 656.30194,338.535734 C653.961964,338.429034 652.691182,338.038054 651.845487,337.709379 C650.725229,337.274003 649.925738,336.753934 649.08595,335.91405 C648.246161,335.074262 647.725997,334.274771 647.290621,333.154513 C646.961946,332.308818 646.570966,331.038036 646.464266,328.69806 C646.348801,326.167356 646.324317,325.40826 646.324317,319.000048 C646.324317,312.59174 646.348801,311.832644 646.464266,309.30194 C646.570966,306.961964 646.961946,305.691182 647.290621,304.845487 C647.725997,303.725229 648.246066,302.925738 649.08595,302.08595 C649.925738,301.246066 650.725229,300.725997 651.845487,300.290621 C652.691182,299.961946 653.961964,299.570966 656.30194,299.464266 C658.832644,299.348801 659.59174,299.324317 666.000048,299.324317 Z M666.000048,306.675683 C659.193424,306.675683 653.675683,312.193424 653.675683,319.000048 C653.675683,325.806576 659.193424,331.324317 666.000048,331.324317 C672.806576,331.324317 678.324317,325.806576 678.324317,319.000048 C678.324317,312.193424 672.806576,306.675683 666.000048,306.675683 Z M666.000048,327 C661.581701,327 658,323.418299 658,319.000048 C658,314.581701 661.581701,311 666.000048,311 C670.418299,311 674,314.581701 674,319.000048 C674,323.418299 670.418299,327 666.000048,327 Z M681.691284,306.188768 C681.691284,307.779365 680.401829,309.068724 678.811232,309.068724 C677.22073,309.068724 675.931276,307.779365 675.931276,306.188768 C675.931276,304.598171 677.22073,303.308716 678.811232,303.308716 C680.401829,303.308716 681.691284,304.598171 681.691284,306.188768 Z" fill="currentColor"></path>
        </g>
        <g transform="translate(-1734.000000, -472.000000)"></g>
    </g>
</svg></a></li>
      
      
      

      
    </ul>
  </div>


          </div>
        
      </div>
    </div>
  

  <div class="lower-footer lower-footer--lowest" data-cc-animate>
    <div class="container">
      <div class="lower-footer__left">
        <div class="copyright" role="contentinfo">
          <span class="seg"><a href="/">&copy; 2026 Emperor Spices Cardamom</a></span>
          
        </div>
      </div>

      
        <div class="payment-methods lower-footer__right">
          <div class="payment-methods__inner">
            
              <img class="payment-icon lazyload fade-in" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="//www.emperorspices.com/cdn/shopifycloud/storefront/assets/payment_icons/paypal-a7c68b85.svg" width="38" height="24" alt="paypal" />
            
          </div>
        </div>
      
    </div>
  </div>
</footer>



<style> #shopify-section-footer .crafted a {display: inline-flex; align-items: center;} </style></div>

  <div class="hidden">
    <form method="post" action="/contact#signup-form-response" id="signup-form-response" accept-charset="UTF-8" class="contact-form"><input type="hidden" name="form_type" value="customer" /><input type="hidden" name="utf8" value="✓" />
      
    </form>
  </div>

  <script src="//www.emperorspices.com/cdn/shop/t/2/assets/vendor.js?v=10864675333366863941625480286" defer="defer"></script>
  <script src="//www.emperorspices.com/cdn/shop/t/2/assets/theme.js?v=82712249073743220121625480285" defer="defer"></script>

  <script>
  document.addEventListener('DOMContentLoaded', function () {
    const otpFix = () => {
      document.querySelectorAll('input[aria-label^="Please enter OTP character"]').forEach((el) => {
        el.style.width = '2em';
        el.style.height = '2em';
        el.style.fontSize = '1.2em';
        el.style.textAlign = 'center';
        el.style.padding = '2px';
        el.style.border = '1px solid #ccc';
        el.style.boxSizing = 'border-box';
        el.style.color = 'black';
        el.style.backgroundColor = 'white';
        el.style.caretColor = 'auto';
        el.removeAttribute('readonly');
        el.removeAttribute('disabled');
        el.setAttribute('type', 'text');
      });
    };

    // Run fix on load
    otpFix();

    // Also retry in case OTP fields are loaded later (e.g. via React)
    const observer = new MutationObserver(otpFix);
    observer.observe(document.body, { childList: true, subtree: true });
  });
</script>

  
  <!-- Festival CSS -->
  <link rel="stylesheet" type="text/css" href="https://www.waterindia.in/festival-assets/festival.css">
  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="//www.emperorspices.com/cdn/shop/t/2/assets/my-custom.js?v=104887256340285660781672299207" type="text/javascript"></script>

<!-- Festival JS -->
<script type="text/javascript" src="https://www.waterindia.in/festival-assets/festival.js"></script>
  
  
  
 <!-- "snippets/smile-initializer.liquid" was not rendered, the associated app was uninstalled -->


<div id="gtranslate_wrapper" style="display:none;position:fixed;top:0;right:8%;z-index:9999999999;"><!-- GTranslate: https://gtranslate.io/ -->
<style>
.switcher {font-family:Arial;font-size:10pt;text-align:left;cursor:pointer;overflow:hidden;width:163px;line-height:17px;}
.switcher a {text-decoration:none;display:block;font-size:10pt;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;}
.switcher a img {vertical-align:middle;display:inline;border:0;padding:0;margin:0;opacity:0.8;}
.switcher a:hover img {opacity:1;}
.switcher .selected {background:#ffffff linear-gradient(180deg, #efefef 0%, #ffffff 70%);position:relative;z-index:9999;}
.switcher .selected a {border:1px solid #ffffff;color:#52504c;padding:3px 5px;width:151px;}
.switcher .selected a:after {height:16px;display:inline-block;position:absolute;right:5px;width:15px;background-position:50%;background-size:7px;background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 285 285'><path d='M282 76.5l-14.2-14.3a9 9 0 0 0-13.1 0L142.5 174.4 30.3 62.2a9 9 0 0 0-13.2 0L3 76.5a9 9 0 0 0 0 13.1l133 133a9 9 0 0 0 13.1 0l133-133a9 9 0 0 0 0-13z' style='fill:%236a7a44'/></svg>");background-repeat:no-repeat;content:""!important;transition:all .2s;}
.switcher .selected a.open:after {-webkit-transform: rotate(-180deg);transform:rotate(-180deg);}
.switcher .selected a:hover {background:#efefe6}
.switcher .option {position:relative;z-index:9998;border-left:1px solid #ffffff;border-right:1px solid #ffffff;border-bottom:1px solid #ffffff;background-color:#ffffff;display:none;width:161px;max-height:198px;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;overflow-y:auto;overflow-x:hidden;}
.switcher .option a {color:#52504c;padding:3px 5px;}
.switcher .option a:hover {background:#efefe6;}
.switcher .option a.selected {background:#efefe6;}
#selected_lang_name {float: none;}
.l_name {float: none !important;margin: 0;}
.switcher .option::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 3px rgba(0,0,0,0.3);border-radius:5px;background-color:#f5f5f5;}
.switcher .option::-webkit-scrollbar {width:5px;}
.switcher .option::-webkit-scrollbar-thumb {border-radius:5px;-webkit-box-shadow: inset 0 0 3px rgba(0,0,0,.3);background-color:#888;}
</style>

<div class="switcher notranslate">
<div class="selected">
<a href="#" onclick="return false;"><img src="//cdn.gtranslate.net/shopify/assets/flags/16/en.png" height="16" width="16" alt="en" /> English</a>
</div>
<div class="option">
<a href="#" onclick="doGTranslate('en|ar');jQuery('div.switcher div.selected a').html(jQuery(this).html());return false;" title="Arabic" class="nturl"><img data-gt-lazy-src="//cdn.gtranslate.net/shopify/assets/flags/16/ar.png" height="16" width="16" alt="ar" /> Arabic</a><a href="#" onclick="doGTranslate('en|nl');jQuery('div.switcher div.selected a').html(jQuery(this).html());return false;" title="Dutch" class="nturl"><img data-gt-lazy-src="//cdn.gtranslate.net/shopify/assets/flags/16/nl.png" height="16" width="16" alt="nl" /> Dutch</a><a href="#" onclick="doGTranslate('en|en');jQuery('div.switcher div.selected a').html(jQuery(this).html());return false;" title="English" class="nturl selected"><img data-gt-lazy-src="//cdn.gtranslate.net/shopify/assets/flags/16/en.png" height="16" width="16" alt="en" /> English</a><a href="#" onclick="doGTranslate('en|fr');jQuery('div.switcher div.selected a').html(jQuery(this).html());return false;" title="French" class="nturl"><img data-gt-lazy-src="//cdn.gtranslate.net/shopify/assets/flags/16/fr.png" height="16" width="16" alt="fr" /> French</a><a href="#" onclick="doGTranslate('en|de');jQuery('div.switcher div.selected a').html(jQuery(this).html());return false;" title="German" class="nturl"><img data-gt-lazy-src="//cdn.gtranslate.net/shopify/assets/flags/16/de.png" height="16" width="16" alt="de" /> German</a><a href="#" onclick="doGTranslate('en|hi');jQuery('div.switcher div.selected a').html(jQuery(this).html());return false;" title="Hindi" class="nturl"><img data-gt-lazy-src="//cdn.gtranslate.net/shopify/assets/flags/16/hi.png" height="16" width="16" alt="hi" /> Hindi</a><a href="#" onclick="doGTranslate('en|no');jQuery('div.switcher div.selected a').html(jQuery(this).html());return false;" title="Norwegian" class="nturl"><img data-gt-lazy-src="//cdn.gtranslate.net/shopify/assets/flags/16/no.png" height="16" width="16" alt="no" /> Norwegian</a><a href="#" onclick="doGTranslate('en|es');jQuery('div.switcher div.selected a').html(jQuery(this).html());return false;" title="Spanish" class="nturl"><img data-gt-lazy-src="//cdn.gtranslate.net/shopify/assets/flags/16/es.png" height="16" width="16" alt="es" /> Spanish</a><a href="#" onclick="doGTranslate('en|ur');jQuery('div.switcher div.selected a').html(jQuery(this).html());return false;" title="Urdu" class="nturl"><img data-gt-lazy-src="//cdn.gtranslate.net/shopify/assets/flags/16/ur.png" height="16" width="16" alt="ur" /> Urdu</a></div>
</div>
<script>
function GTranslateGetCurrentLang() {var keyValue = document.cookie.match('(^|;) ?googtrans=([^;]*)(;|$)');return keyValue ? keyValue[2].split('/')[2] : null;}
function gt_loadScript(url,callback){var script=document.createElement("script");script.type="text/javascript";if(script.readyState){script.onreadystatechange=function(){if(script.readyState=="loaded"||script.readyState=="complete"){script.onreadystatechange=null;callback()}}}else{script.onload=function(){callback()}}script.src=url;document.getElementsByTagName("head")[0].appendChild(script)}
var gtSwitcherJS = function($){
$('.switcher .selected').click(function() {$('.switcher .option a img').each(function() {if(!$(this)[0].hasAttribute('src'))$(this).attr('src', $(this).attr('data-gt-lazy-src'))});if(!($('.switcher .option').is(':visible'))) {$('.switcher .option').stop(true,true).delay(100).slideDown(500);$('.switcher .selected a').toggleClass('open')}});
$('.switcher .option').bind('mousewheel', function(e) {var options = $('.switcher .option');if(options.is(':visible'))options.scrollTop(options.scrollTop() - e.originalEvent.wheelDelta);return false;});
$('body').not('.switcher').bind('click', function(e) {if($('.switcher .option').is(':visible') && e.target != $('.switcher .option').get(0)) {$('.switcher .option').stop(true,true).delay(100).slideUp(500);$('.switcher .selected a').toggleClass('open')}});
if(typeof GTranslateGetCurrentLang == 'function')if(GTranslateGetCurrentLang() != null)$(document).ready(function() {var lang_html = $('div.switcher div.option').find('img[alt="'+GTranslateGetCurrentLang()+'"]').parent().html();if(typeof lang_html != 'undefined')$('div.switcher div.selected a').html(lang_html.replace('data-gt-lazy-', ''));});
};
gt_loadScript("//code.jquery.com/jquery-1.12.4.min.js", function(){jQuery_gtranslate = jQuery.noConflict(true);gtSwitcherJS(jQuery_gtranslate);});
</script>

<style>
#goog-gt-tt {display:none !important;}
.goog-te-banner-frame {display:none !important;}
.goog-te-menu-value:hover {text-decoration:none !important;}
body {top:0 !important;}
#google_translate_element2 {display:none!important;}
</style>

<div id="google_translate_element2"></div>
<script>
function googleTranslateElementInit2() {new google.translate.TranslateElement({pageLanguage: 'en',autoDisplay: false}, 'google_translate_element2');}
</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit2"></script>


<script>
if(typeof GTranslateGetCurrentLang != 'function')function GTranslateGetCurrentLang() {var keyValue = document.cookie.match('(^|;) ?googtrans=([^;]*)(;|$)');return keyValue ? keyValue[2].split('/')[2] : null;}
function GTranslateFireEvent(element,event){try{if(document.createEventObject){var evt=document.createEventObject();element.fireEvent('on'+event,evt)}else{var evt=document.createEvent('HTMLEvents');evt.initEvent(event,true,true);element.dispatchEvent(evt)}}catch(e){}}
function doGTranslate(lang_pair){if(lang_pair.value)lang_pair=lang_pair.value;if(lang_pair=='')return;var lang=lang_pair.split('|')[1];if(GTranslateGetCurrentLang() == null && lang == lang_pair.split('|')[0])return;if(typeof ga == 'function'){ga('send', 'event', 'GTranslate', lang, location.hostname+location.pathname+location.search);}else{if(typeof _gaq!='undefined')_gaq.push(['_trackEvent', 'GTranslate', lang, location.hostname+location.pathname+location.search]);}var teCombo;var sel=document.getElementsByTagName('select');for(var i=0;i<sel.length;i++)if(/goog-te-combo/.test(sel[i].className))teCombo=sel[i];if(document.getElementById('google_translate_element2')==null||document.getElementById('google_translate_element2').innerHTML.length==0||teCombo.length==0||teCombo.innerHTML.length==0){setTimeout(function(){doGTranslate(lang_pair)},500)}else{teCombo.value=lang;GTranslateFireEvent(teCombo,'change');GTranslateFireEvent(teCombo,'change')}}
</script>
<style>a.glink {text-decoration:none;}
a.glink span {margin-right:3px;font-size:10px;vertical-align:middle;}
a.glink img {vertical-align:middle;display:inline;border:0;padding:0;margin:0;opacity:0.8;}
a.glink:hover img {opacity:1;}
</style></div>
<script>setTimeout(function() {if(typeof window.gtranslate_installed == "undefined" && typeof console != "undefined") console.log("To uninstall GTranslate properly please follow the instructions on https://docs.gtranslate.io/how-tos/how-to-remove-gtranslate-app-from-shopify")}, 4000);</script>
  <!--  Magic Checkout Code Starts -->

<script>
   window.widgetIDForMagicCheckout = "emperorspices";
//    window.widgetClassForMagicCheckout = “shopify-section”;
//    window.configForMagicCheckout = {
//     display: {
//         sequence: [“cod”]
//     }
//   };
//  window.nameForMagicCheckout = “”;
//   window.onDismissMagiCheckout = () => {
//   		location.reload();
//   }
</script>


   
<input id="rzpKey" type="hidden" name="rzpKey" value="rzp_live_IJGWBXpWS3196Z">
  
<script src="https://cdn.razorpay.com/static/shopify/analytics.js"></script>
<script src="https://cdn.razorpay.com/static/shopify/script.js"></script>
  
  
      
<div id="rzp-spinner-backdrop">
	<div id="rzp-spinner">
  		<div id="loading-indicator"/>
	</div>
</div>
 

<style>
  #rzp-spinner-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 9999;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0);
    visibility: hidden;
    opacity: 0;
  }
  #rzp-spinner-backdrop.show {
    visibility: visible;
    opacity: 0.4;
  }
  #rzp-spinner {
    visibility: hidden;
    opacity: 0;
    /* positioning and centering */
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    right: 0;
    margin: auto;
    z-index: 10000;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }
  #rzp-spinner.show {
    visibility: visible;
    opacity: 1;
  }
  @keyframes rotate {
    0% {
      transform: rotate(0);
    }
    100% {
      transform: rotate(360deg);
    }
  }
  #loading-indicator {
    border-radius: 50%;
    width: 80px;
    height: 80px;
    border: 4px solid;
    border-color: rgb(59, 124, 245) transparent rgb(59, 124, 245) rgb(59, 124, 245) !important;
    animation: 1s linear 0s infinite normal none running rotate;
    margin-top: 2px;
    box-sizing: content-box;
  }
 </style>
    
  
<!--  Magic Checkout Code Ends -->


<!-- "snippets/mlveda-currencies-switcher.liquid" was not rendered, the associated app was uninstalled --><!-- "snippets/mlveda-currencies.liquid" was not rendered, the associated app was uninstalled --><!-- "snippets/mlveda-flag.liquid" was not rendered, the associated app was uninstalled --><!-- "snippets/mlveda-currencies-style.liquid" was not rendered, the associated app was uninstalled --><script>var check_edd_data_from_liquid = '1';</script><script src="//www.emperorspices.com/cdn/shop/t/2/assets/edd_specific_product_msg.js?v=136012229591074505521684921739" type="text/javascript"></script>
<script src="//www.emperorspices.com/cdn/shop/t/2/assets/edd_collection_msg.js?v=130879527554976694821684921740" type="text/javascript"></script>
<script src="//www.emperorspices.com/cdn/shop/t/2/assets/edd_product_tag_msg.js?v=8380619751686092641684921742" type="text/javascript"></script>
<script src="//www.emperorspices.com/cdn/shop/t/2/assets/edd_product_vendor_msg.js?v=52388043027845322851684921743" type="text/javascript"></script>
<script src="//www.emperorspices.com/cdn/shop/t/2/assets/edd_all_product_msg.js?v=108840368777819333221684921745" type="text/javascript"></script>
<script src="//www.emperorspices.com/cdn/shop/t/2/assets/edd_exclude_product.js?v=50353361297173646151684921746" type="text/javascript"></script>
<script src="//www.emperorspices.com/cdn/shop/t/2/assets/edd_general_settings.js?v=156770947221285892831684922039" type="text/javascript"></script>

  



<script>

  var edd_is_homepage = `0`;

  if(edd_is_homepage == '1' ){
   
    
    
  }else{

    var edd_product_id = ``;
    var edd_product_title = ``;
    var edd_product_handle = ``;
    var edd_product_type = ``;
    var edd_product_vendor = ``;
    var edd_check_collection_id = ``;
    var edd_product_qty = ``;
    var edd_product_weight = ``;
    var product_avaiable = ``;
    var edd_product_tag = new Array();
    var edd_collection_id = new Array();
            
      for (i = 0; i < document.getElementsByClassName("edd_product_tag").length; i++) {
          edd_product_tag.push(document.querySelector(".product_tag_"+i).innerText);
      }

      
      for (i = 0; i < document.getElementsByClassName("edd_product_collection").length; i++) {
          edd_collection_id.push(document.querySelector(".product_collection_"+i).innerText);
      }
      
  }
  
  
  
  var product_have_qty = 0;
  var edd_message = 'not_set';
  var edd_preview_design = 'not_set';
  var set_specific_msg = 0;
  var is_exclude_product = '0';
  var edd_data;
  var edd_store_country,edd_store_country_code ,edd_user_country ,edd_user_country_code,edd_app_plan,edd_country_name,edd_country_code,edd_store_id;
  //var edd_shop = delivery_shop = Shopify.shop;
  if(typeof delivery_shop !== 'undefined'){
        edd_shop = delivery_shop;          
      }else{           
        edd_shop = Shopify.shop;
      } 

  var is_set_msg_for_product = '0';
  var is_set_msg_for_product_type = '0';
  var is_set_msg_for_product_tag = '0';
  var is_set_msg_for_product_vendor = '0';
  var is_set_msg_for_all_product = '0';
  var is_set_msg_for_collection = '0';
  
function setEDDCookie(cname, cvalue){
      const d = new Date();
      d.setTime(d.getTime() + (24 * 60 * 60 * 1000));
      let expires = "expires="+d.toUTCString();
      document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}
function getEDDCookie(cname){
//console.log('***** get EDD cookie')
      let name = cname + "=";
      let decodedCookie = decodeURIComponent(document.cookie);
      let ca = decodedCookie.split(';');
      for(let i = 0; i <ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == ' ') {
          c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
          return c.substring(name.length, c.length);
        }
      }
      return "";
    }
  
function checkEDDCookie($){
        var check_edd_data = getEDDCookie("edd_data");
 
        if (check_edd_data != ""){
          check_edd_data = JSON.parse(check_edd_data);
          //console.log('=> Cokkie set ')
          setEDDCountry(check_edd_data)
  
        }else {
          //useedd_datarname = prompt("Please enter your name:", "");
            checkUserCountry($);
            //console.log('=> cookie not set');  
        }
}
  
function setEDDCountry(check_edd_data){
 edd_store_country_name = check_edd_data.store_country_name;
 edd_store_country_code = check_edd_data.store_country_code;
 edd_user_country_name = check_edd_data.user_country_name;
 edd_user_country_code = check_edd_data.user_country_code;
 //edd_app_plan = edd_plan_info.plan;  /* 06-10-2022 */
 edd_app_plan = check_edd_data.plan;
 edd_store_id = check_edd_data.store_id;
 edd_trial_store = check_edd_data.trial_store;
 edd_allowed_store = check_edd_data.allowed_store;
 // console.log('edd_store_country '+edd_store_country_name)
 // console.log('edd_store_country_code '+edd_store_country_code)
 // console.log('edd_user_country '+edd_user_country_name)
 // console.log('edd_user_country_code '+edd_user_country_code)
 // console.log('edd_app_plan '+edd_app_plan)
 //  console.log('edd_store_id '+edd_store_id)
  
  if(edd_store_id > 2614 || edd_shop == 'purrfetto.myshopify.com' ||  edd_shop == 'estimated-delivery-date-time.myshopify.com'){
     <!-- check product quantity  -->
    console.log('Qty => based on product qty')
    if(edd_product_qty > 0){product_have_qty = 1;}
  }else{
     <!-- check product avaiable  -->
       console.log('Qty => based on product avaiable')
    if(product_avaiable == 'true'){product_have_qty = 1;}
  }

  getSpecificEDDMsg();

  if(set_specific_msg == 1){
      edd_country_name = edd_user_country_name;
      edd_country_code = edd_user_country_code;
    }else{
      edd_country_name = edd_store_country_name;
      edd_country_code = edd_store_country_code;
    }
  
  //console.log('product_avaiable '+product_avaiable+' product_have_qty '+product_have_qty)
  
  
}
  
/* changelog */
  function checkUserCountry($){
    //console.log('=> get user country ajax ')
   $.ajax({
           url: "//estimated-delivery-days.setubridgeapps.com/estimated-delivery-days/app/src/public/checkEDDPayment",
           data : {shop:edd_shop},
           type:"POST",
           success: function(response){ 
             edd_data = response;
             check_edd_data = JSON.parse(edd_data);
             
             //console.log(typeof(edd_data))
             
             //console.log(edd_data)
             setEDDCountry(check_edd_data);

             checkEddDataInterval = setInterval(function(){
                var check_edd_data = getEDDCookie("edd_data");
 
                if (check_edd_data == ""){
                 setEDDCookie("edd_data", edd_data);
                 clearInterval(checkEddDataInterval);
                }

             },700);
             
             
             
             
           }
         })
  }
/* changelog */


var loadScriptInLiquidData = function (url, callback) {
    var script = document.createElement('script');
    script.type = 'text/javascript';
    if (script.readyState) {
      script.onreadystatechange = function () {
        if (script.readyState == 'loaded' || script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else {
      script.onload = function () {
        callback();
      };
    }
    script.src = url;
    document.getElementsByTagName('head') [0].appendChild(script);
  };

  /* check Jquery loaded in theme or not */
  if((typeof jQuery === 'undefined') || (parseFloat(jQuery.fn.jquery) < 1.7)){
    //console.log(' ***** add jquery ******')
    loadScriptInLiquidData('//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js', function () {
      jQuery191 = jQuery.noConflict(true);
      checkEDDCookie(jQuery191);
    });

  }else{
    //console.log(' ***** jquery added ******')
    checkEDDCookie(jQuery);
  }

  function getSpecificEDDMsg(){
  //check exclude product
  if(typeof edd_exclude_product != 'undefined' && edd_exclude_product != 'not_set' && edd_exclude_product.filter(e => e.check_rule_for  == edd_product_id).length > 0){
    is_exclude_product = '1';
    console.log('=> exclude product')
  }
  
  else {
    // check edd message for product 
    if(typeof edd_specific_product_msg != 'undefined' && edd_specific_product_msg != 'not_set' && edd_specific_product_msg.filter(e => e.check_rule_for  == edd_product_id).length > 0){
      console.log('Specific Mesage type => Product ')
       setEddMessageFromLiquid(edd_specific_product_msg,edd_product_id,'product');
      //console.log('is_set_msg_for_product '+is_set_msg_for_product)
    }
  
     // check edd message for collection 
    if(set_specific_msg == 0 && typeof edd_collection_msg != 'undefined' && edd_collection_msg != 'not_set' ){
      console.log('Specific Mesage type => Collection ')
       //setEddMessageFromLiquid(edd_collection_msg,edd_collection_id)
       for(i=0; i<edd_collection_id.length; i++){
         setEddMessageFromLiquid(edd_collection_msg,edd_collection_id[i],'collection');
         if(is_set_msg_for_collection == '1'){
          break;
        }
        }
    }
   
     // check edd message for product vendor
    if(set_specific_msg == 0 && typeof edd_product_vendor_msg != 'undefined' && edd_product_vendor_msg != 'not_set'  && edd_product_vendor_msg.filter(e => e.check_rule_for  == edd_product_vendor).length > 0){
      console.log('Specific Mesage type => Product Vendor')
      setEddMessageFromLiquid(edd_product_vendor_msg,edd_product_vendor,'vendor')
    }
       
     // check edd message for product tag
     if(set_specific_msg == 0 && typeof edd_product_tag_msg != 'undefined' && edd_product_tag_msg != 'not_set'){
        console.log('Specific Mesage type => Product Tag')
       for(i=0; i<edd_product_tag.length; i++){
         setEddMessageFromLiquid(edd_product_tag_msg,edd_product_tag[i],'tag');
        if(is_set_msg_for_product_tag == '1'){
          break;
        }
       }        
      }

    // check edd message for All product 
    if(set_specific_msg == 0 && typeof edd_all_product_msg != 'undefined' && edd_all_product_msg != 'not_set'  && edd_all_product_msg.filter(e => e.check_rule_for  == 'all_product').length > 0){
        console.log('Specific Mesage type => All Product')
        setEddMessageFromLiquid(edd_all_product_msg,'all_product','all_product')
      }    
    }  
  }

  function setEddMessageFromLiquid(edd_msg_list,check_with,edd_rule_type){
    
    check_edd__in_out_stock_spe_c = edd_msg_list.filter(e => e.check_rule_for  == check_with && e.is_instock == product_have_qty && e.country_code == edd_user_country_code)  
    check_edd_both_edd_spe_c = edd_msg_list.filter(e => e.check_rule_for  == check_with && e.is_instock == 2 && e.country_code == edd_user_country_code ) 
    check_edd__in_out_stock_all_c = edd_msg_list.filter(e => e.check_rule_for  == check_with && e.is_instock == product_have_qty && e.country_code == 'all_country')  
    check_edd_both_edd_all_c = edd_msg_list.filter(e => e.check_rule_for  == check_with && e.is_instock == 2 && e.country_code == 'all_country' ) 

    if(check_edd__in_out_stock_spe_c.length > 0){
    edd_preview_design = check_edd__in_out_stock_spe_c[0].preview_design;
    edd_message = check_edd__in_out_stock_spe_c[0].message;
    set_specific_msg = 1;
    checkSpecificMsgFor(edd_rule_type);
    //console.log('message => '+edd_message)
    //console.log('edd_preview_design => '+edd_preview_design)
    }
    else if(check_edd_both_edd_spe_c.length > 0){
    edd_preview_design = check_edd_both_edd_spe_c[0].preview_design;
    edd_message = check_edd_both_edd_spe_c[0].message;
    set_specific_msg = 1;
    checkSpecificMsgFor(edd_rule_type);
    //console.log('message => '+edd_message)
    //console.log('edd_preview_design => '+edd_preview_design)
    }
    else if(check_edd__in_out_stock_all_c.length > 0){
    edd_preview_design = check_edd__in_out_stock_all_c[0].preview_design;
    edd_message = check_edd__in_out_stock_all_c[0].message;
    set_specific_msg = 1;
    checkSpecificMsgFor(edd_rule_type);
    //console.log('message => '+edd_message)
    //console.log('edd_preview_design => '+edd_preview_design)
    }
    else if(check_edd_both_edd_all_c.length > 0){
    edd_preview_design = check_edd_both_edd_all_c[0].preview_design;
    edd_message = check_edd_both_edd_all_c[0].message;
    set_specific_msg = 1;
    checkSpecificMsgFor(edd_rule_type);
    //console.log('message => '+edd_message)
    //console.log('edd_preview_design => '+edd_preview_design)
    }

    
  
  }

   function checkSpecificMsgFor(edd_rule_type){
    if(edd_rule_type == 'product'){
      is_set_msg_for_product = '1';
    }
    if(edd_rule_type == 'collection'){
      is_set_msg_for_collection = '1';
    }
    if(edd_rule_type == 'tag'){
      is_set_msg_for_product_tag = '1';
    }
    if(edd_rule_type == 'vendor'){
      is_set_msg_for_product_vendor = '1';
    }
    if(edd_rule_type == 'all_product'){
      is_set_msg_for_all_product = '1';
    }
  }
</script><style> @media only screen and (max-width: 768px) {.pageheader .logo .logo__image {width: 100px; }} </style>
<div id="shopify-block-AdzRaWlFJaksyTXdob__1626193551103621034" class="shopify-block shopify-app-block">






<script>
console.log(
  "%c████████████ COD King ████████████",
  "font-weight: bold; font-size: 14px; background: red; color: white; padding: 4px 8px; border-radius: 4px;"
);

const ROUTE_URL_RAW = "https://cod-king-6a9766d9c49f.herokuapp.com/";
const ROUTE_URL = (ROUTE_URL_RAW && ROUTE_URL_RAW.trim() !== '' && ROUTE_URL_RAW !== "https://cod-king-6a9766d9c49f.herokuapp.com/") 
  ? ROUTE_URL_RAW 
  : "https://cod-king-6a9766d9c49f.herokuapp.com/";
// : "https://schemes-away-proven-third.trycloudflare.com/";

/**
 * Get DEBUG flag from settings dynamically
 * Falls back to false if settings not available
 */
const getDebugFlag = () => {
  try { const s = JSON.parse(sessionStorage.getItem("settingSession") || "{}"); const d = s?.debug ?? s?.DEBUG; return d === true || d === 1 || String(d).toLowerCase() === "true"; } catch { return false; }
};

const codkLog = (msg, ...args) => {
  if (getDebugFlag()) {
    console.log(`[app-embed.liquid] ${msg}`, ...args);
  }
};

window.codkingRouteUrl = ROUTE_URL;
codkLog("✅ ROUTE_URL exposed to window:", ROUTE_URL);

// ============================================
// COMMON BUTTON BLOCKING INFRASTRUCTURE
// ============================================
const COD_BUTTON_SELECTORS = {
  BUY_NOW: [
    'button[name="buy"]',
    "button.buy-now",
    '.quick-buy button[name="buy"]',
    ".quick-buy button.buy-now",
    ".shopify-payment-button__button",
    "div.wallet-button-fade-in button.shopify-payment-button__button",
    "button[class*='shopify-payment-button__button']",
    "button[class*='shopify-payment-button__button--unbranded']",
    "button[class*='shopify-payment-button']",
    "button[class*='shopify-buy-it-now-button']",
    "button[class*='buy-it-now']",
    "button[class*='shop-now-btn']",
    "button[class*='buy-now-btn']",
    "button[class*='pay-now-btn']",
    ".buy-now",
    "#buyNow",
    ".aod_buy_button",
    "a[class*='buy-now']",
    ".ecom-product-single__buy_it_now_btn--checkout",
    ".codk-buy-now",
  ],
  CART_DRAWER: [
    ".cart-drawer-checkout",
    ".cart-drawer-buy-now",
    "#CartDrawer-Checkout",
    "#mu-checkout-button",
    ".button-checkout",
    "#cart-sidebar-checkout",
    ".cart--checkout__button",
    ".cart__checkout",
    ".amtCartDrawer__footer__btnCheckout amtCartDrawer__button",
    ".rebuy-button",
    ".codk-cart-drawer",
    "#opus-checkout-btn",
    ".opus-btn-checkout",
    ".cd-checkout-section-button",
    ".js-cart-btn-checkout",
    "button[name='checkout']",
    // Fluco/Color drawer checkout button selectors
    ".cart-checkout-button",
    "button.cart-checkout-button",
    "#checkout",
    "button#checkout",
  ],
  CART_CHECKOUT: [
    "input[name='checkout']",
    "button[name='checkout']",
    "button[id='cart-checkout']",
    "button[id='cart-sidebar-checkout']",
    "button[class='mr-popup-offer-actions__checkout-button']",
    "div[class~='shopify-payment-button']",
    "a[class~='cart-checkout-button']",
    "button[name='checkout2']",
    "dropdown-site-header__cart",
    "button[class='rebuy-button']",
    ".codk-cart-checkout",
    ".picky-cart__button",
    ".xb_slide_cart_button_checkout",
    ".t4s-btn__checkout",
    ".bls-btn-checkout",
    "#CartDrawer-Checkout",
    ".wc-proceed-to-checkout",
    ".kaktusc-cart__checkout",
    ".easc-checkoutBtn",
    ".cart__ctas",
    "#corner-cowi-cart-summary-card-cta-button",
    ".tpo-btn-checkout",
    "#mu-checkout-button",
    "#monster-upsell-cart",
    "#checkoutOriginal",
    "overlay-dynamic_buy_button"
  ],
};

const COD_CART_DRAWER_LAYOUT = [
  ".cart-drawer",
  "#halo-cart-sidebar",
  ".halo-cart-sidebar",
  "#cart-drawer-container",
  "#shopify-section-cart-drawer",
  "#mini-cart-drawer",
  "#mini-cart",
  ".mini-cart",
  ".saanj-cart-drawer",
  "#sidebar-cart-saanj",
  "#CartDrawer",
  ".dropdn-modal-minicart",
  "#dropdnMinicartPopup",
  ".quick-buy-drawer",
  "#quick-buy-drawer",
  "#sidebar-cart",
  "#CartContainer",
  "#js-minicart",
  "#mini-product-item",
  ".popup-cart",
  "#cart-notification",
  ".js-drawer",
  ".quick-add-modal",
  ".menu-opening",
  ".quick-cart__container",
  ".purchase-confirmation-popup",
  ".icart-cart-main",
  ".minicart__wrapper",
  ".amtCartDrawer",
  "#rebuy-cart",
  // Fluco/Color drawer selectors
  "dialog[data-fluco-dialog='cartDrawer']",
  "dialog.color-drawer",
  "dialog.drawer",
  "cart-drawer",
  "drawer-inner",
  "[data-fluco-dialog='cartDrawer']",
  "m6pn"
];

/**
 * Get cart drawer selectors including custom ones from settings
 * Matches cartDrawerManager.js getCartDrawerLayouts() logic
 */
const getCartDrawerLayouts = function() {
  try {
    const settingsStr = sessionStorage.getItem("settingSession");
    if (!settingsStr) {
      codkLog("📋 No settings in sessionStorage, using default cart drawer layouts");
      return COD_CART_DRAWER_LAYOUT;
    }
    
    const settings = JSON.parse(settingsStr);
    const preV2CartDrawerLayoutSelectors = settings?.preV2CartDrawerLayoutSelectors;
    
    if (preV2CartDrawerLayoutSelectors) {
      const customSelectors = preV2CartDrawerLayoutSelectors
        .split(",")
        .map(function(s) { return s.trim(); })
        .filter(Boolean);
      
      codkLog("📋 Found custom cart drawer selectors in settings:", customSelectors.length, "selectors");
      return COD_CART_DRAWER_LAYOUT.concat(customSelectors);
    }
    
    codkLog("📋 No custom cart drawer selectors in settings, using default layouts");
    return COD_CART_DRAWER_LAYOUT;
  } catch (e) {
    codkLog("⚠️ Error getting cart drawer layouts from settings:", e);
    return COD_CART_DRAWER_LAYOUT;
  }
};

const initButtonBlocking = function(options = {}) {
  const {
    clickHandler,
    enableCartDrawerObs = false,
    log = () => {}
  } = options;

  if (!clickHandler || typeof clickHandler !== 'function') {
    console.error("❌ initButtonBlocking: clickHandler is required and must be a function");
    return null;
  }

  // Store the click handler on window
  window.codkblockListener = clickHandler;

  const observeButtons = function() {
    Object.keys(COD_BUTTON_SELECTORS).forEach(function(key) {
      const selectors = COD_BUTTON_SELECTORS[key];
      selectors.forEach(function(selector) {
        document.querySelectorAll(selector).forEach(function(button) {
          if (!button.disabled) {
            button.addEventListener("click", window.codkblockListener, true);
            button.setAttribute("codk-data-event-listener", "true");
            codkLog("   🔒 Attached to:", selector);
          } else {
            const observer = new MutationObserver(function(mutationsList, observer) {
              mutationsList.forEach(function(mutation) {
                if (mutation.attributeName === "disabled" && !button.disabled) {
                  button.addEventListener("click", window.codkblockListener, true);
                  button.setAttribute("codk-data-event-listener", "true");
                  codkLog("   🔒 Attached to newly-enabled:", selector);
                  observer.disconnect();
                }
              });
            });
            observer.observe(button, { attributes: true });
          }
        });
      });
    });
  };

  const removeButtonListeners = function() {
    Object.keys(COD_BUTTON_SELECTORS).forEach(function(key) {
      const selectors = COD_BUTTON_SELECTORS[key];
      selectors.forEach(function(selector) {
        document.querySelectorAll(selector).forEach(function(button) {
          button.removeEventListener("click", window.codkblockListener, true);
          button.removeEventListener(
            "click",
            typeof window.popupEventListener === "function"
              ? window.popupEventListener
              : null,
            true
          );
          button.removeAttribute("data-event-listener-attached");
          button.removeAttribute("codk-data-event-listener");
          codkLog("   🔓 Removed listener from:", selector);
        });
      });
    });
  };

  const observeCartDrawer = function() {
    codkLog("🔍 Observing cart drawer containers...");
    
    // Get cart drawer layouts including custom selectors from settings
    const cartDrawerLayouts = getCartDrawerLayouts();
    codkLog("📋 Total cart drawer selectors to observe:", cartDrawerLayouts.length);
    
    cartDrawerLayouts.forEach(function(selector) {
      const cartDrawer = document.querySelector(selector);
      if (cartDrawer) {
        const observer = new MutationObserver(function() {
          codkLog("🔄 Cart drawer changed:", selector, "- re-attaching listeners");
          observeButtons();
        });
        
        observer.observe(cartDrawer, { 
          childList: true,
          subtree: true
        });
        codkLog("✅ Observing:", selector);
      }
    });
  };

  return {
    observeButtons: observeButtons,
    removeButtonListeners: removeButtonListeners,
    observeCartDrawer: observeCartDrawer,
    updateHandler: function(newHandler) {
      if (typeof newHandler === 'function') {
        // Remove old listeners
        removeButtonListeners();
        // Update handler
        window.codkblockListener = newHandler;
        // Re-attach with new handler
        observeButtons();
        codkLog("✅ Button click handler updated");
      }
    }
  };
};

const fetchLightweightSettings = async function() {
  try {
    const existingSettings = sessionStorage.getItem("settingSession");
    if (existingSettings) {
      try {
        const parsed = JSON.parse(existingSettings);
        codkLog("✅ Settings found in sessionStorage - using cached value");
        return parsed;
      } catch (e) {
        codkLog("⚠️ Error parsing cached settings, will fetch fresh:", e);
      }
    }
    
    const shopDomain = window.Shopify?.shop;
    if (!shopDomain) {
      codkLog("⚠️ Shopify shop domain not found");
      return null;
    }
    
    const baseUrl = ROUTE_URL.endsWith("/") ? ROUTE_URL.slice(0, -1) : ROUTE_URL;
    const apiUrl = `${baseUrl}/script/lightweight_settings?domain=${shopDomain}`;
    
    codkLog("🔧 Fetching lightweight settings from:", apiUrl);
    
    const response = await fetch(apiUrl, {
      method: "GET",
      headers: {
        "Content-Type": "application/json",
        Accept: "application/json",
      },
    });
    
    if (!response.ok) {
      throw new Error(`Settings fetch failed: ${response.status}`);
    }
    
    const rawSettings = await response.json();
    codkLog("✅ Lightweight settings fetched successfully");
    
    const settingsData = rawSettings.settings || rawSettings;
    
    sessionStorage.setItem("settingSession", JSON.stringify(settingsData));
    codkLog("✅ Settings stored in sessionStorage");
    
    return settingsData;
  } catch (error) {
    codkLog("❌ Error fetching lightweight settings:", error);
    return null;
  }
};

const initReactApp = function(buttonBlocking, settings) {
  console.log("*****************************");
  console.log("script_react_new.liquid loaded");
  console.log("*****************************");
  
  // Ensure ROUTE_URL is set
  if (typeof window.codkingRouteUrl === 'undefined' || !window.codkingRouteUrl || window.codkingRouteUrl.trim() === '') {
    console.error("❌ ROUTE_URL is empty in initReactApp!");
    if (buttonBlocking) buttonBlocking.removeButtonListeners();
    return;
  }
  
  const ROUTE_URL = window.codkingRouteUrl;
  console.log("✅ web_ux_version is 1 (defaulting to React app), initializing...");
  
  // If buttonBlocking not provided, unblock and exit
  if (!buttonBlocking) {
    console.error("❌ buttonBlocking not provided to initReactApp!");
    return;
  }

  const settingsMap = {
    enable_pre_order_otp: "enablePreOrderOtp",
    otp_wait_time: "otpWaitTimeInCodKSettings",
    max_retries: "maxTriesInCodKSettings",
    country_code_list: "countryCodeList",
    pre_invalid_otp_msg: "wrongOtpText",
    pre_verify_button_label: "verifyBtnText",
    pre_heading: "heading",
    pre_sub_heading: "subHeading",
    pre_send_button_label: "sendBtnText",
    pre_skip_btn_text: "skipBtnText",
    pre_redirect_text: "redirectText",
    pre_show_skip_btn: "showSkipBtn",
    pre_primary_button_color: "prePrimaryButtonColor",
    pre_secondary_button_color: "preSecondaryButtonColor",
    pre_primary_button_font_color: "prePrimaryButtonFontColor",
    pre_secondary_button_font_color: "preSecondaryButtonFontColor",
    pre_whatsapp_button: "preWhatsappButton",
    pre_whatsapp_button_text: "preWhatsappButtonText",
    hide_shipping_method: "hideShippingMethod",
    is_prefilled_address_enabled: "isPrefilledAddressEnabled",
    pre_phone_placeholder: "phonePlaceholder",
    pre_invalid_phone: "invalidPhoneText",
    pre_verify_mobile: "verifyMobileText",
    pre_enter_code: "enterCodeText",
    pre_retry_in: "retryInText",
    pre_resend: "resendText",
    pre_failed_to_verify: "failedToVerifyText",
    pre_verifying: "verifyingText",
    pre_too_many: "tooManyAttemptsText",
    pre_is_new_design_enabled: "isNewDesignEnabled",
    pre_v2_title: "preV2Title",
    store_front_token: "storeFrontToken",
    pre_is_login_enabled: "preIsLoginEnabled",
    pre_v2_theme: "preV2Theme",
    pre_v2_show_order_summary: "preV2ShowOrderSummary",
    partial_payment_enabled: "partialPaymentEnabled",
    debug: "debug",
    pre_email_mandatory: "preEmailMandatory",
    pre_geo_countries: "preGeoCountries",
    pre_show_branding: "preShowBranding",
    pre_v2_show_send_code: "preV2ShowSendCode",
    pre_v2_partial_tax_text: "preV2PartialTaxText",
    variant_pick_condition:"variantPickCondition",
    brand_logo_url: "brandLogoUrl",
    quick_onboarding_visited: "quickOnboardingVisited",
    user_journey:  "userJourney",
    pre_v2_overwrite_popup_condition: "preV2OverwritePopupCondition",
    pre_v2_cart_drawer_layout_selectors: "preV2CartDrawerLayoutSelectors",
    partial_payment_flow_version:"partialPaymentFlowVersion",
    routeUrl: "routeUrl",
    shopDomain: "shopDomain",
    promo_banner_show: "promoBannerShow",
    promo_banner_text: "promoBannerText",
    promo_banner_color: "promoBannerColor",
  };

  (function () {
    if (window.COD_OTP_BOX_LOADED) {
      return;
    } else {
      window.COD_OTP_BOX_LOADED = true;
    }

    const DEBUG_MODE = false;
    const debugLog = (...args) => {
      if (DEBUG_MODE == "true") {
        console.log(...args);
      }
    };

    // React-specific click handler
    const handleBlockButtonClick = (e) => {
      debugLog("Checkout button blocked by extension");
      e.preventDefault();
      e.stopPropagation();
    };
    
    // Replace generic handler with React-specific handler
    if (buttonBlocking) {
      buttonBlocking.updateHandler(handleBlockButtonClick);
    }

    const disableNormalCheckout = () => {
      debugLog("Disabling normal checkout buttons from extension...");
      if (buttonBlocking) {
        buttonBlocking.observeButtons();
      }
    };

    const enableNormalCheckout = () => {
      debugLog("Enabling normal checkout buttons...");
      if (buttonBlocking) {
        buttonBlocking.removeButtonListeners();
      }
    };

   

    const initProductHiding = () => {
    const hideProducts = () => {
      document.querySelectorAll('.product__card, .gitem, .grid_bx, .product-item, .grid-view-item').forEach(card => {
        const title = card.querySelector('.product__card-title--link, .grid_title a, .grid-view-item__title, .product-title a');
        const handle = card.querySelector('[data-product-handle], [data-json-product]');
        
        if (
          title?.textContent?.includes('Partial Payment') ||
          title?.href?.includes('partial-payment') ||
          handle?.getAttribute('data-product-handle')?.includes('partial-payment') ||
          handle?.getAttribute('data-json-product')?.includes('Partial Payment')
        ) {
          card.style.display = 'none';
        }
      });
    };
    
    hideProducts();
    
    const observer = new MutationObserver(hideProducts);
    observer.observe(document.body, { childList: true, subtree: true });
  };

    const callPartialRuleSets = async () => {
      try {
        const shopifyDomain = window.Shopify.shop;
        const response = await fetch(
          `${ROUTE_URL}order_confirmations/partial_rule_sets?shopifyDomain=${shopifyDomain}`,
          {
            method: "GET",
            headers: {
              "Content-Type": "application/json",
            },
          }
        );

        if (response.ok) {
          const data = await response.json();
          const filteredRuleSets =
            data?.rule_sets?.filter((rule) => rule.is_cart_rule === true) || [];

          debugLog("Filtered Partial Rule Sets:", filteredRuleSets);

          sessionStorage.setItem("ruleSets", JSON.stringify(filteredRuleSets));

          return data;
        } else {
          console.error(
            "Failed to fetch Partial Rule Sets:",
            response.statusText
          );
          throw new Error("Error fetching Partial Rule Sets.");
        }
      } catch (error) {
        console.error("Error fetching Partial Rule Sets:", error);
        throw error;
      }
    };

    const fetchSettings = async () => {
      try {
        debugLog("inside fetchSettings");
        const response = await fetch(
          `${ROUTE_URL}script/lightweight_settings?domain=${window.Shopify.shop}`
        );
        debugLog("response from extension", response);

        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        const newSettings = await response.json();
        debugLog("fetchSettings", newSettings);

        return newSettings;
      } catch (error) {
        console.error("Error fetching settings:", error);
        enableNormalCheckout();
        return null;
      }
    };

    function loadScript() {
      debugLog("Loading script from extension...");

      const script = document.createElement("script");
      script.src = `${ROUTE_URL}script/script_react_new.js`;

      script.async = false;
      const head = document.getElementsByTagName("head")[0];
      head.insertBefore(script, head.lastChild);
    }

    function getVerifiedNumberFromSessionStorage(key) {
      try {
        const jsonString = sessionStorage.getItem(key);
        if (!jsonString) {
          return null;
        }
        return JSON.parse(jsonString);
      } catch (error) {
        console.error(
          "Error retrieving verified number from sessionStorage:",
          error
        );
        return null;
      }
    }
    const mapSettings = (responseData = {}) => {
      const source = responseData?.settings || responseData || {};
      const mapped = {};
      const camelKeys = new Set(Object.values(settingsMap));

      Object.entries(settingsMap).forEach(([apiKey, stateKey]) => {
        if (apiKey in source) {
          mapped[stateKey] = source[apiKey];
        } else if (stateKey in source) {
          mapped[stateKey] = source[stateKey];
        }
      });

      Object.entries(source).forEach(([key, value]) => {
        if (key in settingsMap) {
          return;
        }
        if (!camelKeys.has(key)) {
          mapped[key] = value;
        } else if (!(key in mapped)) {
          mapped[key] = value;
        }
      });

      return mapped;
    };

    const observePreOrderOTPEnabled = () => {
      try {
        disableNormalCheckout();
        const sessionStorageData = JSON.parse(
          sessionStorage.getItem("settingSession")
        );
        const isLoginFLowEnabled = sessionStorageData?.preIsLoginEnabled || false;
        const isPreOrderOtpEnabled =
          sessionStorageData?.enablePreOrderOtp || false;
        const isPartialPaymentEnabled =
          sessionStorageData?.partialPaymentEnabled || false;

        if (isLoginFLowEnabled) {
          debugLog("Login flow is enabled → enabling normal checkout.");
          enableNormalCheckout();

          return;
        }

        if (!isPreOrderOtpEnabled && !isPartialPaymentEnabled) {
          debugLog(
            "Both Pre-order OTP and Partial Payment are disabled → enabling normal checkout."
          );
          enableNormalCheckout();

          return;
        }

        debugLog(
          "Either Pre-order OTP or Partial Payment is enabled → keeping checkout disabled."
        );
      } catch (error) {
        console.error("Error checking pre-order OTP status:", error);
        enableNormalCheckout();
      }
    };

    const fetchMachineDetails = async () => {
      try {
        const response = await fetch("https://ipapi.co/json/");
        return response.json();
      } catch (error) {
        console.error("Error fetching machine details:", error);
        localStorage.setItem("defaultCountry", JSON.stringify(""));
        return null;
      }
    };

    const checkDefaultCountry = async () => {
      const settingsStr = sessionStorage.getItem("settingSession");
      if (!settingsStr) return false;

      let settings;
      try {
        settings = JSON.parse(settingsStr);
      } catch (e) {
        console.error("Failed to parse settingSession:", e);
        return false;
      }

      const geoCountriesRaw = settings?.preGeoCountries;
      const geoCountries = (geoCountriesRaw || "")
        .split(",")
        .map((c) => c.trim().toLowerCase())
        .filter(Boolean);

      if (!geoCountriesRaw || geoCountriesRaw.trim() === "") {
        return true;
      }

      let defaultCountry = localStorage.getItem("defaultCountry");
      if (!defaultCountry) {
        try {
          const result = await fetchMachineDetails();
          defaultCountry = (result?.country || "").toLowerCase();
          localStorage.setItem("defaultCountry", JSON.stringify(defaultCountry));
        } catch (err) {
        console.error("Error fetching machine details", err);
        return true;
      }
      } else {
      defaultCountry = JSON.parse(defaultCountry);
      if (defaultCountry === "") {
        return true;
      }
     }
      debugLog(
      "defaultCountry---->",
      defaultCountry,
      geoCountries.includes(defaultCountry)
    );
      return geoCountries.includes(defaultCountry);
    };

    const startOTPObserverIfEligible = async () => {
      const shouldRunOTP = await checkDefaultCountry();
      if (shouldRunOTP) {
        debugLog("observePreOrderOTPEnabled running");
        observePreOrderOTPEnabled();
      } else {
        debugLog("OTP observer skipped due to geo restrictions.");
        enableNormalCheckout();
      }
    };

    try {
      console.log(
        "%c████████████ COD King 2 ████████████",
        "font-weight: bold; font-size: 14px; background: red; color: white; padding: 4px 8px; border-radius: 4px;"
      );
      disableNormalCheckout();
      setTimeout(async function () {
        debugLog("before calling setting from extension");
        let settings;
        const settingsStr = sessionStorage.getItem("settingSession");

        if (!settingsStr) {
          const response = await fetchSettings();
          if (response) {
            const newSettings = mapSettings({
              ...response,
              routeUrl: ROUTE_URL.replace(/\/$/, ""),
              shopDomain: window.Shopify.shop,
            });
            sessionStorage.setItem("settingSession", JSON.stringify(newSettings));
            startOTPObserverIfEligible();
            if (newSettings?.partialPaymentEnabled === true) {
              callPartialRuleSets();
            }
            settings = newSettings;
          } else {
            debugLog("Failed to load settings from server.");
            enableNormalCheckout();
            return;
          }
        } else {
          settings = JSON.parse(settingsStr);
          const needsMigration =
            settings &&
            !("enablePreOrderOtp" in settings) &&
            "enable_pre_order_otp" in settings;
          if (needsMigration) {
            const migratedSettings = mapSettings(settings);
            sessionStorage.setItem(
              "settingSession",
              JSON.stringify(migratedSettings)
            );
            settings = migratedSettings;
          }
          startOTPObserverIfEligible();
          if (settings?.partialPaymentEnabled === true) {
            const ruleSets = JSON.parse(sessionStorage.getItem("ruleSets"));
            if (!ruleSets) {
              callPartialRuleSets();
            }
          }
        }

        if (settings?.partialPaymentEnabled === true) {
          initProductHiding();
        }

        loadScript();
      }, 10);
    } catch (e) {
      debugLog("Error Loading OTP Box, Please reach out to us via chat bubble");
      enableNormalCheckout();
    }
  })();
};

const initSvelteApp = function(buttonBlocking, settings) {
  window.codkInitSvelteApp = () => initSvelteApp(buttonBlocking, settings);
  // Ensure ROUTE_URL is set
  if (typeof window.codkingRouteUrl === 'undefined' || !window.codkingRouteUrl || window.codkingRouteUrl.trim() === '') {
    console.error("❌ ROUTE_URL is empty in initSvelteApp!");
    if (buttonBlocking) buttonBlocking.removeButtonListeners();
    return;
  }
  
  const ROUTE_URL = window.codkingRouteUrl;
  const DEBUG = true;
  const codkLog = (msg, ...args) => {
    if (DEBUG) console.log(`[notifik_svelte.liquid] ${msg}`, ...args);
  };
  codkLog("***************************** notifik_svelte.liquid loaded (SKELETON) *****************************");
  codkLog("✅ web_ux_version is 2, initializing Svelte app");
  
  // If buttonBlocking not provided, unblock and exit
  if (!buttonBlocking) {
    console.error("❌ buttonBlocking not provided to initSvelteApp!");
    return;
  }

  const isMobile = () => {
    const viewportWidth = window.parent && window.parent !== window 
      ? window.parent.innerWidth 
      : window.innerWidth;
    return viewportWidth <= 640;
  };

  const showIframe = (iframe) => {
    if (!iframe) return;
    iframe.setAttribute('data-visible', 'true');
    codkLog("✅ Iframe shown (CSS from Svelte)");
  };

  const hideIframe = (iframe) => {
    if (!iframe) return;
    iframe.setAttribute('data-visible', 'false');
    codkLog("✅ Iframe hidden (CSS from Svelte)");
  };

  if (!window.codkIframeDestroyListenerAdded) {
    window.codkIframeDestroyListenerAdded = true;
    window.addEventListener('message', (event) => {
      if (
        event.data &&
        typeof event.data === 'object' &&
        event.data.type === 'CODK_DESTROY_IFRAME'
      ) {
        const iframeId = event.data.iframeId || 'codk-full-modal-svelte';
        const targetIframe = document.getElementById(iframeId);
        if (targetIframe && targetIframe.parentNode) {
          codkLog("🧹 Removing iframe via CODK_DESTROY_IFRAME message:", iframeId);
          targetIframe.parentNode.removeChild(targetIframe);
        } else {
          codkLog("ℹ️ CODK_DESTROY_IFRAME: iframe not found (maybe already removed)", iframeId);
        }

        const wrapper = document.getElementById('codk-modal-wrapper');
        if (wrapper) {
          wrapper.setAttribute('data-visible', 'false');
          wrapper.style.display = 'none';
        }
        iframe = null;
        window.codkSvelteInitialized = false;
        window.codkingSvelteReady = false;
        window.codkSvelteAppMounted = false;
        setTimeout(() => {
          iframe = ensureIframe();
          if (typeof window.codkInitSvelteApp === "function") {
            window.codkInitSvelteApp();
          }
        }, 50);
      return;
    }

    if (
      event.data &&
      typeof event.data === 'object' &&
      event.data.type === 'CODK_REDIRECT_TO_CHECKOUT'
    ) {
      codkLog("🚀 Received CODK_REDIRECT_TO_CHECKOUT message");
      if (typeof enableNormalCheckout === "function") {
        enableNormalCheckout();
      }
      try {
        window.location.href = "/checkout";
      } catch (redirectError) {
        console.warn("[app-embed.liquid] ⚠️ Parent redirect failed:", redirectError);
      }
      return;
      }
    });
  }

  const ensureIframe = () => {
    let iframeElement = document.getElementById('codk-full-modal-svelte');
    if (!iframeElement) {
      iframeElement = document.createElement('iframe');
      iframeElement.id = 'codk-full-modal-svelte';
      iframeElement.setAttribute('data-visible', 'false');
      document.body.appendChild(iframeElement);
      codkLog("✅ Iframe created (CSS handled by Svelte)", { isMobile: isMobile() });
    } else {
      codkLog("⏸️ Iframe already exists - reusing existing iframe");
    }
    return iframeElement;
  };

  let iframe = ensureIframe();

  if (window.codkSvelteInitialized) {
    codkLog("⏸️ Svelte app already initialized - skipping duplicate initialization");
  } else {
    window.codkSvelteInitialized = true;
    
    const initializeSvelteApp = () => {
      try {
        if (iframe.contentWindow && iframe.contentWindow.codkingSvelteReady) {
          codkLog("⏸️ Svelte app already ready in iframe - skipping initialization");
          return;
        }
        
        try {
          const iframeDoc = iframe.contentWindow.document;
          if (iframeDoc && iframeDoc.body) {
            const existingScript = iframeDoc.querySelector('script[type="module"][src*="notifik_svelte"]');
            if (existingScript) {
              codkLog("⏸️ Script tag already exists in iframe - skipping initialization (app may be loading)");
              return;
            }
          }
        } catch (e) {
          codkLog("⚠️ Could not check iframe document (may not be ready yet):", e.message);
        }
        
        codkLog("🚀 Initializing iframe with Svelte app...");
        
        const iframeDoc = iframe.contentWindow.document;
        iframeDoc.open();
        const bodyStyle = isMobile() 
          ? 'margin:0;padding:0;background:transparent;height:100vh;'
          : 'margin:0;padding:0;background:transparent;height:auto;min-height:100%;';
        const htmlStyle = isMobile()
          ? 'background:transparent;height:100%;'
          : 'background:transparent;height:auto;min-height:100%;';
        iframeDoc.write(
          '<!DOCTYPE html><html style="' + htmlStyle + '"><head><meta charset="UTF-8">' +
          '<meta name="viewport" content="width=device-width, initial-scale=1.0">' +
          '<title>COD King OTP</title>' +
          '<link rel="stylesheet" href="' + ROUTE_URL + 'script/notifik_svelte_css">' +
          '</head>' +
          '<body style="' + bodyStyle + '"><div id="app"></div>' +
          '<script type="module" src="' + ROUTE_URL + 'script/notifik_svelte"><\/script>' +
          '</body></html>'
        );
        iframeDoc.close();
        
        codkLog("✅ Svelte app initialized and loading in background");
        codkLog("🔗 JS URL: " + ROUTE_URL + 'script/notifik_svelte (auto-redirects to latest build)');
      } catch (error) {
        codkLog("❌ ERROR initializing Svelte:", error);
      }
    };

    codkLog("🚀 Pre-loading Svelte app on page load...");
    initializeSvelteApp();
  }

  window.addEventListener('codking-svelte-ready', () => {
    codkLog("✅ Svelte app is ready!");
  });

  let resizeTimeout;
  window.addEventListener('resize', () => {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(() => {
      const iframe = document.getElementById('codk-full-modal-svelte');
      if (iframe && iframe.getAttribute('data-visible') === 'true') {
        const mobile = isMobile();
        if (mobile) {
          try {
            if (iframe.contentWindow && iframe.contentWindow.document) {
              iframe.contentWindow.document.documentElement.style.height = '100%';
              iframe.contentWindow.document.body.style.height = '100vh';
            }
          } catch (e) {
          }
        } else {
          try {
            if (iframe.contentWindow && iframe.contentWindow.document) {
              iframe.contentWindow.document.documentElement.style.height = 'auto';
              iframe.contentWindow.document.documentElement.style.minHeight = '100%';
              iframe.contentWindow.document.body.style.height = 'auto';
              iframe.contentWindow.document.body.style.minHeight = '100%';
            }
          } catch (e) {
          }
        }
        codkLog("✅ Iframe document styles updated on resize", { 
          isMobile: mobile,
          viewportWidth: window.innerWidth
        });
      }
    }, 150);
  });

  codkLog("🔵 TDD Phase 1: Adding button blocking...");
  
  // Use common SELECTORS and CART_DRAWER_LAYOUT from COD_BUTTON_SELECTORS and COD_CART_DRAWER_LAYOUT

  // Include all the rest of the code from notifik_svelte.liquid
  // Due to length, I'll include the key functions inline
  const showSpinner = function() {
    iframe = iframe || document.getElementById('codk-full-modal-svelte');
    if (!iframe) {
      codkLog("❌ Iframe missing when trying to show spinner. Reinitializing...");
      window.codkSvelteInitialized = false;
      if (typeof window.codkInitSvelteApp === "function") {
        window.codkInitSvelteApp();
      }
      return;
    }

    if (!iframe.contentWindow || !iframe.contentWindow.document) {
      codkLog("⚠️ Iframe document unavailable. Reinitializing...");
      window.codkSvelteInitialized = false;
      if (typeof window.codkInitSvelteApp === "function") {
        window.codkInitSvelteApp();
      }
      return;
    }

    codkLog("🔵 TDD Phase 2: Showing spinner (Svelte already loading in background)...");
    
    const iframeDoc = iframe.contentWindow.document;
    const appDiv = iframeDoc.getElementById('app');
    
    if (appDiv) {
      appDiv.innerHTML = 
        '<style>' +
        '* { margin: 0; padding: 0; box-sizing: border-box; }' +
        '#app { position: fixed !important; top: 0 !important; left: 0 !important; width: 100vw !important; height: 100vh !important; display: flex !important; align-items: center !important; justify-content: center !important; background: rgba(0, 0, 0, 0.5) !important; backdrop-filter: blur(3px) !important; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif !important; z-index: 999999 !important; }' +
        '.container { background: white; width: 95vw; height: 90vh; max-width: 450px; max-height: 700px; border-radius: 12px; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); padding: 3rem; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; min-width: 350px; }' +
        '.close-btn { position: absolute; top: 12px; right: 12px; width: 32px; height: 32px; border-radius: 50%; background: #f3f4f6; border: none; color: #6b7280; font-size: 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; }' +
        '.close-btn:hover { background: #e5e7eb; color: #374151; transform: scale(1.05); }' +
        '.spinner { width: 48px; height: 48px; border: 4px solid #f3f4f6; border-top: 4px solid #3b82f6; border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 1.5rem; flex-shrink: 0; }' +
        '@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }' +
        '.message { font-size: 16px; color: #374151; font-weight: 500; text-align: center; min-height: 50px; display: flex; align-items: center; justify-content: center; }' +
        '</style>' +
        '<div class="container">' +
        '<button class="close-btn" onclick="window.parent.postMessage(\'codk-close-modal\', \'*\')">×</button>' +
        '<div class="spinner"></div>' +
        '<div class="message">Processing...</div>' +
        '</div>';
      codkLog("✅ Spinner injected into #app (Svelte keeps loading in background)");
    } else {
      codkLog("❌ #app div not found!");
    }
    
    window.codkScrollY = window.scrollY || 0;
    document.body.style.overflow = 'hidden';
    document.body.style.position = 'fixed';
    document.body.style.width = '100%';
    document.body.style.top = '-' + window.codkScrollY + 'px';
    
    const mobile = isMobile();
    if (mobile) {
      try {
        if (iframe.contentWindow && iframe.contentWindow.document) {
          iframe.contentWindow.document.documentElement.style.height = '100%';
          iframe.contentWindow.document.body.style.height = '100vh';
        }
      } catch (e) {
      }
    } else {
      try {
        if (iframe.contentWindow && iframe.contentWindow.document) {
          iframe.contentWindow.document.documentElement.style.height = 'auto';
          iframe.contentWindow.document.documentElement.style.minHeight = '100%';
          iframe.contentWindow.document.body.style.height = 'auto';
          iframe.contentWindow.document.body.style.minHeight = '100%';
        }
      } catch (e) {
      }
    }
    showIframe(iframe);
    
    codkLog("✅ Spinner shown!");
  };

  const updateMessage = function(message) {
    codkLog("🔵 TDD Phase 3: Updating message to:", message);
    
    const iframeDoc = iframe.contentWindow.document;
    const messageEl = iframeDoc.querySelector('.message');
    if (messageEl) {
      messageEl.innerHTML = message;
      codkLog("✅ Message updated!");
    } else {
      codkLog("❌ Message element not found!");
    }
  };

  const checkSvelteStatus = function() {
    codkLog("🔵 TDD Phase 3: Checking if Svelte is ready...");
    
    if (window.codkingSvelteReady) {
      codkLog("✅ Svelte is ready!");
      updateMessage("");
    } else {
      codkLog("⏳ Svelte is NOT ready yet, showing loading message...");
      updateMessage("Initializing... ⏳");
    }
  };

  const clearSpinner = function() {
    codkLog("🔵 Clearing spinner HTML...");
    try {
      const iframeDoc = iframe.contentWindow.document;
      const appDiv = iframeDoc.getElementById('app');
      if (appDiv) {
        const spinnerContainer = appDiv.querySelector('.container');
        const spinnerStyle = iframeDoc.querySelector('style');
        
        const svelteMounted = iframe.contentWindow && iframe.contentWindow.appStore;
        
        if (spinnerContainer) {
          codkLog("⚠️ Spinner container still present", {
            svelteMounted: !!svelteMounted,
            appDivChildren: appDiv.children.length
          });
          
          if (!svelteMounted) {
            codkLog("⚠️ Svelte not mounted yet, clearing spinner to allow mount...");
            appDiv.innerHTML = '';
            codkLog("✅ Spinner cleared - Svelte can now mount");
          } else {
            codkLog("✅ Svelte is mounted, removing spinner container only...");
            spinnerContainer.remove();
            codkLog("✅ Spinner container removed");
          }
        }
        
        if (spinnerStyle && spinnerStyle.textContent.includes('.container')) {
          spinnerStyle.remove();
          codkLog("✅ Spinner style tag removed");
        }
        
        const computedStyle = iframeDoc.defaultView.getComputedStyle(appDiv);
        if (computedStyle.position === 'fixed' && computedStyle.zIndex === '999999') {
          appDiv.style.cssText = '';
          codkLog("✅ #app spinner styles reset");
        }
        
        if (!spinnerContainer && !spinnerStyle) {
          codkLog("✅ Spinner already cleared by Svelte");
        }
      } else {
        codkLog("⚠️ #app div not found");
      }
    } catch (error) {
      codkLog("⚠️ Error clearing spinner:", error);
    }
  };

  window.addEventListener('codking-svelte-ready', function() {
    codkLog("🎉 TDD Phase 3: Received 'codking-svelte-ready' event!");
    updateMessage("Loaded&nbsp;<strong>notifik-svelte.js</strong>&nbsp;re babuwa 🎉");
    requestAnimationFrame(function() {
      clearSpinner();
      setTimeout(function() {
        clearSpinner();
      }, 50);
    });
  });

  const closeModal = function(isManualClose = true) {
    codkLog("🔵 ========== CLOSING MODAL ==========", { isManualClose });
    
    const iframeElement = document.getElementById('codk-full-modal-svelte');
    if (!iframeElement) {
      codkLog("❌ CRITICAL: iframe element not found!");
      return;
    }
    if (iframeElement !== iframe) {
      codkLog("⚠️ WARNING: iframe variable doesn't match DOM element!");
    }
    
    const scrollY = window.codkScrollY || 0;
    codkLog("🔵 Saved scroll position:", scrollY);
    
    codkLog("🔵 Hiding iframe (CSS from Svelte)...");
    hideIframe(iframe);
    
    document.body.style.removeProperty('overflow');
    document.body.style.removeProperty('position');
    document.body.style.removeProperty('width');
    document.body.style.removeProperty('top');
    document.body.style.removeProperty('height');
    
    if (document.documentElement) {
      document.documentElement.style.removeProperty('overflow');
      document.documentElement.style.removeProperty('position');
      document.documentElement.style.removeProperty('width');
      document.documentElement.style.removeProperty('height');
    }
    
    codkLog("🔵 Body styles cleared");
    
    if (scrollY > 0) {
      window.scrollTo(0, scrollY);
      codkLog("🔵 Scrolled to:", scrollY);
    } else {
      window.scrollTo(0, 0);
      codkLog("🔵 Scrolled to top");
    }
    
    try {
      if (iframe && iframe.contentWindow && iframe.contentWindow.appStore) {
        setTimeout(function() {
          iframe.contentWindow.appStore.update(function(state) {
            return { ...state, isOpen: false };
          });
          codkLog("✅ Svelte modal state updated to closed");
        }, 0);
      }
    } catch (error) {
      codkLog("⚠️ Could not update Svelte store:", error);
    }
    
    if (typeof window.codkIsProcessing !== 'undefined') {
      window.codkIsProcessing = false;
    }
    window.codkScrollY = 0;
    
    codkLog("✅ ========== MODAL CLOSE COMPLETE ==========");
  };

  window.addEventListener('message', function(event) {
    codkLog("🔵 Received message from iframe:", event.data, event.origin);
    
    if (event.data === 'codk-close-modal') {
      codkLog("✅ Received 'codk-close-modal' message - calling closeModal()");
      closeModal(true);
      return;
    }
    
    if (event.data && typeof event.data === 'object' && event.data.type === 'codk-iframe-height') {
      const iframe = document.getElementById('codk-full-modal-svelte');
      if (iframe && iframe.getAttribute('data-visible') === 'true' && !event.data.isMobile) {
        const height = event.data.height;
        const maxHeight = Math.min(height, window.innerHeight * 0.9);
        
        iframe.style.height = maxHeight + 'px';
        codkLog("✅ Updated iframe height from content:", {
          contentHeight: height,
          appliedHeight: maxHeight,
          viewportHeight: window.innerHeight
        });
      }
      return;
    }
    
    codkLog("ℹ️ Ignoring message (not recognized):", event.data);
  });

  if (!window.__codkScrollYDefined) {
    let _codkScrollY = 0;
    Object.defineProperty(window, 'codkScrollY', {
      get: function() { return _codkScrollY; },
      set: function(value) { _codkScrollY = value; },
      configurable: true
    });
    window.__codkScrollYDefined = true;
  }

  function isShopifyBuyNowButton(buttonElement) {
    if (!buttonElement) {
      return false;
    }

    const productButtonSelectors = COD_BUTTON_SELECTORS.BUY_NOW;

    const isBuyNowButton = productButtonSelectors.some(function(selector) {
      return buttonElement.matches(selector);
    });

    const isBuyNowClass =
      buttonElement.classList.contains("shopify-payment-button__button") &&
      buttonElement.classList.contains(
        "shopify-payment-button__button--unbranded"
      );

    const parentElement = buttonElement.closest("shopify-buy-it-now-button");

    const hasBuyNowAttributes =
      parentElement &&
      parentElement.hasAttribute("access-token") &&
      parentElement.hasAttribute("buyer-country") &&
      parentElement.hasAttribute("buyer-currency");

    return isBuyNowButton || isBuyNowClass || hasBuyNowAttributes;
  }

  function checkShopifyBuyNowButtons(clickedButton) {
    if (isShopifyBuyNowButton(clickedButton)) {
      codkLog("🛒 This is a Shopify 'Buy it now' button:", clickedButton);
      return true;
    }

    const buttonSelectors = COD_BUTTON_SELECTORS.BUY_NOW;
    const buttonElement = buttonSelectors
      .map(function(selector) {
        return clickedButton.querySelector(selector);
      })
      .find(function(button) {
        return button && isShopifyBuyNowButton(button);
      });

    if (buttonElement) {
      codkLog("🛒 Found 'Buy it now' button in parent:", buttonElement);
      return true;
    }

    codkLog("ℹ️ This is NOT a Shopify 'Buy it now' button.");
    return false;
  }

  // Geo country check for Svelte app (same logic as React app)
  const checkDefaultCountrySvelte = async function() {
    const settingsStr = sessionStorage.getItem("settingSession");
    if (!settingsStr) {
      codkLog("⚠️ No settingSession found, allowing OTP");
      return true;
    }

    let parsedSettings;
    try {
      parsedSettings = JSON.parse(settingsStr);
    } catch (e) {
      codkLog("❌ Failed to parse settingSession:", e);
      return true;
    }

    const geoCountriesRaw = parsedSettings?.preGeoCountries;
    const geoCountries = (geoCountriesRaw || "")
      .split(",")
      .map(function(c) { return c.trim().toLowerCase(); })
      .filter(Boolean);

    // If no geo restrictions configured, allow OTP
    if (!geoCountriesRaw || geoCountriesRaw.trim() === "") {
      codkLog("ℹ️ No geo restrictions configured, allowing OTP");
      return true;
    }

    let defaultCountry = localStorage.getItem("defaultCountry");
    if (!defaultCountry) {
      try {
        // Fetch machine details to get country
        const response = await fetch("https://api.country.is/");
        const data = await response.json();
        defaultCountry = (data?.country || "").toLowerCase();
        localStorage.setItem("defaultCountry", JSON.stringify(defaultCountry));
        codkLog("🌍 Fetched user country:", defaultCountry);
      } catch (err) {
        codkLog("❌ Error fetching country, allowing OTP:", err);
        return true;
      }
    } else {
      try {
        defaultCountry = JSON.parse(defaultCountry);
      } catch (e) {
        defaultCountry = defaultCountry.toLowerCase();
      }
      if (defaultCountry === "") {
        return true;
      }
    }

    const isAllowed = geoCountries.includes(defaultCountry);
    codkLog("🌍 Geo check - User country:", defaultCountry, "Allowed countries:", geoCountries, "Result:", isAllowed);
    return isAllowed;
  };

  const _codkblockListener = async function(e) {
    e.preventDefault();
    e.stopPropagation();
    codkLog("🛑 Button clicked! (preventDefault called)");
    codkLog("   Button:", e.target.tagName, e.target.className || e.target.id || '(no class/id)');
    
    // Check geo restrictions before opening modal
    const shouldShowOTP = await checkDefaultCountrySvelte();
    if (!shouldShowOTP) {
      codkLog("🚫 OTP blocked due to geo restrictions - enabling normal checkout");
      // Re-enable the original button behavior
      if (buttonBlocking) {
        buttonBlocking.removeButtonListeners();
      }
      // Trigger the original click
      e.target.click();
      return;
    }
    
    const isBuyNowButton = checkShopifyBuyNowButtons(e.target);
    if (isBuyNowButton) {
      codkLog("🛒 Buy Now button detected! Setting cod_king_isBuyNow flag...");
      sessionStorage.setItem('cod_king_isBuyNow', 'true');
      // Note: Variant ID and quantity extraction is handled in Svelte app (cartHydration.js)
    } else {
      sessionStorage.removeItem('cod_king_isBuyNow');
      sessionStorage.removeItem('cod_king_buy_now_variantId');
      sessionStorage.removeItem('cod_king_buy_now_quantity');
    }
    
    if (window.codkingSvelteReady) {
      codkLog("✅ Svelte is ready! Opening modal with phone screen...");
      
      try {
        const iframe = document.getElementById('codk-full-modal-svelte');
        
        if (iframe && iframe.contentWindow && iframe.contentWindow.appStore) {
          codkLog("🔵 Accessing appStore from iframe...");
          
          if (
            iframe.contentWindow.appActions &&
            typeof iframe.contentWindow.appActions.openModal === "function"
          ) {
            codkLog("🔵 Calling appActions.openModal() to open popup");
            iframe.contentWindow.appActions.openModal();
          } else {
            codkLog("⚠️ appActions.openModal not available - falling back to manual store update");
            iframe.contentWindow.appStore.update(function(state) {
              return {
                ...state,
                isOpen: true
              };
            });
          }
          
          window.codkScrollY = window.scrollY || 0;
          document.body.style.overflow = 'hidden';
          document.body.style.position = 'fixed';
          document.body.style.width = '100%';
          document.body.style.top = '-' + window.codkScrollY + 'px';
          
          const mobile = isMobile();
          if (mobile) {
            try {
              if (iframe.contentWindow && iframe.contentWindow.document) {
                iframe.contentWindow.document.documentElement.style.height = '100%';
                iframe.contentWindow.document.body.style.height = '100vh';
              }
            } catch (e) {
            }
          } else {
            try {
              if (iframe.contentWindow && iframe.contentWindow.document) {
                iframe.contentWindow.document.documentElement.style.height = 'auto';
                iframe.contentWindow.document.documentElement.style.minHeight = '100%';
                iframe.contentWindow.document.body.style.height = 'auto';
                iframe.contentWindow.document.body.style.minHeight = '100%';
              }
            } catch (e) {
            }
          }
          showIframe(iframe);
          
          codkLog("✅ Modal opened! (Svelte app will determine correct screen)");
        } else {
          codkLog("❌ appStore not found in iframe!");
          showSpinner();
          checkSvelteStatus();
        }
      } catch (error) {
        codkLog("❌ Error opening modal:", error);
        console.error("Full error:", error);
        showSpinner();
        checkSvelteStatus();
      }
    } else {
      codkLog("⏳ Svelte NOT ready yet, showing loading spinner...");
      
      showSpinner();
      checkSvelteStatus();
      
      const openModalWhenReady = function() {
        codkLog("🎉 Svelte became ready! Opening modal...");
        
        try {
          const iframe = document.getElementById('codk-full-modal-svelte');
          if (iframe && iframe.contentWindow && iframe.contentWindow.appStore) {
            setTimeout(function() {
              iframe.contentWindow.appStore.update(function(state) {
                return {
                  ...state,
                  isOpen: true
                };
              });
              
              const mobile = isMobile();
              if (mobile) {
                try {
                  if (iframe.contentWindow && iframe.contentWindow.document) {
                    iframe.contentWindow.document.documentElement.style.height = '100%';
                    iframe.contentWindow.document.body.style.height = '100vh';
                  }
                } catch (e) {
                }
              } else {
                try {
                  if (iframe.contentWindow && iframe.contentWindow.document) {
                    iframe.contentWindow.document.documentElement.style.height = 'auto';
                    iframe.contentWindow.document.documentElement.style.minHeight = '100%';
                    iframe.contentWindow.document.body.style.height = 'auto';
                    iframe.contentWindow.document.body.style.minHeight = '100%';
                  }
                } catch (e) {
                }
              }
              showIframe(iframe);
              
              codkLog("✅ Modal opened after Svelte loaded!");
            }, 50);
          }
        } catch (error) {
          codkLog("❌ Error opening modal after load:", error);
        }
        
        window.removeEventListener('codking-svelte-ready', openModalWhenReady);
      };
      
      window.addEventListener('codking-svelte-ready', openModalWhenReady);
    }
  };

  // Check settings and unblock if features are disabled (similar to React app's observePreOrderOTPEnabled)
  const checkSettingsAndUnblockIfNeeded = function() {
    try {
      codkLog("🔍 Checking settings to determine if buttons should be unblocked...");
      
      // Use settings passed as parameter, or get from sessionStorage
      const settingsData = settings || (() => {
        try {
          const settingsStr = sessionStorage.getItem("settingSession");
          return settingsStr ? JSON.parse(settingsStr) : null;
        } catch (e) {
          codkLog("⚠️ Error parsing settings from sessionStorage:", e);
          return null;
        }
      })();
      
      if (!settingsData) {
        codkLog("⚠️ No settings available - unblocking buttons (fail-safe)");
        buttonBlocking.removeButtonListeners();
        return;
      }
      
      const isLoginFlowEnabled = settingsData?.preIsLoginEnabled === true || settingsData?.preIsLoginEnabled === "true";
      const isPreOrderOtpEnabled = 
        settingsData?.enablePreOrderOtp === true || 
        settingsData?.enablePreOrderOtp === "true" ||
        settingsData?.enable_pre_order_otp === true ||
        settingsData?.enable_pre_order_otp === "true";
      const isPartialPaymentEnabled = 
        settingsData?.partialPaymentEnabled === true || 
        settingsData?.partialPaymentEnabled === "true" ||
        settingsData?.partial_payment_enabled === true ||
        settingsData?.partial_payment_enabled === "true";
      
      codkLog("📊 Feature flag check:", {
        isLoginFlowEnabled,
        isPreOrderOtpEnabled,
        isPartialPaymentEnabled
      });
      
      if (isLoginFlowEnabled) {
        codkLog("✅ Login flow is enabled → unblocking buttons (allow normal checkout)");
        buttonBlocking.removeButtonListeners();
        return;
      }
      
      if (!isPreOrderOtpEnabled && !isPartialPaymentEnabled) {
       codkLog("✅ Both Pre-order OTP and Partial Payment are disabled → unblocking buttons (allow normal checkout)");
        buttonBlocking.removeButtonListeners();
        return;
      }
      
      // Check if OTP is verified and neither address nor partial payment is enabled
      const isPrefilledAddressEnabled = 
        settingsData?.isPrefilledAddressEnabled === true || 
        settingsData?.isPrefilledAddressEnabled === "true" ||
        settingsData?.is_prefilled_address_enabled === true ||
        settingsData?.is_prefilled_address_enabled === "true";
      
      // Get OTP verification status from session
      const verifiedNumberData = (() => {
        try {
          const verifiedStr = sessionStorage.getItem("verifiedNumberData");
          return verifiedStr ? JSON.parse(verifiedStr) : null;
        } catch (e) {
          return null;
        }
      })();
      const isOtpVerified = !!(verifiedNumberData && verifiedNumberData.isOTPVerified);
      
      codkLog("📊 Additional feature check:", {
        isOtpVerified,
        isPrefilledAddressEnabled,
        isPartialPaymentEnabled
      });
      
      // If OTP is verified AND address is NOT enabled AND partial payment is NOT enabled → unblock
      if (isOtpVerified && !isPrefilledAddressEnabled && !isPartialPaymentEnabled) {
        codkLog("✅ OTP verified, address disabled, partial payment disabled → unblocking buttons (allow normal checkout)");
        buttonBlocking.removeButtonListeners();
        return;
      }
      
      codkLog("🔒 Either Pre-order OTP or Partial Payment is enabled → keeping buttons blocked");
      
      // Replace generic handler with Svelte-specific handler
      buttonBlocking.updateHandler(_codkblockListener);
      
      // Use common button blocking infrastructure
      // Note: Buttons are already blocked by generic handler, but we update the handler
      // and re-observe to ensure Svelte handler is attached
      codkLog("🔒 Updating button handlers to Svelte-specific handler...");
      buttonBlocking.observeButtons();
      buttonBlocking.observeCartDrawer();
      codkLog("✅ Buttons updated with Svelte handler");
      
    } catch (error) {
      codkLog("❌ Error checking settings - unblocking buttons (fail-safe):", error);
      buttonBlocking.removeButtonListeners();
    }
  };
  
  // Check settings and unblock if needed
  checkSettingsAndUnblockIfNeeded();

  codkLog("ROUTE_URL:", ROUTE_URL);
  codkLog("✅ Svelte app initialization complete");
};

(async function() {
  try {
    // STEP 1: Block buttons immediately with generic handler (before settings fetch)
   codkLog("🔒 STEP 1: Blocking all buttons IMMEDIATELY with generic handler...");
    const genericBlockHandler = function(e) {
      e.preventDefault();
      e.stopPropagation();
     codkLog("🛑 Button blocked by generic handler (waiting for app initialization)");
    };
    
    const buttonBlocking = initButtonBlocking({
      clickHandler: genericBlockHandler,
      enableCartDrawerObs: false,
      log: codkLog
    });
    
    if (buttonBlocking) {
      buttonBlocking.observeButtons();
      codkLog("✅ Buttons blocked immediately");
    } else {
      codkLog("⚠️ Failed to initialize button blocking");
    }
    
    // STEP 2: Fetch lightweight settings
    codkLog("🔧 STEP 2: Fetching lightweight settings...");
    const settings = await fetchLightweightSettings();
    
    // If settings fetch failed, unblock buttons and exit
    if (!settings) {
      codkLog("⚠️ Settings fetch failed - unblocking buttons and exiting");
      if (buttonBlocking) {
        buttonBlocking.removeButtonListeners();
      }
      return;
    }
    
    const webUxVersionRaw = settings?.web_ux_version || settings?.webUxVersion || 1;
    // Ensure it's a number for comparison
    const webUxVersion = typeof webUxVersionRaw === 'string' ? parseInt(webUxVersionRaw, 10) : Number(webUxVersionRaw);
    window.codkWebUxVersion = webUxVersion;
    
    console.log("%c📊 web_ux_version:", "font-weight: bold; font-size: 14px; color: blue;", webUxVersion, "(type:", typeof webUxVersion, ")");
    codkLog("📊 web_ux_version:", webUxVersion, "raw:", webUxVersionRaw);

    // STEP 3: Initialize appropriate app (which will handle unblocking if needed)
    if (webUxVersion === 2) {
      codkLog("✅ webUxVersion is 2, initializing Svelte app");
      try {
        if (typeof initSvelteApp === 'function') {
          initSvelteApp(buttonBlocking, settings);
        } else {
          console.error("❌ initSvelteApp is not a function!");
          codkLog("❌ initSvelteApp is not a function!");
          // Unblock on error
          if (buttonBlocking) buttonBlocking.removeButtonListeners();
        }
      } catch (error) {
        console.error("❌ Error calling initSvelteApp:", error);
        codkLog("❌ Error calling initSvelteApp:", error);
        // Unblock on error
        if (buttonBlocking) buttonBlocking.removeButtonListeners();
      }
      
    } else if (webUxVersion === 1) {
      console.log("webUxVersion is 1, loading React app");
      codkLog("✅ webUxVersion is 1, initializing React app");
      try {
        if (typeof initReactApp === 'function') {
          initReactApp(buttonBlocking, settings);
        } else {
          console.error("❌ initReactApp is not a function!");
          codkLog("❌ initReactApp is not a function!");
          // Unblock on error
          if (buttonBlocking) buttonBlocking.removeButtonListeners();
        }
      } catch (error) {
        console.error("❌ Error calling initReactApp:", error);
        codkLog("❌ Error calling initReactApp:", error);
        // Unblock on error
        if (buttonBlocking) buttonBlocking.removeButtonListeners();
      }
    } else {
      // Default to React app if version is not 2
      console.log("webUxVersion is", webUxVersion, "(not 2), defaulting to React app");
      codkLog("✅ webUxVersion is", webUxVersion, "(not 2), defaulting to React app");
      try {
        if (typeof initReactApp === 'function') {
          initReactApp(buttonBlocking, settings);
        } else {
          console.error("❌ initReactApp is not a function!");
          codkLog("❌ initReactApp is not a function!");
          // Unblock on error
          if (buttonBlocking) buttonBlocking.removeButtonListeners();
        }
      } catch (error) {
        console.error("❌ Error calling initReactApp:", error);
        codkLog("❌ Error calling initReactApp:", error);
        // Unblock on error
        if (buttonBlocking) buttonBlocking.removeButtonListeners();
      }
    } 
  } catch (error) {
    codkLog("❌ Error loading settings:", error);
    window.codkWebUxVersion = 1;
    console.log("%c📊 web_ux_version (default):", "font-weight: bold; font-size: 14px; color: orange;", 1);
  }
})();

</script>



<!-- BEGIN app snippet: app_init -->
<script type="text/javascript">
  window.BC_SHOPPING_CART = []
</script><!-- END app snippet -->
<div id="codk-otp-widget-box"></div>


</div></body>
</html>
